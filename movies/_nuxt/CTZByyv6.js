import{_ as k}from"./D-1NZnAu.js";import{g as w}from"./Bz8FWWbC.js";import{E as _,e as y,F as b,o as l,w as C,a as e,c as i,z as o,t as m,_ as $,N as z,r as j,H as M,u as N,J as h,Z as F,$ as I,a0 as L,K as p,L as g}from"./Ck9VlGs8.js";import{F as B}from"./Dw8P0qyA.js";import{u as v}from"./PQilDTwg.js";const D={class:"relative aspect-[4/3] flex items-center justify-center perspective-1000"},S={class:"absolute w-1/2 aspect-[2/3] rounded-lg overflow-hidden bg-theme-selection transform rotate-5 translate-x-12 translate-z-0 group-hover:rotate-12 group-hover:translate-x-16 transition-all duration-500 z-10"},V=["src"],A={key:1,class:"w-full h-full flex items-center justify-center text-theme-textmuted"},E={class:"absolute w-1/2 aspect-[2/3] rounded-lg overflow-hidden bg-theme-selection transform -rotate-5 -translate-x-12 translate-z-10 group-hover:-rotate-12 group-hover:-translate-x-16 transition-all duration-500 z-20"},H=["src"],P={key:1,class:"w-full h-full flex items-center justify-center text-theme-textmuted"},R={class:"absolute w-1/2 aspect-[2/3] rounded-lg overflow-hidden bg-theme-selection transform translate-z-20 group-hover:scale-105 transition-all duration-500 z-30"},T=["src"],U={key:1,class:"w-full h-full flex items-center justify-center text-theme-textmuted"},J={class:"absolute top-0 right-0 px-2.5 py-1 rounded-full glass text-xs font-bold z-40"},K={class:"flex flex-col gap-1"},O={class:"text-lg font-bold text-theme-text group-hover:text-theme-accent transition-colors"},Q={class:"text-sm text-theme-textmuted line-clamp-2 leading-relaxed"},W=_({__name:"CollectionCard",props:{collection:{}},setup(d){const f=d;function u(r){const t=[...r];for(let n=t.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1)),x=t[n];t[n]=t[s],t[s]=x}return t}const c=y(()=>{const r=u(f.collection.movieIds.filter(n=>n.startsWith("tt"))).slice(0,3),t=[];for(let n=0;n<3;n++){const s=r[n];s?t.push(w(s)):t.push(null)}return t});return(r,t)=>{const n=k;return l(),b(n,{to:`/collections/${d.collection.id}`,class:"group flex flex-col gap-8 p-4 rounded-2xl transition-all duration-500"},{default:C(()=>[e("div",D,[e("div",S,[o(c)[2]?(l(),i("img",{key:0,src:o(c)[2],class:"w-full h-full object-cover",loading:"lazy"},null,8,V)):(l(),i("div",A,[...t[0]||(t[0]=[e("div",{class:"i-mdi-movie text-3xl"},null,-1)])]))]),e("div",E,[o(c)[1]?(l(),i("img",{key:0,src:o(c)[1],class:"w-full h-full object-cover",loading:"lazy"},null,8,H)):(l(),i("div",P,[...t[1]||(t[1]=[e("div",{class:"i-mdi-movie text-3xl"},null,-1)])]))]),e("div",R,[o(c)[0]?(l(),i("img",{key:0,src:o(c)[0],class:"w-full h-full object-cover",loading:"lazy"},null,8,T)):(l(),i("div",U,[...t[2]||(t[2]=[e("div",{class:"i-mdi-movie text-4xl"},null,-1)])]))]),e("div",J,m(d.collection.movieIds.length)+" movies ",1)]),e("div",K,[e("h3",O,m(d.collection.name),1),e("p",Q,m(d.collection.description),1)])]),_:1},8,["to"])}}}),Z=Object.assign($(W,[["__scopeId","data-v-3739e650"]]),{__name:"CollectionCard"}),q={class:"md:ml-16"},G={class:"px-4 lg:px-[6%] py-8"},X={class:"mb-10 flex flex-col md:flex-row md:items-start md:justify-between gap-4 md:gap-6"},Y={class:"flex-1"},ee={key:0,class:"mt-3 text-sm text-theme-textmuted"},te={key:1,class:"mt-3 text-sm text-theme-textmuted"},se={key:0,class:"relative w-full md:w-64 md:flex-shrink-0"},oe={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},le={key:1,class:"flex flex-col items-center justify-center py-20 text-center"},ne={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},me=_({__name:"index",setup(d){const{isLoading:f,collections:u}=z(v()),{loadCollections:c}=v(),r=j(""),t=y(()=>{const n=Array.from(u.value.values()).filter(a=>a.enabled!==!1);return r.value.trim()?new B(n,{keys:[{name:"name",weight:2},{name:"description",weight:1},{name:"tags",weight:1.5}],threshold:.3,ignoreLocation:!0}).search(r.value).map(a=>a.item):n.filter(a=>a.enabled!==!1)});return M(()=>{c()}),N({title:"Collections - Movies Deluxe",meta:[{name:"description",content:"Curated movie collections from Movies Deluxe."}]}),(n,s)=>{const x=Z;return l(),i("main",q,[e("div",G,[e("div",X,[e("div",Y,[s[2]||(s[2]=e("h1",{class:"text-3xl font-black text-theme-text mb-2 tracking-tight"},"Collections",-1)),s[3]||(s[3]=e("p",{class:"text-theme-textmuted max-w-2xl leading-relaxed"}," Curated sets of movies organized by theme, actor, or genre. ",-1)),o(r)&&o(t).length===0?(l(),i("div",ee,' No collections found matching "'+m(o(r))+'" ',1)):o(r)?(l(),i("div",te," Found "+m(o(t).length)+" collection"+m(o(t).length===1?"":"s"),1)):h("",!0)]),o(u).size>0?(l(),i("div",se,[s[5]||(s[5]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("div",{class:"i-mdi-magnify text-lg text-theme-textmuted"})],-1)),F(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>L(r)?r.value=a:null),type:"text",class:"block w-full pl-10 pr-10 py-2 bg-theme-surface/50 border border-theme-border/50 focus:border-theme-primary rounded-full text-sm text-theme-text placeholder-theme-textmuted focus:outline-none transition-all focus:bg-theme-surface",placeholder:"Search..."},null,512),[[I,o(r)]]),o(r)?(l(),i("button",{key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:s[1]||(s[1]=a=>r.value="")},[...s[4]||(s[4]=[e("div",{class:"i-mdi-close text-base text-theme-textmuted hover:text-theme-text transition-colors"},null,-1)])])):h("",!0)])):h("",!0)]),o(f)?(l(),i("div",oe,[(l(),i(p,null,g(4,a=>e("div",{key:a,class:"h-64 rounded-2xl bg-theme-surface border border-theme-border/50 animate-pulse"})),64))])):o(u).size===0?(l(),i("div",le,[...s[6]||(s[6]=[e("div",{class:"i-mdi:movie-roll text-6xl text-theme-textmuted mb-4 opacity-20"},null,-1),e("h3",{class:"text-xl font-bold text-theme-text mb-2"},"No collections found",-1),e("p",{class:"text-theme-textmuted"},"Check back later for curated movie collections.",-1)])])):(l(),i("div",ne,[(l(!0),i(p,null,g(o(t),a=>(l(),b(x,{key:a.id,collection:a},null,8,["collection"]))),128))]))])])}}});export{me as default};
