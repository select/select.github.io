import{_ as F}from"./LRFP58BA.js";import{E as z,R as K,e as W,c,o as n,a as e,b as p,L as g,w as v,P as r,z as t,G as I,H as j,Q as B,r as $,J as G,k as P,M as E,F as H,t as M,a0 as L,au as U,aq as Q,S as X,n as q,d as N,N as D,a8 as S,a2 as J,av as Y,_ as Z,a4 as ee,a5 as te,am as R,ac as se}from"./B1tWgybf.js";import{i as le}from"./BH85bPq3.js";import{u as oe}from"./B1yAo5KG.js";const ae={class:"transition-all duration-300"},ne={key:0,class:"text-base md:text-lg text-theme-textmuted mt-2 max-w-2xl transition-opacity duration-300"},ie=z({__name:"MovieHeader",setup(k){const u=K(),h=W(()=>u.path==="/"||u.path.startsWith("/collections")||u.path.startsWith("/liked")||u.path.startsWith("/search"));return(f,o)=>{const d=F;return n(),c("header",ae,[e("div",{class:r(["md:ml-16 max-w-none mx-auto px-4 flex lg:flex-row flex-col lg:items-end justify-between gap-8",{"py-6 md:py-10 lg:px-[6%]":t(h),"py-3":!t(h)}])},[p(d,{to:"/",class:"grow"},{default:v(()=>[e("div",{class:r(["w-full i-app-logo text-theme-text transition-all duration-300",{" max-w-md h-16":t(h),"max-w-xs h-12":!t(h)}])},null,2)]),_:1}),t(h)&&t(u).path!=="/"?(n(),c("p",ne," Free legal movie streams from Archive.org and YouTube ")):g("",!0)],2)])}}}),re=Object.assign(ie,{__name:"MovieHeader"}),de={class:"hidden md:block fixed left-4 top-1/2 -translate-y-1/2 z-40 glass shadow-2xl rounded-full w-12 border-theme-border/30"},ce={class:"flex flex-col items-center gap-2 py-2"},me={key:0,class:"absolute top-0 -right-1 bg-theme-accent text-white text-xs rounded-full size-4 flex items-center justify-center font-medium"},ue={key:0,class:"i-material-symbols-light-wb-sunny text-xl"},he={key:1,class:"i-material-symbols-light-dark-mode text-xl"},pe={class:"md:hidden fixed bottom-6 left-1/2 -translate-x-1/2 z-50 glass shadow-2xl rounded-full h-14 border-theme-border/30 max-w-[calc(100vw-2rem)] flex items-center group/sidebar"},xe={key:0,class:"absolute -top-1 -right-1 bg-theme-accent text-white text-xs rounded-full size-5 flex items-center justify-center font-medium"},fe={key:0,class:"i-material-symbols-light-wb-sunny text-2xl"},be={key:1,class:"i-material-symbols-light-dark-mode text-2xl"},ve=z({__name:"AppSidebar",emits:["openThemeSelection"],setup(k,{emit:u}){const h=u,f=I(),{likedCount:o}=j(f),d=B(),{setSearchOpen:x}=d,{isDark:m}=j(d),s=K(),w=$(!1),y=$(null),C=$(!1),A=$(!1),T=()=>{if(!y.value)return;const{scrollLeft:l,scrollWidth:a,clientWidth:b}=y.value;C.value=l>5,A.value=l+b<a-5};G(()=>{w.value=le(),T(),window.addEventListener("resize",T)}),P(()=>{window.removeEventListener("resize",T)});const O=()=>{h("openThemeSelection")},_=l=>{if(!y.value)return;const a=100;y.value.scrollBy({left:l==="left"?-a:a,behavior:"smooth"})},i=async()=>{s.path!=="/search"&&await L("/search"),x(!0)};return(l,a)=>{const b=F;return n(),c(E,null,[e("aside",de,[e("div",ce,[p(b,{to:"/",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative group",{"bg-theme-primary/20":t(s).path==="/"}]),title:"Home"},{default:v(()=>[...a[2]||(a[2]=[e("div",{class:"i-mdi-home text-xl"},null,-1)])]),_:1},8,["class"]),p(b,{to:"/search",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative group",{"bg-theme-primary/20":t(s).path==="/search"}]),title:"Search (Shift+S)",onClick:i},{default:v(()=>[e("div",{class:r(["i-mdi-magnify text-xl",{"text-theme-primary":t(s).path==="/search"}])},null,2)]),_:1},8,["class"]),p(b,{to:"/liked",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative group",{"bg-theme-accent/20":t(s).path==="/liked"}]),title:"Liked Movies"},{default:v(()=>[e("div",{class:r(["i-mdi-heart text-xl",{"text-theme-accent":t(s).path==="/liked"}])},null,2),t(o)>0?(n(),c("span",me,M(t(o)>99?"99+":t(o)),1)):g("",!0)]),_:1},8,["class"]),p(b,{to:"/collections",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative group",{"bg-theme-primary/20":t(s).path.startsWith("/collections")}]),title:"Collections"},{default:v(()=>[e("div",{class:r(["i-mdi:movie-roll text-xl",{"text-theme-primary":t(s).path.startsWith("/collections")}])},null,2)]),_:1},8,["class"]),t(w)?(n(),H(b,{key:0,to:"/admin",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative group",{"bg-theme-accent/20":t(s).path.startsWith("/admin")}]),title:"Admin"},{default:v(()=>[e("div",{class:r(["i-mdi-shield-crown text-xl",{"text-theme-accent":t(s).path.startsWith("/admin")}])},null,2)]),_:1},8,["class"])):g("",!0),e("button",{class:"p-2 hover:bg-theme-selection rounded-full transition-colors",title:"Theme Selection",onClick:O},[t(m)?(n(),c("div",ue)):(n(),c("div",he))]),a[3]||(a[3]=e("a",{href:"https://github.com/select/movies-deluxe",target:"_blank",rel:"noopener noreferrer",class:"p-2 hover:bg-theme-selection rounded-full transition-colors",title:"View on GitHub"},[e("div",{class:"i-mdi-github text-xl"})],-1))])]),e("aside",pe,[t(C)?(n(),c("button",{key:0,class:"absolute left-1 z-10 p-1 rounded-full bg-theme-surface/80 backdrop-blur-sm text-theme-textmuted animate-pulse hover:bg-theme-selection transition-colors","aria-label":"Scroll left",onClick:a[0]||(a[0]=V=>_("left"))},[...a[4]||(a[4]=[e("div",{class:"i-mdi-chevron-left text-lg"},null,-1)])])):g("",!0),e("div",{ref_key:"scrollContainer",ref:y,class:"flex items-center gap-1 px-2 h-full overflow-x-auto scrollbar-hidden scroll-smooth",onScroll:T},[p(b,{to:"/search",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative flex-shrink-0",{"bg-theme-primary/20":t(s).path==="/search"}]),"aria-label":"Search",onClick:i},{default:v(()=>[e("div",{class:r(["i-mdi-magnify text-2xl",{"text-theme-primary":t(s).path==="/search"}])},null,2)]),_:1},8,["class"]),p(b,{to:"/",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative flex-shrink-0",{"bg-theme-primary/20":t(s).path==="/"}]),"aria-label":"Home"},{default:v(()=>[...a[5]||(a[5]=[e("div",{class:"i-mdi-home text-2xl"},null,-1)])]),_:1},8,["class"]),p(b,{to:"/liked",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative group flex-shrink-0",{"bg-theme-accent/20":t(s).path==="/liked"}]),"aria-label":"Liked Movies"},{default:v(()=>[e("div",{class:r(["i-mdi-heart text-2xl",{"text-theme-accent":t(s).path==="/liked"}])},null,2),t(o)>0?(n(),c("span",xe,M(t(o)>99?"99+":t(o)),1)):g("",!0)]),_:1},8,["class"]),p(b,{to:"/collections",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative group flex-shrink-0",{"bg-theme-primary/20":t(s).path.startsWith("/collections")}]),"aria-label":"Collections"},{default:v(()=>[e("div",{class:r(["i-mdi:movie-roll text-2xl",{"text-theme-primary":t(s).path.startsWith("/collections")}])},null,2)]),_:1},8,["class"]),t(w)?(n(),H(b,{key:0,to:"/admin",class:r(["p-2 hover:bg-theme-selection rounded-full transition-colors relative group flex-shrink-0",{"bg-theme-accent/20":t(s).path.startsWith("/admin")}]),"aria-label":"Admin"},{default:v(()=>[e("div",{class:r(["i-mdi-shield-crown text-2xl",{"text-theme-accent":t(s).path.startsWith("/admin")}])},null,2)]),_:1},8,["class"])):g("",!0),e("button",{class:"p-2 hover:bg-theme-selection rounded-full transition-colors flex-shrink-0","aria-label":"Theme Selection",onClick:O},[t(m)?(n(),c("div",fe)):(n(),c("div",be))]),a[6]||(a[6]=e("a",{href:"https://github.com/select/movies-deluxe",target:"_blank",rel:"noopener noreferrer",class:"p-2 hover:bg-theme-selection rounded-full transition-colors flex-shrink-0","aria-label":"View on GitHub"},[e("div",{class:"i-mdi-github text-2xl"})],-1))],544),t(A)?(n(),c("button",{key:1,class:"absolute right-1 z-10 p-1 rounded-full bg-theme-surface/80 backdrop-blur-sm text-theme-textmuted animate-pulse hover:bg-theme-selection transition-colors","aria-label":"Scroll right",onClick:a[1]||(a[1]=V=>_("right"))},[...a[7]||(a[7]=[e("div",{class:"i-mdi-chevron-right text-lg"},null,-1)])])):g("",!0)])],64)}}}),ge=Object.assign(ve,{__name:"AppSidebar"}),_e={class:"flex items-center justify-between p-4"},ye={class:"overflow-y-auto scrollbar-thin flex-1 md:h-[calc(100vh-4rem)] p-4"},ke={class:"max-w-7xl mx-auto space-y-6"},we={class:"grid grid-cols-2 sm:grid-cols-3 gap-2"},Ce=["onClick","onMouseenter"],Te={class:"flex items-center justify-between"},Se={class:"text-xs font-semibold truncate"},$e={key:0,class:"i-mdi-check-circle text-theme-primary text-xs"},Me={class:"flex gap-1"},ze={class:"grid grid-cols-2 sm:grid-cols-3 gap-2"},Ae=["onClick","onMouseenter"],Oe={class:"flex items-center justify-between"},Le={class:"text-xs font-semibold truncate"},Ee={key:0,class:"i-mdi-check-circle text-theme-primary text-xs"},Ne={class:"flex gap-1"},We=z({__name:"ThemeMenu",props:{isOpen:{type:Boolean}},emits:["close"],setup(k,{emit:u}){const h=k,f=u,o=B(),{currentThemeId:d}=j(o),{setTheme:x,previewTheme:m}=o,s=U(),w=W(()=>s.filter(_=>_.metadata.variant==="dark")),y=W(()=>s.filter(_=>_.metadata.variant==="light")),C=$(null),A=Q(typeof window<"u"?document.body:null);X(C,()=>{h.isOpen&&f("close")});const{activate:T,deactivate:O}=oe(C,{immediate:!1,allowOutsideClick:!1,escapeDeactivates:!1,returnFocusOnDeactivate:!0,initialFocus:'button[aria-label="Close theme menu"]',fallbackFocus:()=>C.value});return q(()=>h.isOpen,_=>{A.value=_,_?typeof window<"u"&&window.setTimeout(()=>{T()},50):O()}),(_,i)=>(n(),c("div",null,[k.isOpen?(n(),c("div",{key:0,class:"fixed inset-0 z-50 transition-opacity",onClick:i[0]||(i[0]=l=>f("close"))})):g("",!0),e("div",{ref_key:"themeMenuRef",ref:C,class:r(["fixed z-50 transition-all duration-300 ease-in-out glass shadow-2xl overflow-hidden flex flex-col bottom-0 left-0 right-0 rounded-t-2xl border-t border-theme-border/50 max-h-[90vh] md:top-0 md:left-0 md:bottom-0 md:right-auto md:h-full md:w-full md:max-w-xs md:rounded-none md:border-0 md:max-h-full",{"translate-y-0 md:translate-x-0":k.isOpen,"translate-y-full md:translate-y-0 md:-translate-x-full":!k.isOpen}])},[e("button",{class:"md:hidden fixed bottom-6 right-6 w-14 h-14 rounded-full bg-theme-primary text-white shadow-lg hover:opacity-90 transition-all flex items-center justify-center z-[60]","aria-label":"Close theme menu",onClick:i[1]||(i[1]=l=>f("close"))},[...i[5]||(i[5]=[e("div",{class:"i-mdi-close text-2xl"},null,-1)])]),e("div",_e,[i[7]||(i[7]=e("h2",{class:"text-lg font-semibold flex items-center gap-2 text-theme-text"},[e("div",{class:"i-mdi-palette text-xl"}),N(" Theme Selection ")],-1)),e("button",{class:"p-2 hidden md:block hover:bg-theme-selection rounded-full transition-colors text-theme-text","aria-label":"Close theme menu",onClick:i[2]||(i[2]=l=>f("close"))},[...i[6]||(i[6]=[e("div",{class:"i-mdi-close text-xl"},null,-1)])])]),i[10]||(i[10]=e("hr",{class:"mx-4 my-0 border-theme-border/50"},null,-1)),e("div",ye,[e("div",ke,[e("div",null,[i[8]||(i[8]=e("h4",{class:"text-[10px] font-bold uppercase tracking-widest text-theme-textmuted mb-3 flex items-center gap-2"},[e("div",{class:"i-material-symbols-light-dark-mode text-xs"}),N(" Dark Themes ")],-1)),e("div",we,[(n(!0),c(E,null,D(t(w),l=>(n(),c("button",{key:l.metadata.id,class:r(["flex flex-col gap-2 p-2 rounded-xl border-2 transition-all text-left",{"border-theme-primary bg-theme-primary/10":t(d)===l.metadata.id,"border-theme-border/50 hover:border-theme-border bg-theme-surface/50":t(d)!==l.metadata.id}]),onClick:a=>t(x)(l.metadata.id),onMouseenter:a=>t(m)(l.metadata.id),onMouseleave:i[3]||(i[3]=a=>t(m)(null))},[e("div",Te,[e("span",Se,M(l.metadata.name),1),t(d)===l.metadata.id?(n(),c("div",$e)):g("",!0)]),e("div",Me,[e("div",{class:"w-3 h-3 rounded-full border border-black/10",style:S({backgroundColor:l.colors.background})},null,4),e("div",{class:"w-3 h-3 rounded-full border border-black/10",style:S({backgroundColor:l.colors.primary})},null,4),e("div",{class:"w-3 h-3 rounded-full border border-black/10",style:S({backgroundColor:l.colors.accent})},null,4)])],42,Ce))),128))])]),e("div",null,[i[9]||(i[9]=e("h4",{class:"text-[10px] font-bold uppercase tracking-widest text-theme-textmuted mb-3 flex items-center gap-2"},[e("div",{class:"i-material-symbols-light-wb-sunny text-xs"}),N(" Light Themes ")],-1)),e("div",ze,[(n(!0),c(E,null,D(t(y),l=>(n(),c("button",{key:l.metadata.id,class:r(["flex flex-col gap-2 p-2 rounded-xl border-2 transition-all text-left",{"border-theme-primary bg-theme-primary/10":t(d)===l.metadata.id,"border-theme-border/50 hover:border-theme-border bg-theme-surface/50":t(d)!==l.metadata.id}]),onClick:a=>t(x)(l.metadata.id),onMouseenter:a=>t(m)(l.metadata.id),onMouseleave:i[4]||(i[4]=a=>t(m)(null))},[e("div",Oe,[e("span",Le,M(l.metadata.name),1),t(d)===l.metadata.id?(n(),c("div",Ee)):g("",!0)]),e("div",Ne,[e("div",{class:"w-3 h-3 rounded-full border border-black/10",style:S({backgroundColor:l.colors.background})},null,4),e("div",{class:"w-3 h-3 rounded-full border border-black/10",style:S({backgroundColor:l.colors.primary})},null,4),e("div",{class:"w-3 h-3 rounded-full border border-black/10",style:S({backgroundColor:l.colors.accent})},null,4)])],42,Ae))),128))])])])])],2)]))}}),je=Object.assign(We,{__name:"ThemeMenu"}),De={class:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none"},He={class:"flex-1"},Re=["onClick"],Fe={key:0,class:"pointer-events-none text-xs text-gray-400 text-center opacity-60"},Ke=z({__name:"AppToastContainer",setup(k){const{toasts:u,toastQueue:h,removeToast:f}=J(),o=x=>{const m={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600",warning:"bg-yellow-600"};return m[x]||m.info},d=x=>{const m={success:"i-mdi-check-circle text-lg",error:"i-mdi-alert-circle text-lg",info:"i-mdi-information text-lg",warning:"i-mdi-alert text-lg"};return m[x]||m.info};return(x,m)=>(n(),c("div",De,[p(Y,{name:"toast",tag:"div",class:"flex flex-col gap-2",appear:""},{default:v(()=>[(n(!0),c(E,null,D(t(u),s=>(n(),c("div",{key:s.id,class:r(["pointer-events-auto p-3 rounded-lg shadow-lg text-white text-sm flex items-center gap-2 min-w-[300px] max-w-md transform-gpu",o(s.type)])},[e("div",{class:r(d(s.type))},null,2),e("span",He,M(s.message),1),e("button",{class:"p-1 hover:bg-white/20 rounded transition-colors",onClick:w=>t(f)(s.id)},[...m[0]||(m[0]=[e("div",{class:"i-mdi-close text-lg"},null,-1)])],8,Re)],2))),128))]),_:1}),t(h).length>0?(n(),c("div",Fe," +"+M(t(h).length)+" more ",1)):g("",!0)]))}}),Be=Object.assign(Z(Ke,[["__scopeId","data-v-fc8b1e54"]]),{__name:"AppToastContainer"}),Ve={class:"min-h-screen bg-theme-background text-theme-text transition-colors duration-300"},Ie={class:"pb-24 md:pb-0"},Xe=z({__name:"default",setup(k){const u=$(!1),h=ee(),{Escape:f}=h;return f&&te(f,()=>{u.value&&(u.value=!1)}),R("k",o=>{if(o.ctrlKey||o.metaKey){const d=window.document.activeElement;d?.tagName==="INPUT"||d?.tagName==="TEXTAREA"||(o.preventDefault(),L("/search"))}}),R(["s","S","/"],o=>{const d=window.document.activeElement;d?.tagName==="INPUT"||d?.tagName==="TEXTAREA"||((o.key==="s"||o.key==="S")&&!o.ctrlKey&&!o.metaKey&&!o.altKey?(o.preventDefault(),L("/search")):o.key==="/"&&(o.preventDefault(),L("/search")))}),(o,d)=>{const x=re,m=ge,s=je,w=Be;return n(),c("div",Ve,[p(x),p(m,{onOpenThemeSelection:d[0]||(d[0]=y=>u.value=!0)}),p(s,{"is-open":t(u),onClose:d[1]||(d[1]=y=>u.value=!1)},null,8,["is-open"]),e("div",Ie,[se(o.$slots,"default")]),p(w)])}}});export{Xe as default};
