import{_ as h}from"./Deq8uHso.js";import{E as w,X as g,r as s,N as b,a7 as S,G as x,x as r,O as I,u as L,e as m,F as M,z as t,o as B}from"./02OeVUp7.js";import{u as C}from"./CfQ1CYlZ.js";import{u as F}from"./CFWjqK0N.js";import"./B-qhTGpT.js";import"./BqTo6ilz.js";import"./CpTPj9X8.js";import"./BTlOGk9l.js";import"./CZfkSF8C.js";import"./DMOTkeJ5.js";import"./Dw8P0qyA.js";const H=w({__name:"[id]",setup(k){const a=g(),u=C(),p=F(),{fetchMoviesByIds:d,loadFromFile:v}=u,{getCollectionById:f}=p,e=s(null),l=s([]),n=s(!0),{y:_}=b(),c=S("movies-deluxe-collection-scroll",{});return x(async()=>{const o=a.params.id;if(o){n.value=!0;try{await v(),e.value=await f(o),e.value?.movieIds&&e.value.movieIds.length>0&&(l.value=await d(e.value.movieIds)),await r(),await r();const i=c.value[o];i&&i>0&&requestAnimationFrame(()=>{window.scrollTo({top:i,behavior:"instant"})})}catch{}finally{n.value=!1}}}),I(()=>{const o=a.params.id;o&&(c.value[o]=_.value)}),L({title:m(()=>`${e.value?.name||"Collection"} - Movies Deluxe`),meta:[{name:"description",content:m(()=>e.value?.description||"Movie collection.")}]}),(o,i)=>{const y=h;return B(),M(y,{title:t(e)?.name||"Loading...",description:t(e)?.description||"",breadcrumbs:{parentPath:"/collections",parentIcon:"i-mdi:movie-roll",parentLabel:"Collections",currentLabel:t(e)?.name||"Loading..."},movies:t(l),"movie-count":t(e)?.movieIds?.length||0,"is-loading":t(n),"search-placeholder":"Search in collection...","empty-state-icon":"i-mdi-movie-open-outline","empty-state-title":"No movies in this collection","empty-state-description":"This collection is currently empty.","empty-state-button-to":"/","empty-state-button-text":"Browse All Movies"},null,8,["title","description","breadcrumbs","movies","movie-count","is-loading"])}}});export{H as default};
