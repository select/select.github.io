import{_ as j}from"./C6LstfuJ.js";import{a as A,_ as R}from"./BQwCOkrk.js";import{e as D,E,s as Y,m as u,g as q,S as G,f as x,h as H,n as b,i as P,u as W,c as l,a as s,k as v,j as k,b as w,w as S,t as a,l as e,F as $,r as z,o as i,d as C}from"./jDS1ZMRA.js";import{u as J}from"./ZOT-D0lE.js";import{u as K}from"./CxlLLIWN.js";import"./B6qcbtsh.js";import"./BO1FkSe7.js";const O={class:"md:ml-16"},Q={class:"px-4 lg:px-[6%] py-8"},U={class:"flex mb-6 text-sm font-medium text-theme-textmuted"},X={class:"text-theme-text truncate"},Z={key:0,class:"mb-10"},ee={class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},te={class:"flex-1"},oe={class:"text-4xl font-black text-theme-text mb-3 tracking-tight"},se={class:"text-lg text-theme-textmuted max-w-3xl leading-relaxed"},ie={class:"flex flex-col items-start md:items-end gap-2"},le={key:0,class:"px-4 py-2 rounded-xl bg-theme-surface border border-theme-border/50 text-sm font-bold shadow-sm"},ne={key:1,class:"text-xs text-theme-accent font-bold"},ae={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},ce={key:3,class:"flex flex-col items-center justify-center py-20 text-center"},re={class:"text-xl font-bold text-theme-text mb-2"},de={class:"text-theme-textmuted mb-8"},ge=D({__name:"[id]",setup(me){const _=E(),p=J(),F=K(),{applyFilters:M,resetFilters:f,fetchMoviesByIds:B,loadFromFile:I}=p,{hasActiveFilters:c}=Y(p),{getCollectionById:N}=F,o=u(null),h=u([]),d=u(!0),{y:T}=q(),g=G("movies-deluxe-collection-scroll",{}),r=x(()=>M(h.value));return H(async()=>{const n=_.params.id;if(n){d.value=!0;try{await I(),o.value=await N(n),o.value?.movieIds&&o.value.movieIds.length>0&&(h.value=await B(o.value.movieIds)),await b(),await b();const t=g.value[n];t&&t>0&&requestAnimationFrame(()=>{window.scrollTo({top:t,behavior:"instant"})})}catch{}finally{d.value=!1}}}),P(()=>{const n=_.params.id;n&&(g.value[n]=T.value)}),W({title:x(()=>`${o.value?.name||"Collection"} - Movies Deluxe`),meta:[{name:"description",content:x(()=>o.value?.description||"Movie collection.")}]}),(n,t)=>{const y=j,L=R,V=A;return i(),l("main",O,[s("div",Q,[s("nav",U,[w(y,{to:"/collections",class:"hover:text-theme-accent transition-colors flex items-center gap-1"},{default:S(()=>[...t[1]||(t[1]=[s("div",{class:"i-mdi:movie-roll"},null,-1),C(" Collections ",-1)])]),_:1}),t[2]||(t[2]=s("span",{class:"mx-2 opacity-50"},"/",-1)),s("span",X,a(e(o)?.name||"Loading..."),1)]),e(o)?(i(),l("div",Z,[s("div",ee,[s("div",te,[s("h1",oe,a(e(o).name),1),s("p",se,a(e(o).description),1)]),s("div",ie,[e(o)?.movieIds?(i(),l("div",le,a(e(o).movieIds.length)+" movies ",1)):v("",!0),e(c)?(i(),l("div",ne,a(e(r).length)+" matching filters ",1)):v("",!0)])])])):v("",!0),e(d)?(i(),l("div",ae,[(i(),l($,null,z(12,m=>w(L,{key:m})),64))])):e(r)&&e(r).length>0?(i(),k(V,{key:2,movies:e(r),"total-movies":e(o)?.movieIds?.length||0},null,8,["movies","total-movies"])):(i(),l("div",ce,[t[4]||(t[4]=s("div",{class:"i-mdi-movie-open-outline text-6xl text-theme-textmuted mb-4 opacity-20"},null,-1)),s("h3",re,a(e(c)?"No movies match your filters":"No movies in this collection"),1),s("p",de,a(e(c)?"Try adjusting your search or filter criteria.":"This collection is currently empty."),1),e(c)?(i(),l("button",{key:0,class:"px-6 py-2.5 rounded-xl bg-theme-accent text-black font-bold hover:scale-105 transition-transform",onClick:t[0]||(t[0]=(...m)=>e(f)&&e(f)(...m))}," Clear Filters ")):(i(),k(y,{key:1,to:"/",class:"px-6 py-2.5 rounded-xl bg-theme-accent text-black font-bold hover:scale-105 transition-transform"},{default:S(()=>[...t[3]||(t[3]=[C(" Browse All Movies ",-1)])]),_:1}))]))])])}}});export{ge as default};
