import{E as p,c as a,o as l,a6 as C,_ as b,e as k,F as w,w as z,a as e,z as o,t as f,H as $,r as j,J as M,u as N,L as h,T as S,X as I,W as F,M as g,N as _,b as L}from"./BuuAlcLR.js";import{_ as V}from"./KTXrkq0L.js";import{g as B,u as y}from"./DBjnxTjJ.js";import{F as D}from"./Dw8P0qyA.js";const T={class:"flex flex-col gap-8 p-4 rounded-2xl"},A=p({__name:"CollectionCardSkeleton",setup(d){return(x,r)=>(l(),a("div",T,[...r[0]||(r[0]=[C('<div class="relative aspect-[4/3] flex items-center justify-center perspective-1000" data-v-40f8ec84><div class="absolute w-1/2 aspect-[2/3] rounded-lg skeleton transform rotate-5 translate-x-12 z-10" data-v-40f8ec84></div><div class="absolute w-1/2 aspect-[2/3] rounded-lg skeleton transform -rotate-5 -translate-x-12 z-20" data-v-40f8ec84></div><div class="absolute w-1/2 aspect-[2/3] rounded-lg skeleton z-30" data-v-40f8ec84></div><div class="absolute top-0 right-0 w-16 h-6 rounded-full skeleton z-40" data-v-40f8ec84></div></div><div class="flex flex-col gap-2" data-v-40f8ec84><div class="h-6 skeleton rounded-lg w-2/3" data-v-40f8ec84></div><div class="space-y-2" data-v-40f8ec84><div class="h-4 skeleton rounded-lg w-full" data-v-40f8ec84></div><div class="h-4 skeleton rounded-lg w-4/5" data-v-40f8ec84></div></div></div>',2)])]))}}),E=Object.assign(b(A,[["__scopeId","data-v-40f8ec84"]]),{__name:"CollectionCardSkeleton"}),H={class:"relative aspect-[4/3] flex items-center justify-center perspective-1000"},O={class:"absolute w-1/2 aspect-[2/3] rounded-lg overflow-hidden bg-theme-selection transform rotate-5 translate-x-12 translate-z-0 group-hover:rotate-12 group-hover:translate-x-16 transition-all duration-500 z-10"},P=["src"],R={key:1,class:"w-full h-full flex items-center justify-center text-theme-textmuted"},U={class:"absolute w-1/2 aspect-[2/3] rounded-lg overflow-hidden bg-theme-selection transform -rotate-5 -translate-x-12 translate-z-10 group-hover:-rotate-12 group-hover:-translate-x-16 transition-all duration-500 z-20"},W=["src"],J={key:1,class:"w-full h-full flex items-center justify-center text-theme-textmuted"},Q={class:"absolute w-1/2 aspect-[2/3] rounded-lg overflow-hidden bg-theme-selection transform translate-z-20 group-hover:scale-105 transition-all duration-500 z-30"},X=["src"],q={key:1,class:"w-full h-full flex items-center justify-center text-theme-textmuted"},G={class:"absolute top-0 right-0 px-2.5 py-1 rounded-full glass text-xs font-bold z-40"},K={class:"flex flex-col gap-1"},Y={class:"text-lg font-bold text-theme-text group-hover:text-theme-accent transition-colors"},Z={class:"text-sm text-theme-textmuted line-clamp-2 leading-relaxed"},ee=p({__name:"CollectionCard",props:{collection:{}},setup(d){const x=d;function r(i){const t=[...i];for(let n=t.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1)),v=t[n];t[n]=t[s],t[s]=v}return t}const c=k(()=>{const i=r(x.collection.movieIds.filter(n=>n.startsWith("tt"))).slice(0,3),t=[];for(let n=0;n<3;n++){const s=i[n];s?t.push(B(s)):t.push(null)}return t});return(i,t)=>{const n=V;return l(),w(n,{to:`/collections/${d.collection.id}`,class:"group flex flex-col gap-8 p-4 rounded-2xl transition-all duration-500"},{default:z(()=>[e("div",H,[e("div",O,[o(c)[2]?(l(),a("img",{key:0,src:o(c)[2],class:"w-full h-full object-cover",loading:"lazy"},null,8,P)):(l(),a("div",R,[...t[0]||(t[0]=[e("div",{class:"i-mdi-movie text-3xl"},null,-1)])]))]),e("div",U,[o(c)[1]?(l(),a("img",{key:0,src:o(c)[1],class:"w-full h-full object-cover",loading:"lazy"},null,8,W)):(l(),a("div",J,[...t[1]||(t[1]=[e("div",{class:"i-mdi-movie text-3xl"},null,-1)])]))]),e("div",Q,[o(c)[0]?(l(),a("img",{key:0,src:o(c)[0],class:"w-full h-full object-cover",loading:"lazy"},null,8,X)):(l(),a("div",q,[...t[2]||(t[2]=[e("div",{class:"i-mdi-movie text-4xl"},null,-1)])]))]),e("div",G,f(d.collection.movieIds.length)+" movies ",1)]),e("div",K,[e("h3",Y,f(d.collection.name),1),e("p",Z,f(d.collection.description),1)])]),_:1},8,["to"])}}}),te=Object.assign(b(ee,[["__scopeId","data-v-3739e650"]]),{__name:"CollectionCard"}),se={class:"md:ml-16"},le={class:"px-4 lg:px-[6%] py-8"},oe={class:"mb-10 flex flex-col md:flex-row md:items-start md:justify-between gap-4 md:gap-6"},ne={class:"flex-1"},ae={key:0,class:"mt-3 text-sm text-theme-textmuted"},ie={key:1,class:"mt-3 text-sm text-theme-textmuted"},re={key:0,class:"relative w-full md:w-64 md:flex-shrink-0"},ce={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},de={key:1,class:"flex flex-col items-center justify-center py-20 text-center"},ue={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},he=p({__name:"index",setup(d){const{isLoading:x,collections:r}=$(y()),{loadCollections:c}=y(),i=j(""),t=k(()=>{const n=Array.from(r.value.values()).filter(u=>u.enabled!==!1);return i.value.trim()?new D(n,{keys:[{name:"name",weight:2},{name:"description",weight:1},{name:"tags",weight:1.5}],threshold:.3,ignoreLocation:!0}).search(i.value).map(u=>u.item):n.filter(u=>u.enabled!==!1)});return M(()=>{c()}),N({title:"Collections - Movies Deluxe",meta:[{name:"description",content:"Curated movie collections from Movies Deluxe."}]}),(n,s)=>{const v=E,u=te;return l(),a("main",se,[e("div",le,[e("div",oe,[e("div",ne,[s[2]||(s[2]=e("h1",{class:"text-3xl font-black text-theme-text mb-2 tracking-tight"},"Collections",-1)),s[3]||(s[3]=e("p",{class:"text-theme-textmuted max-w-2xl leading-relaxed"}," Curated sets of movies organized by theme, actor, or genre. ",-1)),o(i)&&o(t).length===0?(l(),a("div",ae,' No collections found matching "'+f(o(i))+'" ',1)):o(i)?(l(),a("div",ie," Found "+f(o(t).length)+" collection"+f(o(t).length===1?"":"s"),1)):h("",!0)]),o(r).size>0?(l(),a("div",re,[s[5]||(s[5]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("div",{class:"i-mdi-magnify text-lg text-theme-textmuted"})],-1)),S(e("input",{"onUpdate:modelValue":s[0]||(s[0]=m=>F(i)?i.value=m:null),type:"text",class:"block w-full pl-10 pr-10 py-2 bg-theme-surface/50 border border-theme-border/50 focus:border-theme-primary rounded-full text-sm text-theme-text placeholder-theme-textmuted focus:outline-none transition-all focus:bg-theme-surface",placeholder:"Search..."},null,512),[[I,o(i)]]),o(i)?(l(),a("button",{key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:s[1]||(s[1]=m=>i.value="")},[...s[4]||(s[4]=[e("div",{class:"i-mdi-close text-base text-theme-textmuted hover:text-theme-text transition-colors"},null,-1)])])):h("",!0)])):h("",!0)]),o(x)?(l(),a("div",ce,[(l(),a(g,null,_(8,m=>L(v,{key:m})),64))])):o(r).size===0?(l(),a("div",de,[...s[6]||(s[6]=[e("div",{class:"i-mdi:movie-roll text-6xl text-theme-textmuted mb-4 opacity-20"},null,-1),e("h3",{class:"text-xl font-bold text-theme-text mb-2"},"No collections found",-1),e("p",{class:"text-theme-textmuted"},"Check back later for curated movie collections.",-1)])])):(l(),a("div",ue,[(l(!0),a(g,null,_(o(t),m=>(l(),w(u,{key:m.id,collection:m},null,8,["collection"]))),128))]))])])}}});export{he as default};
