import{_ as R}from"./B1hXFYFP.js";import{a as D,_ as E}from"./BpNqj8BW.js";import{e as Y,E as q,s as G,m as x,g as H,S as P,f as v,h as W,n as b,i as $,u as z,c as i,a as s,k as m,j as k,b as w,w as S,t as n,l as e,F as C,r as F,o as l,d as M}from"./D-SP0zzU.js";import{u as J}from"./CrK6yJ4f.js";import{u as K}from"./CkOEvKSx.js";import"./BmKeNl3_.js";import"./BWG0T80-.js";const O={class:"md:ml-16"},Q={class:"px-4 lg:px-[6%] py-8"},U={class:"flex mb-6 text-sm font-medium text-theme-textmuted"},X={class:"text-theme-text truncate"},Z={key:0,class:"mb-10"},ee={class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},te={class:"flex-1"},oe={class:"text-4xl font-black text-theme-text mb-3 tracking-tight"},se={key:0,class:"flex flex-wrap gap-2 mb-4"},le={class:"text-lg text-theme-textmuted max-w-3xl leading-relaxed"},ie={class:"flex flex-col items-start md:items-end gap-2"},ne={key:0,class:"px-4 py-2 rounded-xl bg-theme-surface border border-theme-border/50 text-sm font-bold shadow-sm"},ae={key:1,class:"text-xs text-theme-accent font-bold"},re={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},ce={key:3,class:"flex flex-col items-center justify-center py-20 text-center"},de={class:"text-xl font-bold text-theme-text mb-2"},me={class:"text-theme-textmuted mb-8"},ye=Y({__name:"[id]",setup(ue){const p=q(),_=J(),B=K(),{applyFilters:I,resetFilters:f,fetchMoviesByIds:N,loadFromFile:T}=_,{hasActiveFilters:c}=G(_),{getCollectionById:L}=B,t=x(null),h=x([]),u=x(!0),{y:V}=H(),g=P("movies-deluxe-collection-scroll",{}),d=v(()=>I(h.value));return W(async()=>{const a=p.params.id;if(a){u.value=!0;try{await T(),t.value=await L(a),t.value?.movieIds&&t.value.movieIds.length>0&&(h.value=await N(t.value.movieIds)),await b(),await b();const o=g.value[a];o&&o>0&&requestAnimationFrame(()=>{window.scrollTo({top:o,behavior:"instant"})})}catch{}finally{u.value=!1}}}),$(()=>{const a=p.params.id;a&&(g.value[a]=V.value)}),z({title:v(()=>`${t.value?.name||"Collection"} - Movies Deluxe`),meta:[{name:"description",content:v(()=>t.value?.description||"Movie collection.")}]}),(a,o)=>{const y=R,j=E,A=D;return l(),i("main",O,[s("div",Q,[s("nav",U,[w(y,{to:"/collections",class:"hover:text-theme-accent transition-colors flex items-center gap-1"},{default:S(()=>[...o[1]||(o[1]=[s("div",{class:"i-mdi:movie-roll"},null,-1),M(" Collections ",-1)])]),_:1}),o[2]||(o[2]=s("span",{class:"mx-2 opacity-50"},"/",-1)),s("span",X,n(e(t)?.name||"Loading..."),1)]),e(t)?(l(),i("div",Z,[s("div",ee,[s("div",te,[s("h1",oe,n(e(t).name),1),e(t).tags?.length?(l(),i("div",se,[(l(!0),i(C,null,F(e(t).tags,r=>(l(),i("span",{key:r,class:"px-2.5 py-1 bg-theme-surface border border-theme-border/50 text-theme-textmuted rounded-full text-xs font-bold uppercase tracking-wider"},n(r),1))),128))])):m("",!0),s("p",le,n(e(t).description),1)]),s("div",ie,[e(t)?.movieIds?(l(),i("div",ne,n(e(t).movieIds.length)+" movies ",1)):m("",!0),e(c)?(l(),i("div",ae,n(e(d).length)+" matching filters ",1)):m("",!0)])])])):m("",!0),e(u)?(l(),i("div",re,[(l(),i(C,null,F(12,r=>w(j,{key:r})),64))])):e(d)&&e(d).length>0?(l(),k(A,{key:2,movies:e(d),"total-movies":e(t)?.movieIds?.length||0},null,8,["movies","total-movies"])):(l(),i("div",ce,[o[4]||(o[4]=s("div",{class:"i-mdi-movie-open-outline text-6xl text-theme-textmuted mb-4 opacity-20"},null,-1)),s("h3",de,n(e(c)?"No movies match your filters":"No movies in this collection"),1),s("p",me,n(e(c)?"Try adjusting your search or filter criteria.":"This collection is currently empty."),1),e(c)?(l(),i("button",{key:0,class:"px-6 py-2.5 rounded-xl bg-theme-accent text-black font-bold hover:scale-105 transition-transform",onClick:o[0]||(o[0]=(...r)=>e(f)&&e(f)(...r))}," Clear Filters ")):(l(),k(y,{key:1,to:"/",class:"px-6 py-2.5 rounded-xl bg-theme-accent text-black font-bold hover:scale-105 transition-transform"},{default:S(()=>[...o[3]||(o[3]=[M(" Browse All Movies ",-1)])]),_:1}))]))])])}}});export{ye as default};
