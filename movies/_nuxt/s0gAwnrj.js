import{_ as h}from"./BSrpKNXX.js";import{E as y,a3 as b,r as a,a9 as g,aj as w,H as I,x as m,aa as S,u as x,e as u,F as B,z as t,o as L}from"./C1DehbHX.js";import{u as M}from"./BmM4d4Y4.js";import{u as C}from"./BPf94GNk.js";import"./DLv0zqK_.js";import"./C_3uOQ0x.js";import"./BDUZSP7Z.js";import"./DMOTkeJ5.js";import"./IPpBPpdD.js";import"./Dw8P0qyA.js";const D=y({__name:"[id]",setup(k){const l=b(),d=M(),p=C(),{getCollectionById:v}=d,e=a(null),c=a([]),s=a(!0),{y:f}=g(),r=w("movies-deluxe-collection-scroll",{});return I(async()=>{const o=l.params.id;if(o){s.value=!0;try{if(e.value=await v(o),e.value?.movieIds&&e.value.movieIds.length>0){c.value=e.value.movieIds.map(_=>({imdbId:_,title:""}));const n=e.value.movieIds.slice(0,30);p.fetchMoviesByIds(n)}await m(),await m();const i=r.value[o];i&&i>0&&requestAnimationFrame(()=>{window.scrollTo({top:i,behavior:"instant"})})}catch{}finally{s.value=!1}}}),S(()=>{const o=l.params.id;o&&(r.value[o]=f.value)}),x({title:u(()=>`${e.value?.name||"Collection"} - Movies Deluxe`),meta:[{name:"description",content:u(()=>e.value?.description||"Movie collection.")}]}),(o,i)=>{const n=h;return L(),B(n,{title:t(e)?.name||"Loading...",description:t(e)?.description||"",breadcrumbs:{parentPath:"/collections",parentIcon:"i-mdi:movie-roll",parentLabel:"Collections",currentLabel:t(e)?.name||"Loading..."},movies:t(c),"movie-count":t(e)?.movieIds?.length||0,"is-loading":t(s),"search-placeholder":"Search in collection...","empty-state-icon":"i-mdi-movie-open-outline","empty-state-title":"No movies in this collection","empty-state-description":"This collection is currently empty.","empty-state-button-to":"/","empty-state-button-text":"Browse All Movies"},null,8,["title","description","breadcrumbs","movies","movie-count","is-loading"])}}});export{D as default};
