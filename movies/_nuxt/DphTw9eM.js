import{E as U,c as E,o as k,P as I,a as s,t as O,e as oe,z as u,F as pe,I as V,b as $,aj as Ge,r as D,ak as Je,a6 as Ae,G as Ye,x as he,n as ge,s as Re,al as Xe,f as $e,am as et,an as tt,ao as at,W as nt,M as De,ap as rt,af as it,d as me,w as K,J as ae,K as ne,a2 as J,aq as ot}from"./02OeVUp7.js";import{u as je}from"./CfQ1CYlZ.js";import{u as Be}from"./CZfkSF8C.js";import{i as st}from"./BH85bPq3.js";const lt=U({__name:"AppSortButton",props:{option:{},isActive:{type:Boolean}},emits:["select"],setup(a){const e=a,t=()=>{const{field:n}=e.option;switch(n){case"relevance":return"i-mdi-target";case"votes":return"i-mdi-account-group";default:return"i-mdi-sort"}};return(n,o)=>(k(),E("button",{class:I(["flex items-center justify-center gap-1.5 px-2 py-1.5 rounded-full text-xs font-medium transition-colors w-full border border-theme-border/50",{"bg-theme-primary text-white border-theme-primary":a.isActive,"bg-theme-surface text-theme-textmuted hover:bg-theme-selection hover:border-theme-border":!a.isActive}]),onClick:o[0]||(o[0]=c=>n.$emit("select",a.option))},[s("div",{class:I(["text-sm",{[t()]:!0,"text-white":a.isActive,"text-theme-textmuted":!a.isActive}])},null,2),s("span",null,O(a.option.label),1)],2))}}),ut=Object.assign(lt,{__name:"AppSortButton"}),ct={class:"flex w-full rounded-full border border-theme-border/50 overflow-hidden"},dt=U({__name:"AppSortToggleButton",props:{label:{},icon:{},optionA:{},optionB:{},currentSort:{}},emits:["select"],setup(a){const e=a,t=oe(()=>e.currentSort.field===e.optionA.field&&e.currentSort.direction===e.optionA.direction),n=oe(()=>e.currentSort.field===e.optionB.field&&e.currentSort.direction===e.optionB.direction);return(o,c)=>(k(),E("div",ct,[s("button",{class:I(["flex items-center justify-center gap-1.5 px-2 py-1.5 text-xs font-medium transition-colors border-r border-theme-border/50 flex-1",{"bg-theme-primary text-white":u(t),"bg-theme-surface text-theme-textmuted hover:bg-theme-selection":!u(t)}]),onClick:c[0]||(c[0]=r=>o.$emit("select",a.optionA))},[s("div",{class:I(["text-sm",[a.icon,{"text-white":u(t),"text-theme-textmuted":!u(t)}]])},null,2),s("span",null,O(a.optionA.label),1)],2),s("button",{class:I(["flex items-center justify-center px-2 py-1.5 text-xs font-medium transition-colors flex-1",{"bg-theme-primary text-white":u(n),"bg-theme-surface text-theme-textmuted hover:bg-theme-selection":!u(n)}]),onClick:c[1]||(c[1]=r=>o.$emit("select",a.optionB))},O(a.optionB.label),3)]))}}),ft=Object.assign(dt,{__name:"AppSortToggleButton"}),vt={class:"grid grid-cols-2 md:grid-cols-3 gap-2"},mt=U({__name:"AppSortButtonGroup",props:{currentSort:{},showRelevance:{type:Boolean,default:!1}},emits:["select"],setup(a,{emit:e}){const t=a,n={field:"relevance",direction:"desc",label:"Relevance"},o={field:"year",direction:"desc",label:"Newest"},c={field:"year",direction:"asc",label:"Oldest"},r={field:"rating",direction:"desc",label:"High"},m={field:"rating",direction:"asc",label:"Low"},b={field:"title",direction:"asc",label:"A-Z"},x={field:"title",direction:"desc",label:"Z-A"},A={field:"votes",direction:"desc",label:"Most Popular"},C=_=>t.currentSort.field===_.field&&t.currentSort.direction===_.direction;return(_,R)=>{const w=ut,Y=ft;return k(),E("div",vt,[a.showRelevance?(k(),pe(w,{key:0,option:n,"is-active":C(n),onSelect:R[0]||(R[0]=P=>_.$emit("select",n))},null,8,["is-active"])):V("",!0),$(Y,{label:"Year",icon:"i-mdi-calendar","option-a":o,"option-b":c,"current-sort":a.currentSort,onSelect:R[1]||(R[1]=P=>_.$emit("select",P))},null,8,["current-sort"]),$(Y,{label:"Rating",icon:"i-mdi-star","option-a":r,"option-b":m,"current-sort":a.currentSort,onSelect:R[2]||(R[2]=P=>_.$emit("select",P))},null,8,["current-sort"]),$(Y,{label:"Title",icon:"i-mdi-sort-alphabetical-ascending","option-a":b,"option-b":x,"current-sort":a.currentSort,onSelect:R[3]||(R[3]=P=>_.$emit("select",P))},null,8,["current-sort"]),$(w,{option:A,"is-active":C(A),onSelect:R[4]||(R[4]=P=>_.$emit("select",A))},null,8,["is-active"])])}}}),bt=Object.assign(mt,{__name:"AppSortButtonGroup"}),pt=["aria-expanded","disabled"],ht={class:"flex items-center gap-2"},gt={class:"font-bold text-[10px] uppercase tracking-wider text-theme-textmuted"},yt={class:"space-y-2"},xt=U({__name:"FilterSection",props:{title:{},icon:{default:void 0},defaultExpanded:{type:Boolean,default:!1},highlight:{type:Boolean,default:!1}},setup(a){const e=a,t=Ge("(min-width: 768px)"),n=D(e.defaultExpanded);Je(()=>{t.value&&(n.value=!0)});const o=()=>{t.value||(n.value=!n.value)};return(c,r)=>(k(),E("div",null,[s("button",{class:I(["flex items-center justify-between w-full px-2 py-1 rounded-md bg-gradient-to-r from-theme-selection to-transparent text-left group transition-all duration-500 md:cursor-default",{"ring-2 ring-theme-primary ring-offset-2 ring-offset-theme-background scale-[1.02] shadow-lg":a.highlight}]),"aria-expanded":u(n),disabled:u(t),onClick:o},[s("div",ht,[a.icon?(k(),E("div",{key:0,class:I(["text-base text-theme-textmuted",a.icon])},null,2)):V("",!0),s("h3",gt,O(a.title),1)]),s("div",{class:I(["i-mdi-chevron-down text-lg text-gray-400 transition-transform duration-300 md:hidden",{"rotate-180":u(n)}])},null,2)],10,pt),s("div",{class:I(["transition-all duration-300 ease-in-out overflow-hidden md:max-h-none md:opacity-100 md:visible md:mt-3",{"max-h-[2000px] opacity-100 visible mt-3":u(n),"max-h-0 opacity-0 invisible mt-0":!u(n)}])},[s("div",yt,[Ae(c.$slots,"default")])],2)]))}}),wt=Object.assign(xt,{__name:"FilterSection"}),kt={class:"relative"},St=U({__name:"CollapsibleFilterItems",props:{maxLines:{default:2}},setup(a,{expose:e}){const t=a,n=Ge("(min-width: 768px)"),o=D(!1),c=D(),r=D(!1),m=()=>{if(!c.value||!n.value){r.value=!1;return}const x=o.value;o.value=!0,he(()=>{if(!c.value)return;const A=c.value.scrollHeight,_=t.maxLines*36;r.value=A>_,o.value=x})},b=()=>{o.value=!o.value};return Ye(()=>{he(m)}),ge(n,x=>{x?he(m):(o.value=!1,r.value=!1)}),e({checkOverflow:m}),(x,A)=>(k(),E("div",kt,[s("div",{ref_key:"itemsContainer",ref:c,class:I(["flex flex-wrap gap-2 transition-all duration-300 ease-in-out md:overflow-hidden",{"md:max-h-[5.5rem]":!u(o)&&u(n),"md:max-h-none":u(o)||!u(n)}])},[Ae(x.$slots,"default")],2),u(r)&&u(n)?(k(),E("button",{key:0,class:I(["cursor-pointer w-full flex items-end justify-center gap-1.5 text-xs font-medium transition-colors text-gray-500 dark:text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 h-11 flex",{"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-white via-white/90 to-transparent dark:from-gray-900 dark:via-gray-900/90 dark:to-transparent":!u(o),"mt-2 bg-transparent":u(o)}]),onClick:b},[s("span",null,O(u(o)?"Show Less":"Show More"),1),s("div",{class:I(["i-mdi-chevron-down text-sm transition-transform duration-200",{"rotate-180":u(o)}])},null,2)],2)):V("",!0)]))}}),Tt=Object.assign(St,{__name:"CollapsibleFilterItems"}),Ct=["aria-checked","aria-disabled"],Nt={key:0,class:"i-mdi-checkbox-marked text-xl"},Ft={key:1,class:"i-mdi-checkbox-blank-outline text-xl"},Et=["checked","value","disabled"],_t=U({__name:"AppInputCheckbox",props:{checked:{type:Boolean},value:{type:[String,Number,Boolean]},label:{},disabled:{type:Boolean}},emits:["change"],setup(a,{emit:e}){const t=e,n=o=>{const c=o.target;t("change",c.checked)};return(o,c)=>(k(),E("label",{class:I(["flex items-center gap-2 cursor-pointer group",{"opacity-50 cursor-not-allowed":a.disabled}])},[s("div",{class:I(["flex items-center justify-center w-5 h-5 transition-colors",{"text-theme-primary":a.checked,"text-theme-textmuted group-hover:text-theme-text":!a.checked}]),role:"checkbox","aria-checked":a.checked,"aria-disabled":a.disabled},[a.checked?(k(),E("div",Nt)):(k(),E("div",Ft))],10,Ct),s("input",{checked:a.checked,type:"checkbox",value:a.value,disabled:a.disabled,class:"sr-only",onChange:n},null,40,Et),a.label?(k(),E("span",{key:0,class:I(["text-sm select-none",{"text-theme-textmuted":a.disabled}])},O(a.label),3)):V("",!0),Ae(o.$slots,"default")],2))}}),At=Object.assign(_t,{__name:"AppInputCheckbox"});function Ce(a){if(a>=1e6){const e=a/1e6;return`${e>=10?Math.round(e):e.toFixed(1).replace(/\.0$/,"")}M`}if(a>=1e3){const e=a/1e3;return`${e>=10?Math.round(e):e.toFixed(1).replace(/\.0$/,"")}K`}return a.toString()}function Ne(a){return a.toLocaleString()}var He=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ye=He.join(","),qe=typeof Element>"u",Z=qe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xe=!qe&&Element.prototype.getRootNode?function(a){var e;return a==null||(e=a.getRootNode)===null||e===void 0?void 0:e.call(a)}:function(a){return a?.ownerDocument},se=function(e,t){var n;t===void 0&&(t=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),c=o===""||o==="true",r=c||t&&e&&se(e.parentNode);return r},It=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},ze=function(e,t,n){if(se(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(ye));return t&&Z.call(e,ye)&&o.unshift(e),o=o.filter(n),o},we=function(e,t,n){for(var o=[],c=Array.from(e);c.length;){var r=c.shift();if(!se(r,!1))if(r.tagName==="SLOT"){var m=r.assignedElements(),b=m.length?m:r.children,x=we(b,!0,n);n.flatten?o.push.apply(o,x):o.push({scopeParent:r,candidates:x})}else{var A=Z.call(r,ye);A&&n.filter(r)&&(t||!e.includes(r))&&o.push(r);var C=r.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(r),_=!se(C,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(r));if(C&&_){var R=we(C===!0?r.children:C.children,!0,n);n.flatten?o.push.apply(o,R):o.push({scopeParent:r,candidates:R})}else c.unshift.apply(c,r.children)}}return o},Ze=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},z=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||It(e))&&!Ze(e)?0:e.tabIndex},Ot=function(e,t){var n=z(e);return n<0&&t&&!Ze(e)?0:n},Rt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ue=function(e){return e.tagName==="INPUT"},$t=function(e){return Ue(e)&&e.type==="hidden"},Dt=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},jt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Bt=function(e){if(!e.name)return!0;var t=e.form||xe(e),n=function(m){return t.querySelectorAll('input[type="radio"][name="'+m+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(e.name));else try{o=n(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var c=jt(o,e.form);return!c||c===e},Pt=function(e){return Ue(e)&&e.type==="radio"},Lt=function(e){return Pt(e)&&!Bt(e)},Mt=function(e){var t,n=e&&xe(e),o=(t=n)===null||t===void 0?void 0:t.host,c=!1;if(n&&n!==e){var r,m,b;for(c=!!((r=o)!==null&&r!==void 0&&(m=r.ownerDocument)!==null&&m!==void 0&&m.contains(o)||e!=null&&(b=e.ownerDocument)!==null&&b!==void 0&&b.contains(e));!c&&o;){var x,A,C;n=xe(o),o=(x=n)===null||x===void 0?void 0:x.host,c=!!((A=o)!==null&&A!==void 0&&(C=A.ownerDocument)!==null&&C!==void 0&&C.contains(o))}}return c},Pe=function(e){var t=e.getBoundingClientRect(),n=t.width,o=t.height;return n===0&&o===0},Kt=function(e,t){var n=t.displayCheck,o=t.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var c=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!c}if(getComputedStyle(e).visibility==="hidden")return!0;var r=Z.call(e,"details>summary:first-of-type"),m=r?e.parentElement:e;if(Z.call(m,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof o=="function"){for(var b=e;e;){var x=e.parentElement,A=xe(e);if(x&&!x.shadowRoot&&o(x)===!0)return Pe(e);e.assignedSlot?e=e.assignedSlot:!x&&A!==e.ownerDocument?e=A.host:e=x}e=b}if(Mt(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Pe(e);return!1},Vt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var o=t.children.item(n);if(o.tagName==="LEGEND")return Z.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},ke=function(e,t){return!(t.disabled||se(t)||$t(t)||Kt(t,e)||Dt(t)||Vt(t))},Ee=function(e,t){return!(Lt(t)||z(t)<0||!ke(e,t))},Gt=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},We=function(e){var t=[],n=[];return e.forEach(function(o,c){var r=!!o.scopeParent,m=r?o.scopeParent:o,b=Ot(m,r),x=r?We(o.candidates):m;b===0?r?t.push.apply(t,x):t.push(m):n.push({documentOrder:c,tabIndex:b,item:o,isScope:r,content:x})}),n.sort(Rt).reduce(function(o,c){return c.isScope?o.push.apply(o,c.content):o.push(c.content),o},[]).concat(t)},Yt=function(e,t){t=t||{};var n;return t.getShadowRoot?n=we([e],t.includeContainer,{filter:Ee.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Gt}):n=ze(e,t.includeContainer,Ee.bind(null,t)),We(n)},Ht=function(e,t){t=t||{};var n;return t.getShadowRoot?n=we([e],t.includeContainer,{filter:ke.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=ze(e,t.includeContainer,ke.bind(null,t)),n},X=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Z.call(e,ye)===!1?!1:Ee(t,e)},qt=He.concat("iframe").join(","),Fe=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Z.call(e,qt)===!1?!1:ke(t,e)};function _e(a,e){(e==null||e>a.length)&&(e=a.length);for(var t=0,n=Array(e);t<e;t++)n[t]=a[t];return n}function zt(a){if(Array.isArray(a))return _e(a)}function Le(a,e){var t=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!t){if(Array.isArray(a)||(t=Qe(a))||e){t&&(a=t);var n=0,o=function(){};return{s:o,n:function(){return n>=a.length?{done:!0}:{done:!1,value:a[n++]}},e:function(b){throw b},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,r=!0,m=!1;return{s:function(){t=t.call(a)},n:function(){var b=t.next();return r=b.done,b},e:function(b){m=!0,c=b},f:function(){try{r||t.return==null||t.return()}finally{if(m)throw c}}}}function Zt(a,e,t){return(e=Xt(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Ut(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Wt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Me(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,n)}return t}function Ke(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Me(Object(t),!0).forEach(function(n){Zt(a,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):Me(Object(t)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(t,n))})}return a}function Qt(a){return zt(a)||Ut(a)||Qe(a)||Wt()}function Jt(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var n=t.call(a,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function Xt(a){var e=Jt(a,"string");return typeof e=="symbol"?e:e+""}function Qe(a,e){if(a){if(typeof a=="string")return _e(a,e);var t={}.toString.call(a).slice(8,-1);return t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set"?Array.from(a):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_e(a,e):void 0}}var G={getActiveTrap:function(e){return e?.length>0?e[e.length-1]:null},activateTrap:function(e,t){var n=G.getActiveTrap(e);t!==n&&G.pauseTrap(e);var o=e.indexOf(t);o===-1||e.splice(o,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),G.unpauseTrap(e)},pauseTrap:function(e){var t=G.getActiveTrap(e);t?._setPausedState(!0)},unpauseTrap:function(e){var t=G.getActiveTrap(e);t&&!t._isManuallyPaused()&&t._setPausedState(!1)}},ea=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ta=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},ie=function(e){return e?.key==="Tab"||e?.keyCode===9},aa=function(e){return ie(e)&&!e.shiftKey},na=function(e){return ie(e)&&e.shiftKey},Ve=function(e){return setTimeout(e,0)},re=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,n):e},be=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ra=[],ia=function(e,t){var n=t?.document||document,o=t?.trapStack||ra,c=Ke({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isolateSubtrees:!1,isKeyForward:aa,isKeyBackward:na},t),r={containers:[],containerGroups:[],tabbableGroups:[],adjacentElements:new Set,alreadyInert:new Set,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},m,b=function(i,l,v){return i&&i[l]!==void 0?i[l]:c[v||l]},x=function(i,l){var v=typeof l?.composedPath=="function"?l.composedPath():void 0;return r.containerGroups.findIndex(function(h){var g=h.container,S=h.tabbableNodes;return g.contains(i)||v?.includes(g)||S.find(function(p){return p===i})})},A=function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=l.hasFallback,h=v===void 0?!1:v,g=l.params,S=g===void 0?[]:g,p=c[i];if(typeof p=="function"&&(p=p.apply(void 0,Qt(S))),p===!0&&(p=void 0),!p){if(p===void 0||p===!1)return p;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var T=p;if(typeof p=="string"){try{T=n.querySelector(p)}catch(F){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(F.message,'"'))}if(!T&&!h)throw new Error("`".concat(i,"` as selector refers to no known node"))}return T},C=function(){var i=A("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Fe(i,c.tabbableOptions))if(x(n.activeElement)>=0)i=n.activeElement;else{var l=r.tabbableGroups[0],v=l&&l.firstTabbableNode;i=v||A("fallbackFocus")}else i===null&&(i=A("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},_=function(){if(r.containerGroups=r.containers.map(function(i){var l=Yt(i,c.tabbableOptions),v=Ht(i,c.tabbableOptions),h=l.length>0?l[0]:void 0,g=l.length>0?l[l.length-1]:void 0,S=v.find(function(F){return X(F)}),p=v.slice().reverse().find(function(F){return X(F)}),T=!!l.find(function(F){return z(F)>0});return{container:i,tabbableNodes:l,focusableNodes:v,posTabIndexesFound:T,firstTabbableNode:h,lastTabbableNode:g,firstDomTabbableNode:S,lastDomTabbableNode:p,nextTabbableNode:function(j){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,B=l.indexOf(j);return B<0?L?v.slice(v.indexOf(j)+1).find(function(y){return X(y)}):v.slice(0,v.indexOf(j)).reverse().find(function(y){return X(y)}):l[B+(L?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!A("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(i){return i.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},R=function(i){var l=i.activeElement;if(l)return l.shadowRoot&&l.shadowRoot.activeElement!==null?R(l.shadowRoot):l},w=function(i){if(i!==!1&&i!==R(document)){if(!i||!i.focus){w(C());return}i.focus({preventScroll:!!c.preventScroll}),r.mostRecentlyFocusedNode=i,ea(i)&&i.select()}},Y=function(i){var l=A("setReturnFocus",{params:[i]});return l||(l===!1?!1:i)},P=function(i){var l=i.target,v=i.event,h=i.isBackward,g=h===void 0?!1:h;l=l||be(v),_();var S=null;if(r.tabbableGroups.length>0){var p=x(l,v),T=p>=0?r.containerGroups[p]:void 0;if(p<0)g?S=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:S=r.tabbableGroups[0].firstTabbableNode;else if(g){var F=r.tabbableGroups.findIndex(function(te){var M=te.firstTabbableNode;return l===M});if(F<0&&(T.container===l||Fe(l,c.tabbableOptions)&&!X(l,c.tabbableOptions)&&!T.nextTabbableNode(l,!1))&&(F=p),F>=0){var j=F===0?r.tabbableGroups.length-1:F-1,L=r.tabbableGroups[j];S=z(l)>=0?L.lastTabbableNode:L.lastDomTabbableNode}else ie(v)||(S=T.nextTabbableNode(l,!1))}else{var B=r.tabbableGroups.findIndex(function(te){var M=te.lastTabbableNode;return l===M});if(B<0&&(T.container===l||Fe(l,c.tabbableOptions)&&!X(l,c.tabbableOptions)&&!T.nextTabbableNode(l))&&(B=p),B>=0){var y=B===r.tabbableGroups.length-1?0:B+1,d=r.tabbableGroups[y];S=z(l)>=0?d.firstTabbableNode:d.firstDomTabbableNode}else ie(v)||(S=T.nextTabbableNode(l))}}else S=A("fallbackFocus");return S},W=function(i){var l=be(i);if(!(x(l,i)>=0)){if(re(c.clickOutsideDeactivates,i)){m.deactivate({returnFocus:c.returnFocusOnDeactivate});return}re(c.allowOutsideClick,i)||i.preventDefault()}},le=function(i){var l=be(i),v=x(l,i)>=0;if(v||l instanceof Document)v&&(r.mostRecentlyFocusedNode=l);else{i.stopImmediatePropagation();var h,g=!0;if(r.mostRecentlyFocusedNode)if(z(r.mostRecentlyFocusedNode)>0){var S=x(r.mostRecentlyFocusedNode),p=r.containerGroups[S].tabbableNodes;if(p.length>0){var T=p.findIndex(function(F){return F===r.mostRecentlyFocusedNode});T>=0&&(c.isKeyForward(r.recentNavEvent)?T+1<p.length&&(h=p[T+1],g=!1):T-1>=0&&(h=p[T-1],g=!1))}}else r.containerGroups.some(function(F){return F.tabbableNodes.some(function(j){return z(j)>0})})||(g=!1);else g=!1;g&&(h=P({target:r.mostRecentlyFocusedNode,isBackward:c.isKeyBackward(r.recentNavEvent)})),w(h||r.mostRecentlyFocusedNode||C())}r.recentNavEvent=void 0},Se=function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=i;var v=P({event:i,isBackward:l});v&&(ie(i)&&i.preventDefault(),w(v))},ue=function(i){(c.isKeyForward(i)||c.isKeyBackward(i))&&Se(i,c.isKeyBackward(i))},ce=function(i){ta(i)&&re(c.escapeDeactivates,i)!==!1&&(i.preventDefault(),m.deactivate())},ee=function(i){var l=be(i);x(l,i)>=0||re(c.clickOutsideDeactivates,i)||re(c.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},de=function(){if(r.active)return G.activateTrap(o,m),r.delayInitialFocusTimer=c.delayInitialFocus?Ve(function(){w(C())}):w(C()),n.addEventListener("focusin",le,!0),n.addEventListener("mousedown",W,{capture:!0,passive:!1}),n.addEventListener("touchstart",W,{capture:!0,passive:!1}),n.addEventListener("click",ee,{capture:!0,passive:!1}),n.addEventListener("keydown",ue,{capture:!0,passive:!1}),n.addEventListener("keydown",ce),m},Te=function(i){r.active&&!r.paused&&m._setSubtreeIsolation(!1),r.adjacentElements.clear(),r.alreadyInert.clear();var l=new Set,v=new Set,h=Le(i),g;try{for(h.s();!(g=h.n()).done;){var S=g.value;l.add(S);for(var p=typeof ShadowRoot<"u"&&S.getRootNode()instanceof ShadowRoot,T=S;T;){l.add(T);var F=T.parentElement,j=[];F?j=F.children:!F&&p&&(j=T.getRootNode().children,F=T.getRootNode().host,p=typeof ShadowRoot<"u"&&F.getRootNode()instanceof ShadowRoot);var L=Le(j),B;try{for(L.s();!(B=L.n()).done;){var y=B.value;v.add(y)}}catch(d){L.e(d)}finally{L.f()}T=F}}}catch(d){h.e(d)}finally{h.f()}l.forEach(function(d){v.delete(d)}),r.adjacentElements=v},fe=function(){if(r.active)return n.removeEventListener("focusin",le,!0),n.removeEventListener("mousedown",W,!0),n.removeEventListener("touchstart",W,!0),n.removeEventListener("click",ee,!0),n.removeEventListener("keydown",ue,!0),n.removeEventListener("keydown",ce),m},ve=function(i){var l=i.some(function(v){var h=Array.from(v.removedNodes);return h.some(function(g){return g===r.mostRecentlyFocusedNode})});l&&w(C())},Q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(ve):void 0,H=function(){Q&&(Q.disconnect(),r.active&&!r.paused&&r.containers.map(function(i){Q.observe(i,{subtree:!0,childList:!0})}))};return m={get active(){return r.active},get paused(){return r.paused},activate:function(i){if(r.active)return this;var l=b(i,"onActivate"),v=b(i,"onPostActivate"),h=b(i,"checkCanFocusTrap"),g=G.getActiveTrap(o),S=!1;g&&!g.paused&&(g._setSubtreeIsolation(!1),S=!0);try{h||_(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=R(n),l?.();var p=function(){h&&_(),de(),H(),c.isolateSubtrees&&m._setSubtreeIsolation(!0),v?.()};if(h)return h(r.containers.concat()).then(p,p),this;p()}catch(T){throw g===G.getActiveTrap(o)&&S&&g._setSubtreeIsolation(!0),T}return this},deactivate:function(i){if(!r.active)return this;var l=Ke({onDeactivate:c.onDeactivate,onPostDeactivate:c.onPostDeactivate,checkCanReturnFocus:c.checkCanReturnFocus},i);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,r.paused||m._setSubtreeIsolation(!1),r.alreadyInert.clear(),fe(),r.active=!1,r.paused=!1,H(),G.deactivateTrap(o,m);var v=b(l,"onDeactivate"),h=b(l,"onPostDeactivate"),g=b(l,"checkCanReturnFocus"),S=b(l,"returnFocus","returnFocusOnDeactivate");v?.();var p=function(){Ve(function(){S&&w(Y(r.nodeFocusedBeforeActivation)),h?.()})};return S&&g?(g(Y(r.nodeFocusedBeforeActivation)).then(p,p),this):(p(),this)},pause:function(i){return r.active?(r.manuallyPaused=!0,this._setPausedState(!0,i)):this},unpause:function(i){return r.active?(r.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,i)):this},updateContainerElements:function(i){var l=[].concat(i).filter(Boolean);return r.containers=l.map(function(v){return typeof v=="string"?n.querySelector(v):v}),c.isolateSubtrees&&Te(r.containers),r.active&&(_(),c.isolateSubtrees&&!r.paused&&m._setSubtreeIsolation(!0)),H(),this}},Object.defineProperties(m,{_isManuallyPaused:{value:function(){return r.manuallyPaused}},_setPausedState:{value:function(i,l){if(r.paused===i)return this;if(r.paused=i,i){var v=b(l,"onPause"),h=b(l,"onPostPause");v?.(),fe(),H(),m._setSubtreeIsolation(!1),h?.()}else{var g=b(l,"onUnpause"),S=b(l,"onPostUnpause");g?.(),m._setSubtreeIsolation(!0),_(),de(),H(),S?.()}return this}},_setSubtreeIsolation:{value:function(i){c.isolateSubtrees&&r.adjacentElements.forEach(function(l){if(i){var v=l.inert||l.hasAttribute("inert");v&&r.alreadyInert.add(l),l.inert=!0}else r.alreadyInert.has(l)||(l.inert=!1)})}}}),m.updateContainerElements(e),m};function oa(a,e={}){let t;const{immediate:n,...o}=e,c=Re(!1),r=Re(!1),m=C=>t&&t.activate(C),b=C=>t&&t.deactivate(C),x=()=>{t&&(t.pause(),r.value=!0)},A=()=>{t&&(t.unpause(),r.value=!1)};return ge(oe(()=>Xe($e(a)).map(C=>{const _=$e(C);return typeof _=="string"?_:et(_)}).filter(tt)),C=>{if(C.length)if(!t)t=ia(C,{...o,onActivate(){c.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){c.value=!1,e.onDeactivate&&e.onDeactivate()}}),n&&m();else{const _=t?.active;t?.updateContainerElements(C),!_&&n&&m()}},{flush:"post"}),at(()=>b()),{hasFocus:c,isPaused:r,activate:m,deactivate:b,pause:x,unpause:A}}const sa={class:"flex items-center justify-between p-4"},la={class:"flex items-center gap-2"},ua={class:"overflow-y-auto scrollbar-thin flex-1 md:h-[calc(100vh-4rem)] p-4"},ca={class:"max-w-7xl mx-auto space-y-4 flex flex-col gap-4"},da={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},fa={class:"space-y-2"},va={class:"flex items-center justify-between text-sm"},ma={class:"font-medium text-theme-text"},ba=["value"],pa={class:"space-y-4"},ha={class:"space-y-2"},ga={class:"flex items-center justify-between text-sm"},ya={class:"font-medium text-theme-text"},xa=["value"],wa={class:"space-y-2"},ka={class:"flex items-center justify-between text-sm"},Sa={class:"font-medium text-theme-text"},Ta=["value"],Ca={class:"space-y-4"},Na={class:"space-y-2"},Fa={class:"flex items-center justify-between text-sm"},Ea={class:"font-medium text-theme-text"},_a=["value"],Aa={class:"space-y-2"},Ia={class:"flex items-center justify-between text-sm"},Oa={class:"font-medium text-theme-text"},Ra=["value"],$a={key:0,class:"text-sm text-theme-textmuted"},Da=["title","onClick"],ja={key:0,class:"text-sm text-theme-textmuted"},Ba=["title","onClick"],Pa={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},La={class:"space-y-3"},Ma={class:"pl-4 space-y-2 border-l-2 border-theme-border/50"},Ka={key:0,class:"text-sm text-theme-textmuted"},Va={class:"flex items-center justify-between gap-2 flex-1"},Ga={class:"text-theme-text"},Ya=["title"],Ha={class:"space-y-6"},qa={class:"grid grid-cols-2 sm:grid-cols-3 gap-2"},za=["onClick","onMouseenter"],Za={class:"flex items-center justify-between"},Ua={class:"text-xs font-semibold truncate"},Wa={key:0,class:"i-mdi-check-circle text-theme-primary text-xs"},Qa={class:"flex gap-1"},Ja={class:"grid grid-cols-2 sm:grid-cols-3 gap-2"},Xa=["onClick","onMouseenter"],en={class:"flex items-center justify-between"},tn={class:"text-xs font-semibold truncate"},an={key:0,class:"i-mdi-check-circle text-theme-primary text-xs"},nn={class:"flex gap-1"},rn={key:0,class:"text-sm text-red-500 dark:text-red-400 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg"},on=U({__name:"FilterMenu",props:{isOpen:{type:Boolean}},emits:["close"],setup(a,{expose:e,emit:t}){const n=a,o=t,c=nt(),{currentThemeId:r}=De(c),{setTheme:m,previewTheme:b}=c,x=ot(),A=oe(()=>x.filter(y=>y.metadata.variant==="dark")),C=oe(()=>x.filter(y=>y.metadata.variant==="light")),_=D(!1);e({scrollToThemeSection:()=>{const y=document.getElementById("theme-selection-section");y&&(y.scrollIntoView({behavior:"smooth",block:"center"}),_.value=!0,setTimeout(()=>{_.value=!1},2e3))}});const{filters:w,currentSortOption:Y,hasActiveFilters:P}=De(je()),{setMinRating:W,setMinYear:le,setMaxYear:Se,setMinVotes:ue,setMaxVotes:ce,toggleSource:ee,toggleGenre:de,toggleCountry:Te,setSort:fe,resetFilters:ve}=je(),Q=D([]),H=D([]),N=D([]),i=D(!0),l=D(null),v=D(),h=D(),g=async()=>{i.value=!0,l.value=null;try{const y=Be();if(y.isReady.value){const d=await y.getFilterOptions();Q.value=d.genres,H.value=d.countries,N.value=d.channels,he(()=>{v.value?.checkOverflow(),h.value?.checkOverflow()})}}catch{l.value="Failed to load filter options"}finally{i.value=!1}},S=Be();ge(()=>S.isReady.value,y=>{y&&g()});const p=D(!1);Ye(()=>{p.value=st(),g()});const T=y=>{fe(y)},F=D(null),j=rt(typeof window<"u"?document.body:null);it(F,()=>{n.isOpen&&o("close")});const{activate:L,deactivate:B}=oa(F,{immediate:!1,allowOutsideClick:!1,escapeDeactivates:!1,returnFocusOnDeactivate:!0,initialFocus:'button[aria-label="Close filters"]',fallbackFocus:()=>F.value});return ge(()=>n.isOpen,y=>{j.value=y,y?typeof window<"u"&&window.setTimeout(()=>{L()},50):B()}),(y,d)=>{const te=bt,M=wt,Ie=Tt,Oe=At;return k(),E("div",null,[a.isOpen?(k(),E("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity",onClick:d[0]||(d[0]=f=>o("close"))})):V("",!0),s("div",{ref_key:"filterMenuRef",ref:F,class:I(["fixed z-50 transition-all duration-300 ease-in-out glass shadow-2xl overflow-hidden flex flex-col bottom-0 left-0 right-0 rounded-t-2xl border-t border-theme-border/50 max-h-[90vh] md:top-0 md:left-0 md:bottom-0 md:right-auto md:h-full md:w-full md:max-w-xl md:rounded-none md:border-0 md:max-h-full",{"translate-y-0 md:translate-x-0":a.isOpen,"translate-y-full md:translate-y-0 md:-translate-x-full":!a.isOpen}])},[s("button",{class:"md:hidden fixed bottom-6 right-6 w-14 h-14 rounded-full bg-theme-primary text-white shadow-lg hover:opacity-90 transition-all flex items-center justify-center z-[60]","aria-label":"Close filters",onClick:d[1]||(d[1]=f=>o("close"))},[...d[12]||(d[12]=[s("div",{class:"i-mdi-close text-2xl"},null,-1)])]),s("div",sa,[d[14]||(d[14]=s("h2",{class:"text-lg font-semibold flex items-center gap-2 text-theme-text"},[s("div",{class:"i-mdi-filter-variant text-xl"}),me(" Filters ")],-1)),s("div",la,[u(P)||u(w).searchQuery?(k(),E("button",{key:0,class:"text-sm font-medium text-theme-primary hover:opacity-80 px-3 py-1 rounded-full hover:bg-theme-primary/10 transition-colors",onClick:d[2]||(d[2]=(...f)=>u(ve)&&u(ve)(...f))}," Clear All ")):V("",!0),s("button",{class:"p-2 hover:bg-theme-selection rounded-full transition-colors text-theme-text","aria-label":"Close filters",onClick:d[3]||(d[3]=f=>o("close"))},[...d[13]||(d[13]=[s("div",{class:"i-mdi-close text-xl"},null,-1)])])])]),d[25]||(d[25]=s("hr",{class:"mx-4 my-0 border-theme-border/50"},null,-1)),s("div",ua,[s("div",ca,[$(M,{title:"Sort By",icon:"i-mdi-sort","default-expanded":!0},{default:K(()=>[$(te,{"current-sort":u(Y),"show-relevance":!!u(w).searchQuery,onSelect:T},null,8,["current-sort","show-relevance"])]),_:1}),s("div",da,[$(M,{title:"Rating",icon:"i-mdi-star"},{default:K(()=>[s("div",fa,[s("div",va,[d[15]||(d[15]=s("span",{class:"text-theme-textmuted"},"Min:",-1)),s("span",ma,O(u(w).minRating.toFixed(1))+"+",1)]),s("input",{value:u(w).minRating,type:"range",min:"0",max:"10",step:"0.5",class:"w-full h-2 bg-theme-selection rounded-lg appearance-none cursor-pointer accent-theme-primary",onInput:d[4]||(d[4]=f=>u(W)(Number(f.target.value)))},null,40,ba),d[16]||(d[16]=s("div",{class:"flex justify-between text-xs text-theme-textmuted"},[s("span",null,"0"),s("span",null,"5"),s("span",null,"10")],-1))])]),_:1}),$(M,{title:"Year",icon:"i-mdi-calendar"},{default:K(()=>[s("div",pa,[s("div",ha,[s("div",ga,[d[17]||(d[17]=s("span",{class:"text-theme-textmuted"},"From:",-1)),s("span",ya,O(u(w).minYear||"1910"),1)]),s("input",{value:u(w).minYear,type:"range",min:"1910",max:"2025",step:"1",class:"w-full h-2 bg-theme-selection rounded-lg appearance-none cursor-pointer accent-theme-primary",onInput:d[5]||(d[5]=f=>u(le)(Number(f.target.value)))},null,40,xa)]),s("div",wa,[s("div",ka,[d[18]||(d[18]=s("span",{class:"text-theme-textmuted"},"To:",-1)),s("span",Sa,O(u(w).maxYear||"2025"),1)]),s("input",{value:u(w).maxYear||2025,type:"range",min:"1910",max:"2025",step:"1",class:"w-full h-2 bg-theme-selection rounded-lg appearance-none cursor-pointer accent-theme-primary",onInput:d[6]||(d[6]=f=>u(Se)(Number(f.target.value)))},null,40,Ta)]),d[19]||(d[19]=s("div",{class:"flex justify-between text-xs text-theme-textmuted"},[s("span",null,"1910"),s("span",null,"1970"),s("span",null,"2025")],-1))])]),_:1}),$(M,{title:"Votes",icon:"i-mdi-account-group"},{default:K(()=>[s("div",Ca,[s("div",Na,[s("div",Fa,[d[20]||(d[20]=s("span",{class:"text-theme-textmuted"},"Min:",-1)),s("span",Ea,O(u(w).minVotes.toLocaleString()),1)]),s("input",{value:u(w).minVotes,type:"number",min:"0",step:"100",placeholder:"0",class:"w-full px-3 py-2 bg-theme-surface border border-theme-border/50 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-theme-primary [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none text-theme-text placeholder-theme-text-muted",onInput:d[7]||(d[7]=f=>u(ue)(Number(f.target.value)))},null,40,_a)]),s("div",Aa,[s("div",Ia,[d[21]||(d[21]=s("span",{class:"text-theme-textmuted"},"Max:",-1)),s("span",Oa,O(u(w).maxVotes?u(w).maxVotes.toLocaleString():"Any"),1)]),s("input",{value:u(w).maxVotes||"",type:"number",min:"0",step:"100",placeholder:"Any",class:"w-full px-3 py-2 bg-theme-surface border border-theme-border/50 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-theme-primary [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none text-theme-text placeholder-theme-text-muted",onInput:d[8]||(d[8]=f=>u(ce)(Number(f.target.value)))},null,40,Ra)])])]),_:1})]),$(M,{title:"Genres",icon:"i-mdi-movie-filter"},{default:K(()=>[u(i)?(k(),E("div",$a," Loading genres... ")):(k(),pe(Ie,{key:1,ref_key:"genresCollapsible",ref:v,"max-lines":2},{default:K(()=>[(k(!0),E(ae,null,ne(u(Q),f=>(k(),E("button",{key:f.name,class:I(["px-3 py-1.5 text-sm rounded-full transition-colors inline-flex items-center gap-1.5",{"bg-theme-primary text-white":u(w).genres.includes(f.name),"bg-theme-selection text-theme-text hover:bg-theme-border/50":!u(w).genres.includes(f.name)}]),title:`${("formatCountExact"in y?y.formatCountExact:u(Ne))(f.count)} movies`,onClick:q=>u(de)(f.name)},[s("span",null,O(f.name),1),s("span",{class:I(["text-xs font-normal",{"text-white/80":u(w).genres.includes(f.name),"text-theme-textmuted":!u(w).genres.includes(f.name)}])},O(("formatCount"in y?y.formatCount:u(Ce))(f.count)),3)],10,Da))),128))]),_:1},512))]),_:1}),$(M,{title:"Countries",icon:"i-mdi-earth"},{default:K(()=>[u(i)?(k(),E("div",ja," Loading countries... ")):(k(),pe(Ie,{key:1,ref_key:"countriesCollapsible",ref:h,"max-lines":2},{default:K(()=>[(k(!0),E(ae,null,ne(u(H),f=>(k(),E("button",{key:f.name,class:I(["px-3 py-1.5 text-sm rounded-full transition-colors inline-flex items-center gap-1.5",{"bg-theme-primary text-white":u(w).countries.includes(f.name),"bg-theme-selection text-theme-text hover:bg-theme-border/50":!u(w).countries.includes(f.name)}]),title:`${("formatCountExact"in y?y.formatCountExact:u(Ne))(f.count)} movies`,onClick:q=>u(Te)(f.name)},[s("span",null,O(f.name),1),s("span",{class:I(["text-xs font-normal",{"text-white/80":u(w).countries.includes(f.name),"text-theme-textmuted":!u(w).countries.includes(f.name)}])},O(("formatCount"in y?y.formatCount:u(Ce))(f.count)),3)],10,Ba))),128))]),_:1},512))]),_:1}),s("div",Pa,[$(M,{title:"Source",icon:"i-mdi-source-branch"},{default:K(()=>[s("div",La,[$(Oe,{checked:u(w).sources.includes("archive.org"),label:"Archive.org",onChange:d[9]||(d[9]=f=>u(ee)("archive.org"))},null,8,["checked"]),s("div",Ma,[d[22]||(d[22]=s("p",{class:"text-xs text-theme-textmuted font-medium uppercase tracking-wide mb-2"}," YouTube Channels ",-1)),u(i)?(k(),E("div",Ka," Loading channels... ")):(k(!0),E(ae,{key:1},ne(u(N),f=>(k(),pe(Oe,{key:f.id,checked:u(w).sources.includes(f.name),onChange:q=>u(ee)(f.name)},{default:K(()=>[s("span",Va,[s("span",Ga,O(f.name),1),s("span",{class:"text-xs text-theme-textmuted",title:`${("formatCountExact"in y?y.formatCountExact:u(Ne))(f.count)} movies`},O(("formatCount"in y?y.formatCount:u(Ce))(f.count)),9,Ya)])]),_:2},1032,["checked","onChange"]))),128))])])]),_:1})]),$(M,{id:"theme-selection-section",title:"Theme",icon:"i-mdi-palette","default-expanded":!0,highlight:u(_)},{default:K(()=>[s("div",Ha,[s("div",null,[d[23]||(d[23]=s("h4",{class:"text-[10px] font-bold uppercase tracking-widest text-theme-textmuted mb-3 flex items-center gap-2"},[s("div",{class:"i-mdi-weather-night text-xs"}),me(" Dark Themes ")],-1)),s("div",qa,[(k(!0),E(ae,null,ne(u(A),f=>(k(),E("button",{key:f.metadata.id,class:I(["flex flex-col gap-2 p-2 rounded-xl border-2 transition-all text-left",{"border-theme-primary bg-theme-primary/10":u(r)===f.metadata.id,"border-theme-border/50 hover:border-theme-border bg-theme-surface/50":u(r)!==f.metadata.id}]),onClick:q=>u(m)(f.metadata.id),onMouseenter:q=>u(b)(f.metadata.id),onMouseleave:d[10]||(d[10]=q=>u(b)(null))},[s("div",Za,[s("span",Ua,O(f.metadata.name),1),u(r)===f.metadata.id?(k(),E("div",Wa)):V("",!0)]),s("div",Qa,[s("div",{class:"w-3 h-3 rounded-full border border-black/10",style:J({backgroundColor:f.colors.background})},null,4),s("div",{class:"w-3 h-3 rounded-full border border-black/10",style:J({backgroundColor:f.colors.primary})},null,4),s("div",{class:"w-3 h-3 rounded-full border border-black/10",style:J({backgroundColor:f.colors.accent})},null,4)])],42,za))),128))])]),s("div",null,[d[24]||(d[24]=s("h4",{class:"text-[10px] font-bold uppercase tracking-widest text-theme-textmuted mb-3 flex items-center gap-2"},[s("div",{class:"i-mdi-weather-sunny text-xs"}),me(" Light Themes ")],-1)),s("div",Ja,[(k(!0),E(ae,null,ne(u(C),f=>(k(),E("button",{key:f.metadata.id,class:I(["flex flex-col gap-2 p-2 rounded-xl border-2 transition-all text-left",{"border-theme-primary bg-theme-primary/10":u(r)===f.metadata.id,"border-theme-border/50 hover:border-theme-border bg-theme-surface/50":u(r)!==f.metadata.id}]),onClick:q=>u(m)(f.metadata.id),onMouseenter:q=>u(b)(f.metadata.id),onMouseleave:d[11]||(d[11]=q=>u(b)(null))},[s("div",en,[s("span",tn,O(f.metadata.name),1),u(r)===f.metadata.id?(k(),E("div",an)):V("",!0)]),s("div",nn,[s("div",{class:"w-3 h-3 rounded-full border border-black/10",style:J({backgroundColor:f.colors.background})},null,4),s("div",{class:"w-3 h-3 rounded-full border border-black/10",style:J({backgroundColor:f.colors.primary})},null,4),s("div",{class:"w-3 h-3 rounded-full border border-black/10",style:J({backgroundColor:f.colors.accent})},null,4)])],42,Xa))),128))])])])]),_:1},8,["highlight"]),u(l)?(k(),E("div",rn,[me(O(u(l))+" ",1),s("button",{class:"underline ml-2 font-medium",onClick:g},"Retry")])):V("",!0)])])],2)])}}}),dn=Object.assign(on,{__name:"FilterMenu"});export{dn as _};
