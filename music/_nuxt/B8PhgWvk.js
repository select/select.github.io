import{h as D,G as I,x as z,H as de,I as we,y as fe,s as ge,J as q,K as ve,L as Pe,q as pe,M as K,N as ke,O as Te,p as M,P as A,D as ae,g as Ie,i as xe,Q as ee,z as Ve}from"./Bbw4hNAL.js";import{D as X}from"./cTjeiag2.js";function G(e,t){return de()?(we(e,t),!0):!1}const Z=new WeakMap,Ee=(...e)=>{var t;const n=e[0],r=(t=q())===null||t===void 0?void 0:t.proxy,l=r??de();if(l==null&&!ve())throw new Error("injectLocal must be called in setup");return l&&Z.has(l)&&n in Z.get(l)?Z.get(l)[n]:Pe(...e)},Ae=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const me=e=>e!=null,Oe=Object.prototype.toString,De=e=>Oe.call(e)==="[object Object]",L=()=>{};function Me(...e){if(e.length!==1)return ke(...e);const t=e[0];return typeof t=="function"?K(Te(()=>({get:t,set:L}))):D(t)}function te(e,t){function n(...r){return new Promise((l,u)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(l).catch(u)})}return n}const he=e=>e();function Fe(e,t={}){let n,r,l=L;const u=i=>{clearTimeout(i),l(),l=L};let f;return i=>{const c=I(e),d=I(t.maxWait);return n&&u(n),c<=0||d!==void 0&&d<=0?(r&&(u(r),r=void 0),Promise.resolve(i())):new Promise((s,h)=>{l=t.rejectOnCancel?h:s,f=i,d&&!r&&(r=setTimeout(()=>{n&&u(n),r=void 0,s(f())},d)),n=setTimeout(()=>{r&&u(r),r=void 0,s(i())},c)})}}function Re(...e){let t=0,n,r=!0,l=L,u,f,o,i,c;!ge(e[0])&&typeof e[0]=="object"?{delay:f,trailing:o=!0,leading:i=!0,rejectOnCancel:c=!1}=e[0]:[f,o=!0,i=!0,c=!1]=e;const d=()=>{n&&(clearTimeout(n),n=void 0,l(),l=L)};return h=>{const m=I(f),b=Date.now()-t,P=()=>u=h();return d(),m<=0?(t=Date.now(),P()):(b>m?(t=Date.now(),(i||!r)&&P()):o&&(u=new Promise((w,T)=>{l=c?T:w,n=setTimeout(()=>{t=Date.now(),r=!0,w(P()),d()},Math.max(0,m-b))})),!i&&!n&&(n=setTimeout(()=>r=!0,m)),r=!1,u)}}function We(e=he,t={}){const{initialState:n="active"}=t,r=Me(n==="active");function l(){r.value=!1}function u(){r.value=!0}const f=(...o)=>{r.value&&e(...o)};return{isActive:K(r),pause:l,resume:u,eventFilter:f}}function le(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function J(e){return Array.isArray(e)?e:[e]}function Ce(e){return q()}function Le(e,t=200,n={}){return te(Fe(t,n),e)}function ye(e,t=200,n=!1,r=!0,l=!1){return te(Re(t,n,r,l),e)}function nt(e,t=200,n=!0,r=!0){if(t<=0)return e;const l=D(I(e)),u=ye(()=>{l.value=e.value},t,n,r);return z(e,()=>u()),l}function Ne(e,t,n={}){const{eventFilter:r=he,...l}=n;return z(e,te(r,t),l)}function He(e,t,n={}){const{eventFilter:r,initialState:l="active",...u}=n,{eventFilter:f,pause:o,resume:i,isActive:c}=We(r,{initialState:l});return{stop:Ne(e,t,{...u,eventFilter:f}),pause:o,resume:i,isActive:c}}const ze=He;function Y(e,t=!0,n){Ce()?pe(e,n):t?e():fe(e)}function _e(e,t,n){return z(e,t,{...n,immediate:!0})}const W=Ae?window:void 0;function N(e){var t;const n=I(e);return(t=n?.$el)!==null&&t!==void 0?t:n}function H(...e){const t=[],n=()=>{t.forEach(o=>o()),t.length=0},r=(o,i,c,d)=>(o.addEventListener(i,c,d),()=>o.removeEventListener(i,c,d)),l=M(()=>{const o=J(I(e[0])).filter(i=>i!=null);return o.every(i=>typeof i!="string")?o:void 0}),u=_e(()=>{var o,i;return[(o=(i=l.value)===null||i===void 0?void 0:i.map(c=>N(c)))!==null&&o!==void 0?o:[W].filter(c=>c!=null),J(I(l.value?e[1]:e[0])),J(Ie(l.value?e[2]:e[1])),I(l.value?e[3]:e[2])]},([o,i,c,d])=>{if(n(),!o?.length||!i?.length||!c?.length)return;const s=De(d)?{...d}:d;t.push(...o.flatMap(h=>i.flatMap(m=>c.map(b=>r(h,m,b,s)))))},{flush:"post"}),f=()=>{u(),n()};return G(n),f}function je(){const e=A(!1),t=q();return t&&pe(()=>{e.value=!0},t),e}function Q(e){const t=je();return M(()=>(t.value,!!e()))}function Se(e,t,n={}){const{window:r=W,...l}=n;let u;const f=Q(()=>r&&"MutationObserver"in r),o=()=>{u&&(u.disconnect(),u=void 0)},i=z(M(()=>{const s=J(I(e)).map(N).filter(me);return new Set(s)}),s=>{o(),f.value&&s.size&&(u=new MutationObserver(t),s.forEach(h=>u.observe(h,l)))},{immediate:!0,flush:"post"}),c=()=>u?.takeRecords(),d=()=>{i(),o()};return G(d),{isSupported:f,stop:d,takeRecords:c}}const Be=Symbol("vueuse-ssr-width");function Je(){const e=ve()?Ee(Be,null):null;return typeof e=="number"?e:void 0}function Ue(e,t={}){const{window:n=W,ssrWidth:r=Je()}=t,l=Q(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),u=A(typeof r=="number"),f=A(),o=A(!1),i=c=>{o.value=c.matches};return xe(()=>{if(u.value){u.value=!l.value,o.value=I(e).split(",").some(c=>{const d=c.includes("not all"),s=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(s||h);return s&&m&&(m=r>=le(s[1])),h&&m&&(m=r<=le(h[1])),d?!m:m});return}l.value&&(f.value=n.matchMedia(I(e)),o.value=f.value.matches)}),H(f,"change",i,{passive:!0}),M(()=>o.value)}const U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$="__vueuse_ssr_handlers__",$e=Ke();function Ke(){return $ in U||(U[$]=U[$]||{}),U[$]}function Ge(e,t){return $e[e]||t}function Ye(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Qe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},ie="vueuse-storage";function ue(e,t,n,r={}){var l;const{flush:u="pre",deep:f=!0,listenToStorageChanges:o=!0,writeDefaults:i=!0,mergeDefaults:c=!1,shallow:d,window:s=W,eventFilter:h,onError:m=y=>{console.error(y)},initOnMounted:b}=r,P=(d?A:D)(typeof t=="function"?t():t),w=M(()=>I(e));if(!n)try{n=Ge("getDefaultStorage",()=>W?.localStorage)()}catch(y){m(y)}if(!n)return P;const T=I(t),E=Ye(T),O=(l=r.serializer)!==null&&l!==void 0?l:Qe[E],{pause:a,resume:k}=ze(P,y=>C(y),{flush:u,deep:f,eventFilter:h});z(w,()=>R(),{flush:u});let x=!1;const v=y=>{b&&!x||R(y)},g=y=>{b&&!x||_(y)};s&&o&&(n instanceof Storage?H(s,"storage",v,{passive:!0}):H(s,ie,g)),b?Y(()=>{x=!0,R()}):R();function p(y,S){if(s){const V={key:w.value,oldValue:y,newValue:S,storageArea:n};s.dispatchEvent(n instanceof Storage?new StorageEvent("storage",V):new CustomEvent(ie,{detail:V}))}}function C(y){try{const S=n.getItem(w.value);if(y==null)p(S,null),n.removeItem(w.value);else{const V=O.write(y);S!==V&&(n.setItem(w.value,V),p(S,V))}}catch(S){m(S)}}function F(y){const S=y?y.newValue:n.getItem(w.value);if(S==null)return i&&T!=null&&n.setItem(w.value,O.write(T)),T;if(!y&&c){const V=O.read(S);return typeof c=="function"?c(V,T):E==="object"&&!Array.isArray(V)?{...T,...V}:V}else return typeof S!="string"?S:O.read(S)}function R(y){if(!(y&&y.storageArea!==n)){if(y&&y.key==null){P.value=T;return}if(!(y&&y.key!==w.value)){a();try{const S=O.write(P.value);(y===void 0||y?.newValue!==S)&&(P.value=F(y))}catch(S){m(S)}finally{y?fe(k):k()}}}}function _(y){R(y.detail)}return P}function Xe(e,t,n={}){const{window:r=W,...l}=n;let u;const f=Q(()=>r&&"ResizeObserver"in r),o=()=>{u&&(u.disconnect(),u=void 0)},i=z(M(()=>{const d=I(e);return Array.isArray(d)?d.map(s=>N(s)):[N(d)]}),d=>{if(o(),f.value&&r){u=new ResizeObserver(t);for(const s of d)s&&u.observe(s,l)}},{immediate:!0,flush:"post"}),c=()=>{o(),i()};return G(c),{isSupported:f,stop:c}}function ot(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:l=!0,immediate:u=!0,updateTiming:f="sync"}=t,o=A(0),i=A(0),c=A(0),d=A(0),s=A(0),h=A(0),m=A(0),b=A(0);function P(){const T=N(e);if(!T){n&&(o.value=0,i.value=0,c.value=0,d.value=0,s.value=0,h.value=0,m.value=0,b.value=0);return}const E=T.getBoundingClientRect();o.value=E.height,i.value=E.bottom,c.value=E.left,d.value=E.right,s.value=E.top,h.value=E.width,m.value=E.x,b.value=E.y}function w(){f==="sync"?P():f==="next-frame"&&requestAnimationFrame(()=>P())}return Xe(e,w),z(()=>N(e),T=>!T&&w()),Se(e,w,{attributeFilter:["style","class"]}),l&&H("scroll",w,{capture:!0,passive:!0}),r&&H("resize",w,{passive:!0}),Y(()=>{u&&w()}),{height:o,bottom:i,left:c,right:d,top:s,width:h,x:m,y:b,update:w}}function rt(e,t,n={}){const{root:r,rootMargin:l="0px",threshold:u=0,window:f=W,immediate:o=!0}=n,i=Q(()=>f&&"IntersectionObserver"in f),c=M(()=>J(I(e)).map(N).filter(me));let d=L;const s=A(o),h=i.value?z(()=>[c.value,N(r),s.value],([b,P])=>{if(d(),!s.value||!b.length)return;const w=new IntersectionObserver(t,{root:N(P),rootMargin:l,threshold:u});b.forEach(T=>T&&w.observe(T)),d=()=>{w.disconnect(),d=L}},{immediate:o,flush:"post"}):L,m=()=>{d(),h(),s.value=!1};return G(m),{isSupported:i,isActive:s,pause(){d(),s.value=!1},resume(){s.value=!0},stop:m}}const ce=1;function Ze(e,t={}){const{throttle:n=0,idle:r=200,onStop:l=L,onScroll:u=L,offset:f={left:0,right:0,top:0,bottom:0},observe:o={mutation:!1},eventListenerOptions:i={capture:!1,passive:!0},behavior:c="auto",window:d=W,onError:s=p=>{console.error(p)}}=t,h=typeof o=="boolean"?{mutation:o}:o,m=A(0),b=A(0),P=M({get(){return m.value},set(p){T(p,void 0)}}),w=M({get(){return b.value},set(p){T(void 0,p)}});function T(p,C){var F,R,_,y;if(!d)return;const S=I(e);if(!S)return;(F=S instanceof Document?d.document.body:S)===null||F===void 0||F.scrollTo({top:(R=I(C))!==null&&R!==void 0?R:w.value,left:(_=I(p))!==null&&_!==void 0?_:P.value,behavior:I(c)});const V=(S==null||(y=S.document)===null||y===void 0?void 0:y.documentElement)||S?.documentElement||S;P!=null&&(m.value=V.scrollLeft),w!=null&&(b.value=V.scrollTop)}const E=A(!1),O=ae({left:!0,right:!1,top:!0,bottom:!1}),a=ae({left:!1,right:!1,top:!1,bottom:!1}),k=p=>{E.value&&(E.value=!1,a.left=!1,a.right=!1,a.top=!1,a.bottom=!1,l(p))},x=Le(k,n+r),v=p=>{var C;if(!d)return;const F=(p==null||(C=p.document)===null||C===void 0?void 0:C.documentElement)||p?.documentElement||N(p),{display:R,flexDirection:_,direction:y}=getComputedStyle(F),S=y==="rtl"?-1:1,V=F.scrollLeft;a.left=V<m.value,a.right=V>m.value;const ne=Math.abs(V*S)<=(f.left||0),oe=Math.abs(V*S)+F.clientWidth>=F.scrollWidth-(f.right||0)-ce;R==="flex"&&_==="row-reverse"?(O.left=oe,O.right=ne):(O.left=ne,O.right=oe),m.value=V;let j=F.scrollTop;p===d.document&&!j&&(j=d.document.body.scrollTop),a.top=j<b.value,a.bottom=j>b.value;const re=Math.abs(j)<=(f.top||0),se=Math.abs(j)+F.clientHeight>=F.scrollHeight-(f.bottom||0)-ce;R==="flex"&&_==="column-reverse"?(O.top=se,O.bottom=re):(O.top=re,O.bottom=se),b.value=j},g=p=>{var C;d&&(v((C=p.target.documentElement)!==null&&C!==void 0?C:p.target),E.value=!0,x(p),u(p))};return H(e,"scroll",n?ye(g,n,!0,!1):g,i),Y(()=>{try{const p=I(e);if(!p)return;v(p)}catch(p){s(p)}}),h?.mutation&&e!=null&&e!==d&&e!==document&&Se(e,()=>{const p=I(e);p&&v(p)},{attributes:!0,childList:!0,subtree:!0}),H(e,"scrollend",k,i),{x:P,y:w,isScrolling:E,arrivedState:O,directions:a,measure(){const p=I(e);d&&p&&v(p)}}}function st(e={}){const{window:t=W,...n}=e;return Ze(t,n)}function at(e={}){const{window:t=W,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:l=!0,includeScrollbar:u=!0,type:f="inner"}=e,o=A(n),i=A(r),c=()=>{if(t)if(f==="outer")o.value=t.outerWidth,i.value=t.outerHeight;else if(f==="visual"&&t.visualViewport){const{width:s,height:h,scale:m}=t.visualViewport;o.value=Math.round(s*m),i.value=Math.round(h*m)}else u?(o.value=t.innerWidth,i.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,i.value=t.document.documentElement.clientHeight)};c(),Y(c);const d={passive:!0};return H("resize",c,d),t&&f==="visual"&&t.visualViewport&&H(t.visualViewport,"resize",c,d),l&&z(Ue("(orientation: portrait)"),()=>c()),{width:o,height:i}}const be=ee("playlistStore",()=>{const e=D(null),t=D(null),n=D(!1),r=D(""),l=M(()=>e.value!==null),u=M(()=>e.value?.videos||[]),f=s=>[...s].sort((h,m)=>h.createdAt&&!m.createdAt?-1:!h.createdAt&&m.createdAt?1:h.createdAt&&m.createdAt?m.createdAt-h.createdAt:0),o=s=>({...s,videos:f(s.videos)});return{currentPlaylist:e,loading:n,error:r,hasCurrentPlaylist:l,originalCurrentPlaylist:t,currentVideos:u,loadFirstPlaylist:async()=>{try{n.value=!0,r.value="";const s=await $fetch("/index.json");if(!s.success||!s.data.length){e.value=null,t.value=null;return}const h=s.data[0],m=await $fetch(`/playlist/${h?.fileName}`),b=o(m);e.value=b,t.value=JSON.parse(JSON.stringify(b))}catch(s){console.error("Error loading first playlist:",s),r.value=s.data?.message||s.message||"Failed to load playlist",e.value=null,t.value=null}finally{n.value=!1}},setCurrentPlaylistVideos:s=>{e.value&&(e.value={...e.value,videos:s})},findVideoIndex:s=>e.value?e.value.videos.findIndex(h=>h.id===s):-1,sortVideosByCreatedAt:f}}),B=ee("Player",()=>{const e=D(!1),t=D(null),n=D(0),r=D(!1),l=D(!1),u=D(!1),f=D(null),{currentVideos:o}=Ve(be()),i=M(()=>t.value?o.value.findIndex(g=>g.id===t.value?.id)>0:!1),c=M(()=>{if(!t.value)return!1;const v=o.value.findIndex(g=>g.id===t.value?.id);return v===-1?o.value.length>0:v<o.value.length-1}),d=v=>{t.value=v,l.value=!!v},s=v=>{e.value=v},h=v=>{r.value=v},m=v=>{f.value=v},b=()=>{!f.value||!r.value||(e.value?f.value.pauseVideo():f.value.playVideo())},P=v=>{v>=0&&v<o.value.length&&(n.value=v,t.value=o.value[v]||null)};return{isPlaying:e,currentVideo:t,currentIndex:n,isPlayerReady:r,showPlayerBar:l,isFloatingPlayerOpen:u,canPlayPrevious:i,canPlayNext:c,setCurrentVideo:d,setIsPlaying:s,setIsPlayerReady:h,setCurrentIndex:P,setYouTubePlayerInstance:m,togglePlayPause:b,previousVideo:()=>{if(!t.value)return;const v=o.value.findIndex(g=>g.id===t.value?.id);if(v>0){const g=v-1;n.value=g,t.value=o.value[g]||null}},nextVideo:()=>{if(!t.value)return;const v=o.value.findIndex(g=>g.id===t.value?.id);if(v!==-1&&v<o.value.length-1){const g=v+1;n.value=g,t.value=o.value[g]||null}else v===-1&&o.value.length>0&&(n.value=0,t.value=o.value[0]||null)},playVideo:v=>{P(v)},closePlayer:()=>{l.value=!1,u.value=!1,t.value=null,e.value=!1,r.value=!1,f.value=null},initializeGlobalPlayer:(v=0)=>{P(v),l.value=!0,u.value=!0},openFloatingPlayer:()=>{u.value=!0},closeFloatingPlayer:()=>{u.value=!1}}}),qe={simple:{playPause:" ",nextTrack:"ArrowRight",previousTrack:"ArrowLeft",volumeUp:"ArrowUp",volumeDown:"ArrowDown",mute:"m",seekForward:"l",seekBackward:"j",focusSearch:"ctrl+k"},winamp:{playPause:"c",nextTrack:"b",previousTrack:"z",volumeUp:"ArrowUp",volumeDown:"ArrowDown",mute:"m",seekForward:"v",seekBackward:"c",focusSearch:"ctrl+k"},youtube:{playPause:"k",nextTrack:"n",previousTrack:"p",volumeUp:"ArrowUp",volumeDown:"ArrowDown",mute:"m",seekForward:"l",seekBackward:"j",focusSearch:"ctrl+k"}},lt=ee("userSettingsStore",()=>{const e=D({keyboardShortcutScheme:"winamp",selectedPlatforms:X}),t=D(!0),n=ue("video-view-mode","list"),r=ue("video-player-position",{x:100,y:100,width:320,height:240}),l=M(()=>e.value.customShortcuts?e.value.customShortcuts:qe[e.value.keyboardShortcutScheme]),u=M(()=>[{value:"simple",label:"Simple (Space, Arrow Keys)"},{value:"winamp",label:"Winamp Style (X, Z, B, C, V)"},{value:"youtube",label:"YouTube Style (K, J, L, N, P)"}]),f=a=>{e.value.keyboardShortcutScheme=a,e.value.customShortcuts=void 0,s()},o=a=>{e.value.selectedPlatforms=a,s()},i=()=>{e.value={keyboardShortcutScheme:"simple",selectedPlatforms:X},s()},c=()=>{t.value=!0},d=()=>{t.value=!1},s=()=>{localStorage.setItem("userSettings",JSON.stringify(e.value))},h=()=>{try{const a=localStorage.getItem("userSettings");if(a){const k=JSON.parse(a);e.value={keyboardShortcutScheme:k.keyboardShortcutScheme||"simple",customShortcuts:k.customShortcuts,selectedPlatforms:k.selectedPlatforms||X}}}catch(a){console.warn("Failed to load user settings:",a),i()}},m=a=>{if(!t.value)return;const k=B();if(!b(a,k)&&a.ctrlKey&&a.key.toLowerCase()==="k"){a.preventDefault();const v=document.getElementById("search");v&&v.focus()}},b=(a,k)=>{const x=a.target;if(x instanceof HTMLInputElement||x instanceof HTMLTextAreaElement||x instanceof HTMLSelectElement||x?.contentEditable==="true"||x?.closest("input, textarea, select, [contenteditable]")||x?.closest("[class*='input'], [class*='select'], [class*='dropdown']")||x?.closest("[role='textbox'], [role='combobox'], [role='searchbox']")||x?.closest("[data-input], [data-multiselect]"))return!1;const v=l.value,g=a.key.toLowerCase();let p=!1;return g===v.playPause||e.value.keyboardShortcutScheme==="youtube"&&g===" "?(a.preventDefault(),k.togglePlayPause(),p=!0):g===v.nextTrack?(a.preventDefault(),k.nextVideo(),p=!0):g===v.previousTrack?(a.preventDefault(),k.previousVideo(),p=!0):(g===v.mute||g===v.volumeUp||g===v.volumeDown||g===v.seekForward||g===v.seekBackward)&&(a.preventDefault(),p=!0),p},P=()=>{document.addEventListener("keydown",m)},w=()=>{document.removeEventListener("keydown",m)},T=()=>{if(!("mediaSession"in navigator))return;const a=B();try{navigator.mediaSession.setActionHandler("play",()=>{a.youtubePlayerInstance&&a.isPlayerReady&&a.youtubePlayerInstance.playVideo()}),navigator.mediaSession.setActionHandler("pause",()=>{a.youtubePlayerInstance&&a.isPlayerReady&&a.youtubePlayerInstance.pauseVideo()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{B().previousVideo()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{B().nextVideo()}),navigator.mediaSession.setActionHandler("seekbackward",()=>{if(a.youtubePlayerInstance&&a.isPlayerReady){const k=a.youtubePlayerInstance.getCurrentTime();a.youtubePlayerInstance.seekTo(Math.max(0,k-10))}}),navigator.mediaSession.setActionHandler("seekforward",()=>{if(a.youtubePlayerInstance&&a.isPlayerReady){const k=a.youtubePlayerInstance.getCurrentTime();a.youtubePlayerInstance.seekTo(k+10)}})}catch{}},E=a=>{if(!("mediaSession"in navigator)||!a)return;B();const k=be();navigator.mediaSession.metadata=new MediaMetadata({title:a.title||"Unknown Title",artist:a.artist||"Unknown Artist",album:a.album||void 0,artwork:a.thumbnail?[{src:a.thumbnail,sizes:"512x512",type:"image/jpeg"}]:void 0});try{k.currentVideos.length>1&&(navigator.mediaSession.setActionHandler("previoustrack",()=>{B().previousVideo()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{B().nextVideo()}))}catch{}try{k.currentVideos.findIndex(v=>v.id===a.id)!==-1&&navigator.mediaSession.setPositionState({duration:0,playbackRate:1,position:0})}catch{}},O=a=>{"mediaSession"in navigator&&(navigator.mediaSession.playbackState=a)};return h(),P(),T(),{settings:K(e),shortcutsEnabled:K(t),viewMode:n,videoPlayerPosition:r,currentKeyboardShortcuts:l,availableShortcutSchemes:u,setKeyboardShortcutScheme:f,setSelectedPlatforms:o,resetToDefaults:i,loadSettings:h,saveSettings:s,handleKeyboardEvent:b,enableShortcuts:c,disableShortcuts:d,setupGlobalListeners:P,cleanupGlobalListeners:w,setupMediaSession:T,updateMediaSessionMetadata:E,updateMediaSessionPlaybackState:O}});export{be as a,rt as b,Le as c,st as d,ot as e,at as f,H as g,ye as h,B as i,nt as r,lt as u};
