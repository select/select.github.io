import{_ as Fe}from"./DrCzM1nn.js";import{_ as he,c as Be,g as fe,a as me,b as pe}from"./CCI02-v9.js";import{e as xt,h as q,s as et,x as At,c as O,o as B,f as X,a,t as W,g as $,F as ot,r as lt,d as at,j as ge,v as Te,k as _t,q as wt,n as ct,y as Xt,z as ft,b as it,p as ve,A as ye,m as bt,w as pt,l as Gt,B as Ie,C as xe,D as Oe,u as Ye}from"./Dp5-XELi.js";import{u as Mt,a as Dt,b as Pe,c as $e,d as Le,e as Ue,f as te}from"./Dql2I0Um.js";import"./DZgEAHAr.js";function mt(n){return Array.isArray?Array.isArray(n):we(n)==="[object Array]"}function Ve(n){if(typeof n=="string")return n;let t=n+"";return t=="0"&&1/n==-1/0?"-0":t}function je(n){return n==null?"":Ve(n)}function ht(n){return typeof n=="string"}function be(n){return typeof n=="number"}function Ne(n){return n===!0||n===!1||He(n)&&we(n)=="[object Boolean]"}function Me(n){return typeof n=="object"}function He(n){return Me(n)&&n!==null}function rt(n){return n!=null}function Nt(n){return!n.trim().length}function we(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Re="Incorrect 'index' type",ze=n=>`Invalid value for key ${n}`,Ke=n=>`Pattern length exceeds max of ${n}.`,We=n=>`Missing ${n} property in key`,Ze=n=>`Property 'weight' in key '${n}' must be a positive integer`,ee=Object.prototype.hasOwnProperty;class Ge{constructor(t){this._keys=[],this._keyMap={};let s=0;t.forEach(o=>{let i=Ae(o);this._keys.push(i),this._keyMap[i.id]=i,s+=i.weight}),this._keys.forEach(o=>{o.weight/=s})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ae(n){let t=null,s=null,o=null,i=1,r=null;if(ht(n)||mt(n))o=n,t=se(n),s=Ht(n);else{if(!ee.call(n,"name"))throw new Error(We("name"));const e=n.name;if(o=e,ee.call(n,"weight")&&(i=n.weight,i<=0))throw new Error(Ze(e));t=se(e),s=Ht(e),r=n.getFn}return{path:t,id:s,weight:i,src:o,getFn:r}}function se(n){return mt(n)?n:n.split(".")}function Ht(n){return mt(n)?n.join("."):n}function Je(n,t){let s=[],o=!1;const i=(r,e,l)=>{if(rt(r))if(!e[l])s.push(r);else{let u=e[l];const g=r[u];if(!rt(g))return;if(l===e.length-1&&(ht(g)||be(g)||Ne(g)))s.push(je(g));else if(mt(g)){o=!0;for(let h=0,k=g.length;h<k;h+=1)i(g[h],e,l+1)}else e.length&&i(g,e,l+1)}};return i(n,ht(t)?t.split("."):t,0),o?s:s[0]}const Qe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},qe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,t)=>n.score===t.score?n.idx<t.idx?-1:1:n.score<t.score?-1:1},Xe={location:0,threshold:.6,distance:100},ts={useExtendedSearch:!1,getFn:Je,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var N={...qe,...Qe,...Xe,...ts};const es=/[^ ]+/g;function ss(n=1,t=3){const s=new Map,o=Math.pow(10,t);return{get(i){const r=i.match(es).length;if(s.has(r))return s.get(r);const e=1/Math.pow(r,.5*n),l=parseFloat(Math.round(e*o)/o);return s.set(r,l),l},clear(){s.clear()}}}class Jt{constructor({getFn:t=N.getFn,fieldNormWeight:s=N.fieldNormWeight}={}){this.norm=ss(s,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((s,o)=>{this._keysMap[s.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ht(this.docs[0])?this.docs.forEach((t,s)=>{this._addString(t,s)}):this.docs.forEach((t,s)=>{this._addObject(t,s)}),this.norm.clear())}add(t){const s=this.size();ht(t)?this._addString(t,s):this._addObject(t,s)}removeAt(t){this.records.splice(t,1);for(let s=t,o=this.size();s<o;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(t,s){return t[this._keysMap[s]]}size(){return this.records.length}_addString(t,s){if(!rt(t)||Nt(t))return;let o={v:t,i:s,n:this.norm.get(t)};this.records.push(o)}_addObject(t,s){let o={i:s,$:{}};this.keys.forEach((i,r)=>{let e=i.getFn?i.getFn(t):this.getFn(t,i.path);if(rt(e)){if(mt(e)){let l=[];const u=[{nestedArrIndex:-1,value:e}];for(;u.length;){const{nestedArrIndex:g,value:h}=u.pop();if(rt(h))if(ht(h)&&!Nt(h)){let k={v:h,i:g,n:this.norm.get(h)};l.push(k)}else mt(h)&&h.forEach((k,C)=>{u.push({nestedArrIndex:C,value:k})})}o.$[r]=l}else if(ht(e)&&!Nt(e)){let l={v:e,n:this.norm.get(e)};o.$[r]=l}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function _e(n,t,{getFn:s=N.getFn,fieldNormWeight:o=N.fieldNormWeight}={}){const i=new Jt({getFn:s,fieldNormWeight:o});return i.setKeys(n.map(Ae)),i.setSources(t),i.create(),i}function ns(n,{getFn:t=N.getFn,fieldNormWeight:s=N.fieldNormWeight}={}){const{keys:o,records:i}=n,r=new Jt({getFn:t,fieldNormWeight:s});return r.setKeys(o),r.setIndexRecords(i),r}function Et(n,{errors:t=0,currentLocation:s=0,expectedLocation:o=0,distance:i=N.distance,ignoreLocation:r=N.ignoreLocation}={}){const e=t/n.length;if(r)return e;const l=Math.abs(o-s);return i?e+l/i:l?1:e}function is(n=[],t=N.minMatchCharLength){let s=[],o=-1,i=-1,r=0;for(let e=n.length;r<e;r+=1){let l=n[r];l&&o===-1?o=r:!l&&o!==-1&&(i=r-1,i-o+1>=t&&s.push([o,i]),o=-1)}return n[r-1]&&r-o>=t&&s.push([o,r-1]),s}const yt=32;function rs(n,t,s,{location:o=N.location,distance:i=N.distance,threshold:r=N.threshold,findAllMatches:e=N.findAllMatches,minMatchCharLength:l=N.minMatchCharLength,includeMatches:u=N.includeMatches,ignoreLocation:g=N.ignoreLocation}={}){if(t.length>yt)throw new Error(Ke(yt));const h=t.length,k=n.length,C=Math.max(0,Math.min(o,k));let M=r,x=C;const f=l>1||u,c=f?Array(k):[];let p;for(;(p=n.indexOf(t,x))>-1;){let w=Et(t,{currentLocation:p,expectedLocation:C,distance:i,ignoreLocation:g});if(M=Math.min(w,M),x=p+h,f){let v=0;for(;v<h;)c[p+v]=1,v+=1}}x=-1;let m=[],_=1,V=h+k;const Y=1<<h-1;for(let w=0;w<h;w+=1){let v=0,T=V;for(;v<T;)Et(t,{errors:w,currentLocation:C+T,expectedLocation:C,distance:i,ignoreLocation:g})<=M?v=T:V=T,T=Math.floor((V-v)/2+v);V=T;let P=Math.max(1,C-T+1),F=e?k:Math.min(C+T,k)+h,I=Array(F+2);I[F+1]=(1<<w)-1;for(let y=F;y>=P;y-=1){let A=y-1,b=s[n.charAt(A)];if(f&&(c[A]=+!!b),I[y]=(I[y+1]<<1|1)&b,w&&(I[y]|=(m[y+1]|m[y])<<1|1|m[y+1]),I[y]&Y&&(_=Et(t,{errors:w,currentLocation:A,expectedLocation:C,distance:i,ignoreLocation:g}),_<=M)){if(M=_,x=A,x<=C)break;P=Math.max(1,2*C-x)}}if(Et(t,{errors:w+1,currentLocation:C,expectedLocation:C,distance:i,ignoreLocation:g})>M)break;m=I}const S={isMatch:x>=0,score:Math.max(.001,_)};if(f){const w=is(c,l);w.length?u&&(S.indices=w):S.isMatch=!1}return S}function os(n){let t={};for(let s=0,o=n.length;s<o;s+=1){const i=n.charAt(s);t[i]=(t[i]||0)|1<<o-s-1}return t}const Yt=String.prototype.normalize?(n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(n=>n);class De{constructor(t,{location:s=N.location,threshold:o=N.threshold,distance:i=N.distance,includeMatches:r=N.includeMatches,findAllMatches:e=N.findAllMatches,minMatchCharLength:l=N.minMatchCharLength,isCaseSensitive:u=N.isCaseSensitive,ignoreDiacritics:g=N.ignoreDiacritics,ignoreLocation:h=N.ignoreLocation}={}){if(this.options={location:s,threshold:o,distance:i,includeMatches:r,findAllMatches:e,minMatchCharLength:l,isCaseSensitive:u,ignoreDiacritics:g,ignoreLocation:h},t=u?t:t.toLowerCase(),t=g?Yt(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const k=(M,x)=>{this.chunks.push({pattern:M,alphabet:os(M),startIndex:x})},C=this.pattern.length;if(C>yt){let M=0;const x=C%yt,f=C-x;for(;M<f;)k(this.pattern.substr(M,yt),M),M+=yt;if(x){const c=C-yt;k(this.pattern.substr(c),c)}}else k(this.pattern,0)}searchIn(t){const{isCaseSensitive:s,ignoreDiacritics:o,includeMatches:i}=this.options;if(t=s?t:t.toLowerCase(),t=o?Yt(t):t,this.pattern===t){let f={isMatch:!0,score:0};return i&&(f.indices=[[0,t.length-1]]),f}const{location:r,distance:e,threshold:l,findAllMatches:u,minMatchCharLength:g,ignoreLocation:h}=this.options;let k=[],C=0,M=!1;this.chunks.forEach(({pattern:f,alphabet:c,startIndex:p})=>{const{isMatch:m,score:_,indices:V}=rs(t,f,c,{location:r+p,distance:e,threshold:l,findAllMatches:u,minMatchCharLength:g,includeMatches:i,ignoreLocation:h});m&&(M=!0),C+=_,m&&V&&(k=[...k,...V])});let x={isMatch:M,score:M?C/this.chunks.length:1};return M&&i&&(x.indices=k),x}}class vt{constructor(t){this.pattern=t}static isMultiMatch(t){return ne(t,this.multiRegex)}static isSingleMatch(t){return ne(t,this.singleRegex)}search(){}}function ne(n,t){const s=n.match(t);return s?s[1]:null}class as extends vt{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const s=t===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class ls extends vt{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const o=t.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,t.length-1]}}}class us extends vt{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const s=t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class cs extends vt{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const s=!t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class ds extends vt{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const s=t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class hs extends vt{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const s=!t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class ke extends vt{constructor(t,{location:s=N.location,threshold:o=N.threshold,distance:i=N.distance,includeMatches:r=N.includeMatches,findAllMatches:e=N.findAllMatches,minMatchCharLength:l=N.minMatchCharLength,isCaseSensitive:u=N.isCaseSensitive,ignoreDiacritics:g=N.ignoreDiacritics,ignoreLocation:h=N.ignoreLocation}={}){super(t),this._bitapSearch=new De(t,{location:s,threshold:o,distance:i,includeMatches:r,findAllMatches:e,minMatchCharLength:l,isCaseSensitive:u,ignoreDiacritics:g,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Se extends vt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let s=0,o;const i=[],r=this.pattern.length;for(;(o=t.indexOf(this.pattern,s))>-1;)s=o+r,i.push([o,s-1]);const e=!!i.length;return{isMatch:e,score:e?0:1,indices:i}}}const Rt=[as,Se,us,cs,hs,ds,ls,ke],ie=Rt.length,fs=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ms="|";function ps(n,t={}){return n.split(ms).map(s=>{let o=s.trim().split(fs).filter(r=>r&&!!r.trim()),i=[];for(let r=0,e=o.length;r<e;r+=1){const l=o[r];let u=!1,g=-1;for(;!u&&++g<ie;){const h=Rt[g];let k=h.isMultiMatch(l);k&&(i.push(new h(k,t)),u=!0)}if(!u)for(g=-1;++g<ie;){const h=Rt[g];let k=h.isSingleMatch(l);if(k){i.push(new h(k,t));break}}}return i})}const gs=new Set([ke.type,Se.type]);class vs{constructor(t,{isCaseSensitive:s=N.isCaseSensitive,ignoreDiacritics:o=N.ignoreDiacritics,includeMatches:i=N.includeMatches,minMatchCharLength:r=N.minMatchCharLength,ignoreLocation:e=N.ignoreLocation,findAllMatches:l=N.findAllMatches,location:u=N.location,threshold:g=N.threshold,distance:h=N.distance}={}){this.query=null,this.options={isCaseSensitive:s,ignoreDiacritics:o,includeMatches:i,minMatchCharLength:r,findAllMatches:l,ignoreLocation:e,location:u,threshold:g,distance:h},t=s?t:t.toLowerCase(),t=o?Yt(t):t,this.pattern=t,this.query=ps(this.pattern,this.options)}static condition(t,s){return s.useExtendedSearch}searchIn(t){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:i,ignoreDiacritics:r}=this.options;t=i?t:t.toLowerCase(),t=r?Yt(t):t;let e=0,l=[],u=0;for(let g=0,h=s.length;g<h;g+=1){const k=s[g];l.length=0,e=0;for(let C=0,M=k.length;C<M;C+=1){const x=k[C],{isMatch:f,indices:c,score:p}=x.search(t);if(f){if(e+=1,u+=p,o){const m=x.constructor.type;gs.has(m)?l=[...l,...c]:l.push(c)}}else{u=0,e=0,l.length=0;break}}if(e){let C={isMatch:!0,score:u/e};return o&&(C.indices=l),C}}return{isMatch:!1,score:1}}}const zt=[];function ys(...n){zt.push(...n)}function Kt(n,t){for(let s=0,o=zt.length;s<o;s+=1){let i=zt[s];if(i.condition(n,t))return new i(n,t)}return new De(n,t)}const Pt={AND:"$and",OR:"$or"},Wt={PATH:"$path",PATTERN:"$val"},Zt=n=>!!(n[Pt.AND]||n[Pt.OR]),xs=n=>!!n[Wt.PATH],$s=n=>!mt(n)&&Me(n)&&!Zt(n),re=n=>({[Pt.AND]:Object.keys(n).map(t=>({[t]:n[t]}))});function Ce(n,t,{auto:s=!0}={}){const o=i=>{let r=Object.keys(i);const e=xs(i);if(!e&&r.length>1&&!Zt(i))return o(re(i));if($s(i)){const u=e?i[Wt.PATH]:r[0],g=e?i[Wt.PATTERN]:i[u];if(!ht(g))throw new Error(ze(u));const h={keyId:Ht(u),pattern:g};return s&&(h.searcher=Kt(g,t)),h}let l={children:[],operator:r[0]};return r.forEach(u=>{const g=i[u];mt(g)&&g.forEach(h=>{l.children.push(o(h))})}),l};return Zt(n)||(n=re(n)),o(n)}function bs(n,{ignoreFieldNorm:t=N.ignoreFieldNorm}){n.forEach(s=>{let o=1;s.matches.forEach(({key:i,norm:r,score:e})=>{const l=i?i.weight:null;o*=Math.pow(e===0&&l?Number.EPSILON:e,(l||1)*(t?1:r))}),s.score=o})}function Ms(n,t){const s=n.matches;t.matches=[],rt(s)&&s.forEach(o=>{if(!rt(o.indices)||!o.indices.length)return;const{indices:i,value:r}=o;let e={indices:i,value:r};o.key&&(e.key=o.key.src),o.idx>-1&&(e.refIndex=o.idx),t.matches.push(e)})}function ws(n,t){t.score=n.score}function As(n,t,{includeMatches:s=N.includeMatches,includeScore:o=N.includeScore}={}){const i=[];return s&&i.push(Ms),o&&i.push(ws),n.map(r=>{const{idx:e}=r,l={item:t[e],refIndex:e};return i.length&&i.forEach(u=>{u(r,l)}),l})}class $t{constructor(t,s={},o){this.options={...N,...s},this.options.useExtendedSearch,this._keyStore=new Ge(this.options.keys),this.setCollection(t,o)}setCollection(t,s){if(this._docs=t,s&&!(s instanceof Jt))throw new Error(Re);this._myIndex=s||_e(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){rt(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const s=[];for(let o=0,i=this._docs.length;o<i;o+=1){const r=this._docs[o];t(r,o)&&(this.removeAt(o),o-=1,i-=1,s.push(r))}return s}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:s=-1}={}){const{includeMatches:o,includeScore:i,shouldSort:r,sortFn:e,ignoreFieldNorm:l}=this.options;let u=ht(t)?ht(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return bs(u,{ignoreFieldNorm:l}),r&&u.sort(e),be(s)&&s>-1&&(u=u.slice(0,s)),As(u,this._docs,{includeMatches:o,includeScore:i})}_searchStringList(t){const s=Kt(t,this.options),{records:o}=this._myIndex,i=[];return o.forEach(({v:r,i:e,n:l})=>{if(!rt(r))return;const{isMatch:u,score:g,indices:h}=s.searchIn(r);u&&i.push({item:r,idx:e,matches:[{score:g,value:r,norm:l,indices:h}]})}),i}_searchLogical(t){const s=Ce(t,this.options),o=(l,u,g)=>{if(!l.children){const{keyId:k,searcher:C}=l,M=this._findMatches({key:this._keyStore.get(k),value:this._myIndex.getValueForItemAtKeyId(u,k),searcher:C});return M&&M.length?[{idx:g,item:u,matches:M}]:[]}const h=[];for(let k=0,C=l.children.length;k<C;k+=1){const M=l.children[k],x=o(M,u,g);if(x.length)h.push(...x);else if(l.operator===Pt.AND)return[]}return h},i=this._myIndex.records,r={},e=[];return i.forEach(({$:l,i:u})=>{if(rt(l)){let g=o(s,l,u);g.length&&(r[u]||(r[u]={idx:u,item:l,matches:[]},e.push(r[u])),g.forEach(({matches:h})=>{r[u].matches.push(...h)}))}}),e}_searchObjectList(t){const s=Kt(t,this.options),{keys:o,records:i}=this._myIndex,r=[];return i.forEach(({$:e,i:l})=>{if(!rt(e))return;let u=[];o.forEach((g,h)=>{u.push(...this._findMatches({key:g,value:e[h],searcher:s}))}),u.length&&r.push({idx:l,item:e,matches:u})}),r}_findMatches({key:t,value:s,searcher:o}){if(!rt(s))return[];let i=[];if(mt(s))s.forEach(({v:r,i:e,n:l})=>{if(!rt(r))return;const{isMatch:u,score:g,indices:h}=o.searchIn(r);u&&i.push({score:g,key:t,value:r,idx:e,norm:l,indices:h})});else{const{v:r,n:e}=s,{isMatch:l,score:u,indices:g}=o.searchIn(r);l&&i.push({score:u,key:t,value:r,norm:e,indices:g})}return i}}$t.version="7.1.0";$t.createIndex=_e;$t.parseIndex=ns;$t.config=N;$t.parseQuery=Ce;ys(vs);const _s={class:"relative"},Ds=["for"],ks={class:"relative rounded-lg bg-primary-1 focus-within:ring-2 focus-within:ring-accent focus-within:border-accent transition-colors","data-multiselect":""},Ss={key:0,class:"flex flex-wrap gap-1 p-2 border-b border-primary-2"},Cs=["onClick"],Es={class:"relative"},Fs=["id","placeholder","disabled"],Bs={key:1,class:"absolute z-50 w-full mt-1 bg-primary-1 border border-primary-2 rounded-lg shadow-lg max-h-60 overflow-y-auto"},Ts=["onClick","onMouseenter"],Is={key:0,class:"i-mdi-check text-accent"},Os={class:"text-primary-4"},Ys={key:1,class:"px-3 py-2 text-primary-3 text-center"},Ps=xt({__name:"AppInputMultiSelect",props:{id:{default:()=>`multiselect-${Math.random().toString(36).substr(2,9)}`},label:{default:""},placeholder:{default:"Search and select options..."},options:{},modelValue:{},disabled:{type:Boolean,default:!1},maxSelections:{default:void 0}},emits:["update:modelValue"],setup(n,{emit:t}){const s=n,o=t,i=q(""),r=q(!1),e=q(-1),l=q(),u=et({get:()=>s.modelValue,set:c=>o("update:modelValue",c)}),g=et(()=>new $t(s.options,{threshold:.3,includeScore:!0,minMatchCharLength:1})),h=et(()=>i.value.trim()?g.value.search(i.value).map(p=>p.item).slice(0,50):s.options.slice(0,50)),k=c=>{const p=[...u.value],m=p.indexOf(c);m>-1?p.splice(m,1):(!s.maxSelections||p.length<s.maxSelections)&&p.push(c),u.value=p,e.value=-1},C=c=>{const p=[...u.value],m=p.indexOf(c);m>-1&&(p.splice(m,1),u.value=p)},M=c=>{c&&!u.value.includes(c)&&(!s.maxSelections||u.value.length<s.maxSelections)&&(u.value=[...u.value,c]),r.value=!1,e.value=-1},x=()=>{s.disabled||(r.value=!r.value,r.value&&Xt(()=>{l.value?.focus()}))},f=c=>{if(s.disabled)return;const p=i.value.trim()&&!s.options.includes(i.value.trim())&&!u.value.includes(i.value.trim()),m=h.value.length+(p?1:0);switch(c.key){case"ArrowDown":c.preventDefault(),r.value=!0,e.value<m-1?e.value++:e.value=0;break;case"ArrowUp":c.preventDefault(),r.value=!0,e.value>0?e.value--:e.value=m-1;break;case"Enter":c.preventDefault(),r.value&&e.value>=0&&m>0?e.value<h.value.length?k(h.value[e.value]):p&&M(i.value.trim()):(r.value=!0,m>0&&(e.value=0));break;case"Escape":c.preventDefault(),r.value=!1,e.value=-1,l.value?.blur();break;case"Backspace":if(!i.value&&u.value.length>0){c.preventDefault();const _=u.value[u.value.length-1];_&&C(_)}break}};return At(i,()=>{e.value=-1}),At(r,c=>{c&&Xt(()=>{l.value?.focus()})}),(c,p)=>(B(),O("div",_s,[n.label?(B(),O("label",{key:0,for:n.id,class:"block text-sm font-medium mb-2"},W(n.label),9,Ds)):X("",!0),a("div",ks,[$(u).length>0?(B(),O("div",Ss,[(B(!0),O(ot,null,lt($(u),m=>(B(),O("span",{key:m,class:"inline-flex items-center gap-1 px-2 py-1 bg-primary-2 text-primary-4 text-xs rounded"},[at(W(m)+" ",1),a("button",{type:"button",class:"hover:text-accent transition-colors",onClick:_=>C(m)},[...p[5]||(p[5]=[a("div",{class:"i-mdi-close text-xs"},null,-1)])],8,Cs)]))),128))])):X("",!0),a("div",Es,[ge(a("input",{id:n.id,ref_key:"inputRef",ref:l,"onUpdate:modelValue":p[0]||(p[0]=m=>wt(i)?i.value=m:null),type:"text",placeholder:n.placeholder,disabled:n.disabled,class:"w-full px-3 py-2 bg-transparent text-primary-4 placeholder-primary-3 focus:outline-none",autocomplete:"off",onFocus:p[1]||(p[1]=m=>r.value=!0),onKeydown:_t(f,["stop"])},null,40,Fs),[[Te,$(i)]]),a("button",{type:"button",class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-primary-3 hover:text-accent transition-colors",onClick:x},[a("div",{class:ct(["transition-transform duration-200",$(r)?"i-mdi-chevron-up":"i-mdi-chevron-down"])},null,2)])])]),$(r)&&($(h).length>0||$(i).trim())?(B(),O("div",Bs,[(B(!0),O(ot,null,lt($(h),(m,_)=>(B(),O("button",{key:m,type:"button",class:ct(["w-full px-3 py-2 text-left hover:bg-bg-gradient transition-colors flex items-center justify-between",$(e)===_?"bg-bg-gradient":"",$(u).includes(m)?"text-accent":"text-primary-4"]),onClick:V=>k(m),onMouseenter:V=>e.value=_},[a("span",null,W(m),1),$(u).includes(m)?(B(),O("div",Is)):X("",!0)],42,Ts))),128)),$(i).trim()&&!n.options.includes($(i).trim())&&!$(u).includes($(i).trim())?(B(),O("button",{key:0,type:"button",class:ct(["w-full px-3 py-2 text-left hover:bg-bg-gradient transition-colors flex items-center gap-2 border-t border-primary-2",$(e)===$(h).length?"bg-bg-gradient":""]),onClick:p[2]||(p[2]=m=>M($(i).trim())),onMouseenter:p[3]||(p[3]=m=>e.value=$(h).length)},[p[6]||(p[6]=a("div",{class:"i-mdi-plus text-accent"},null,-1)),a("span",Os,'Add "'+W($(i).trim())+'"',1)],34)):X("",!0),$(h).length===0&&!$(i).trim()?(B(),O("div",Ys," No options available ")):X("",!0)])):X("",!0),$(r)?(B(),O("div",{key:2,class:"fixed inset-0 z-40",onClick:p[4]||(p[4]=m=>r.value=!1)})):X("",!0)]))}}),Ls=Object.assign(Ps,{__name:"AppInputMultiSelect"}),Us={class:"flex justify-between items-center mb-4"},Vs={class:"space-y-3"},js={class:"flex justify-between items-center"},Ns={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Hs={class:"flex justify-between items-center"},Rs={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},zs={class:"flex justify-between items-center"},Ks={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Ws={class:"flex justify-between items-center"},Zs={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Gs={class:"flex justify-between items-center"},Js={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Qs={class:"flex justify-between items-center"},qs={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Xs={class:"flex justify-between items-center"},tn={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},en={class:"flex justify-between items-center"},sn={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},nn={class:"flex justify-between items-center"},rn={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},on={class:"mt-6 pt-4 border-t border-primary-2"},an={class:"text-sm text-primary-3"},ln={class:"text-primary-4 font-medium"},un=xt({__name:"KeyboardShortcutsHelp",props:{showHelp:{type:Boolean,default:!1}},emits:["close"],setup(n){const{currentKeyboardShortcuts:t,settings:s}=ft(Mt()),o=et(()=>({playPause:i(t.value.playPause),nextTrack:i(t.value.nextTrack),previousTrack:i(t.value.previousTrack),volumeUp:i(t.value.volumeUp),volumeDown:i(t.value.volumeDown),mute:i(t.value.mute),seekForward:i(t.value.seekForward),seekBackward:i(t.value.seekBackward),focusSearch:i(t.value.focusSearch)})),i=r=>({" ":"Space",ArrowLeft:"←",ArrowRight:"→",ArrowUp:"↑",ArrowDown:"↓",x:"X",z:"Z",b:"B",c:"C",v:"V",m:"M",l:"L",j:"J",k:"K",n:"N",p:"P","ctrl+k":"Ctrl+K"})[r]||r.toUpperCase();return(r,e)=>{const l=he;return n.showHelp?(B(),O("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:e[2]||(e[2]=u=>r.$emit("close"))},[a("div",{class:"bg-primary-1 rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:e[1]||(e[1]=_t(()=>{},["stop"]))},[a("div",Us,[e[3]||(e[3]=a("h3",{class:"text-lg font-semibold text-primary-4"},"Keyboard Shortcuts",-1)),it(l,{icon:"i-mdi-close",variant:"ghost",size:"small",onClick:e[0]||(e[0]=u=>r.$emit("close"))})]),a("div",Vs,[a("div",js,[e[4]||(e[4]=a("span",{class:"text-primary-3"},"Play/Pause",-1)),a("kbd",Ns,W($(o).playPause),1)]),a("div",Hs,[e[5]||(e[5]=a("span",{class:"text-primary-3"},"Next Track",-1)),a("kbd",Rs,W($(o).nextTrack),1)]),a("div",zs,[e[6]||(e[6]=a("span",{class:"text-primary-3"},"Previous Track",-1)),a("kbd",Ks,W($(o).previousTrack),1)]),a("div",Ws,[e[7]||(e[7]=a("span",{class:"text-primary-3"},"Volume Up",-1)),a("kbd",Zs,W($(o).volumeUp),1)]),a("div",Gs,[e[8]||(e[8]=a("span",{class:"text-primary-3"},"Volume Down",-1)),a("kbd",Js,W($(o).volumeDown),1)]),a("div",Qs,[e[9]||(e[9]=a("span",{class:"text-primary-3"},"Mute",-1)),a("kbd",qs,W($(o).mute),1)]),a("div",Xs,[e[10]||(e[10]=a("span",{class:"text-primary-3"},"Seek Forward",-1)),a("kbd",tn,W($(o).seekForward),1)]),a("div",en,[e[11]||(e[11]=a("span",{class:"text-primary-3"},"Seek Backward",-1)),a("kbd",sn,W($(o).seekBackward),1)]),a("div",nn,[e[12]||(e[12]=a("span",{class:"text-primary-3"},"Focus Search",-1)),a("kbd",rn,W($(o).focusSearch),1)])]),a("div",on,[a("p",an,[e[13]||(e[13]=at(" Current scheme: ",-1)),a("span",ln,W($(s).keyboardShortcutScheme==="simple"?"Default":$(s).keyboardShortcutScheme==="winamp"?"Winamp Style":"YouTube Style"),1)]),e[14]||(e[14]=a("p",{class:"text-xs text-primary-3 mt-2"}," Change keyboard shortcuts in the Filters panel ",-1))])])])):X("",!0)}}}),cn=Object.assign(un,{__name:"KeyboardShortcutsHelp"}),Qt=n=>{let t=0;for(let r=0;r<n.length;r++)t=n.charCodeAt(r)+((t<<5)-t);const s=Math.abs(t)%360,o=65+Math.abs(t)%20,i=45+Math.abs(t)%15;return`hsl(${s}, ${o}%, ${i}%)`},dn={class:"fixed top-6 left-0 flex flex-col gap-8 sm:gap-12 px-4 sm:px-6 z-1 w-full"},hn={class:"backdrop-blur-3xl rounded-2xl flex justify-center items-center gap-4 sm:gap-6 w-full max-w-2xl mx-auto pl-3"},fn={class:"flex-1 min-w-0 overflow-hidden"},mn={class:"flex gap-2 sm:gap-3 items-center flex-shrink-0"},pn={key:0,class:"rounded-lg p-4 space-y-4 backdrop-blur-2xl bg-bg-gradient"},gn={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},vn={class:"flex flex-wrap gap-2"},yn={class:"grid grid-cols-1 gap-4"},xn={class:"flex flex-wrap gap-2 max-h-32 overflow-y-auto"},$n=["onClick"],bn={class:"text-xs text-primary-3 px-2 py-1 rounded-full"},Mn={class:"grid grid-cols-1 gap-4"},wn={class:"flex flex-wrap gap-2"},An={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},_n={class:"flex justify-between"},Dn=["value"],kn=["value"],Sn={class:"flex justify-between items-center"},Cn={class:"text-sm text-primary-3"},En=xt({__name:"VideoSearch",setup(n){const{setCurrentPlaylistVideos:t}=Dt(),{setKeyboardShortcutScheme:s,setSelectedPlatforms:o}=Mt(),{originalCurrentPlaylist:i}=ft(Dt()),{settings:r,availableShortcutSchemes:e,viewMode:l}=ft(Mt());q("day");const u=q(!1);let g=0,h=null;const k=()=>{const L=window.scrollY;h&&clearTimeout(h),h=setTimeout(()=>{Math.abs(L-g)>500&&M.value&&(M.value=!1),g=L},150)};ve(()=>{u.value=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",g=window.scrollY,window.addEventListener("scroll",k)}),ye(()=>{window.removeEventListener("scroll",k),h&&clearTimeout(h)});const C=q(""),M=q(!1),x=q([]),f=q([]),c=q([]),p=q(""),m=q("createdAt"),_=q(!1),V=q(!1),Y=et(()=>i.value?.videos||[]),S=et(()=>Y.value.length),w=et(()=>x.value.length>0||f.value.length>0||c.value.length>0||p.value!==""||C.value.trim()!==""),v=et(()=>[...new Set(Y.value.filter(d=>d.artist).map(d=>d.artist))].sort()),T=et(()=>{const L=new Set;return Y.value.forEach(d=>{d.tags&&d.tags.forEach(H=>L.add(H))}),Array.from(L).sort()}),P=et(()=>{const L=new Map;return Y.value.forEach(d=>{const H=d.userId||null;L.set(H,(L.get(H)||0)+1)}),Array.from(L.entries()).map(([d,H])=>({userId:d||"Anonymous",originalUserId:d,count:H,color:d?Qt(d):"#666666"})).sort((d,H)=>H.count-d.count)}),F={keys:[{name:"title",weight:.3},{name:"musicTitle",weight:.4},{name:"artist",weight:.4},{name:"tags",weight:.2},{name:"description",weight:.1}],threshold:.3,includeScore:!0,minMatchCharLength:2},I=et(()=>new $t(Y.value,F)),R=L=>{if(!L)return 0;const d=L.split(":").map(Number);return d.length===2&&d[0]!==void 0&&d[1]!==void 0?d[0]*60+d[1]:d.length===3&&d[0]!==void 0&&d[1]!==void 0&&d[2]!==void 0?d[0]*3600+d[1]*60+d[2]:0},y=L=>{if(!p.value)return!0;const H=R(L.duration)/60;switch(p.value){case"short":return H<4;case"medium":return H>=4&&H<=20;case"long":return H>20;default:return!0}},A=L=>{const d=c.value.indexOf(L);d>-1?c.value.splice(d,1):c.value.push(L)},b=et(()=>{let L=[];return C.value.trim()?L=I.value.search(C.value).map(H=>H.item):L=[...Y.value],x.value.length>0&&(L=L.filter(d=>d.artist&&x.value.includes(d.artist))),f.value.length>0&&(L=L.filter(d=>d.tags&&f.value.some(H=>d.tags.includes(H)))),c.value.length>0&&(L=L.filter(d=>{const H=d.userId||"Anonymous";return c.value.includes(H)})),L=L.filter(y),(m.value!=="relevance"||!C.value.trim())&&L.sort((d,H)=>{switch(m.value){case"createdAt":return d.createdAt&&!H.createdAt?-1:!d.createdAt&&H.createdAt?1:d.createdAt&&H.createdAt?H.createdAt-d.createdAt:0;case"title":{const Z=d.musicTitle||d.title,Q=H.musicTitle||H.title;return Z.localeCompare(Q)}case"artist":{const Z=d.artist||"Unknown",Q=H.artist||"Unknown";return Z.localeCompare(Q)}case"duration":return R(d.duration)-R(H.duration);default:return 0}}),L}),E=()=>{M.value=!M.value},D=()=>{_.value=!_.value},U=L=>{p.value===L?p.value="":p.value=L},j=L=>{const d=r.value.selectedPlatforms||[],H=d.includes(L);o(H?d.filter(Z=>Z!==L):[...d,L])},z=()=>{C.value="",x.value=[],f.value=[],c.value=[],p.value="",m.value="createdAt",V.value=!1},G=L=>{const d=[...L];for(let H=d.length-1;H>0;H--){const Z=Math.floor(Math.random()*(H+1));[d[H],d[Z]]=[d[Z],d[H]]}return d},J=()=>{const L=G(b.value);t(L)},tt=()=>{l.value==="grid"?l.value="list":l.value==="list"?l.value="timeline":l.value="grid"},st=()=>{switch(l.value){case"grid":return"i-mdi-view-grid";case"list":return"i-mdi-view-list";case"timeline":return"i-mdi-timeline";default:return"i-mdi-view-grid"}};return At(b,L=>{t(L)},{immediate:!0}),(L,d)=>{const H=Fe,Z=he,Q=Ls,nt=cn;return B(),O("div",dn,[a("div",hn,[a("div",fn,[it(H,{id:"search",modelValue:$(C),"onUpdate:modelValue":d[0]||(d[0]=K=>wt(C)?C.value=K:null),placeholder:"Search by title, artist, or tags...",size:"large"},null,8,["modelValue"])]),a("div",mn,[it(Z,{icon:"i-mdi-filter-variant text-3xl",variant:"ghost",size:"large",class:ct(["rounded-full",{"[&_[class^=i-mdi]]:text-accent":$(w)}]),onClick:E},null,8,["class"]),it(Z,{icon:st(),variant:"ghost",size:"large",class:"rounded-full text-2xl",onClick:tt},null,8,["icon"]),$(u)?(B(),bt(Z,{key:0,to:"/admin",icon:"i-mdi-cog",variant:"ghost",size:"medium",class:"lt-sm:hidden"},{default:pt(()=>[...d[11]||(d[11]=[a("span",{class:"hidden sm:inline"},"Admin",-1)])]),_:1})):X("",!0)])]),$(M)?(B(),O("div",pn,[a("div",gn,[a("div",null,[it(Q,{id:"artist-filter",modelValue:$(x),"onUpdate:modelValue":d[1]||(d[1]=K=>wt(x)?x.value=K:null),label:"Artists",placeholder:"Search and select artists...",options:$(v)},null,8,["modelValue","options"])]),a("div",null,[it(Q,{id:"tag-filter",modelValue:$(f),"onUpdate:modelValue":d[2]||(d[2]=K=>wt(f)?f.value=K:null),label:"Tags",placeholder:"Search and select tags...",options:$(T)},null,8,["modelValue","options"])]),a("div",null,[d[15]||(d[15]=a("label",{class:"block text-sm font-medium mb-2"},"Duration",-1)),a("div",vn,[it(Z,{size:"small",variant:$(p)==="short"?"primary":"ghost",onClick:d[3]||(d[3]=K=>U("short"))},{default:pt(()=>[...d[12]||(d[12]=[at(" Short (< 4 min) ",-1)])]),_:1},8,["variant"]),it(Z,{size:"small",variant:$(p)==="medium"?"primary":"ghost",onClick:d[4]||(d[4]=K=>U("medium"))},{default:pt(()=>[...d[13]||(d[13]=[at(" Medium (4-20 min) ",-1)])]),_:1},8,["variant"]),it(Z,{size:"small",variant:$(p)==="long"?"primary":"ghost",onClick:d[5]||(d[5]=K=>U("long"))},{default:pt(()=>[...d[14]||(d[14]=[at(" Long (> 20 min) ",-1)])]),_:1},8,["variant"])])])]),a("div",yn,[a("div",null,[d[17]||(d[17]=a("label",{class:"block text-sm font-medium mb-2"},"Users",-1)),a("div",xn,[(B(!0),O(ot,null,lt($(P),K=>(B(),O("div",{key:K.userId,class:ct(["flex items-center gap-2 cursor-pointer p-2 hover:bg-primary-1 rounded-2xl transition-colors",{"bg-primary-2":$(c).includes(K.userId)}]),onClick:dt=>A(K.userId)},[a("div",{class:"w-4 h-4 rounded-full flex items-center justify-center text-black text-xs font-bold",style:Gt({backgroundColor:K.color})},[...d[16]||(d[16]=[a("span",{class:"i-mdi-account text-xs"},null,-1)])],4),a("span",bn,W(K.count),1)],10,$n))),128))])])]),a("div",Mn,[a("div",null,[d[18]||(d[18]=a("label",{class:"block text-sm font-medium mb-2"},"Music Platforms",-1)),a("div",wn,[(B(!0),O(ot,null,lt(("getAllPlatforms"in L?L.getAllPlatforms:$(Be))(),K=>(B(),bt(Z,{key:K.id,size:"small",variant:$(r).selectedPlatforms?.includes(K.id)?"primary":"ghost",onClick:dt=>j(K.id)},{default:pt(()=>[a("div",{class:ct([K.icon,"text-sm mr-1"])},null,2),at(" "+W(K.name),1)]),_:2},1032,["variant","onClick"]))),128))])])]),a("div",An,[a("div",null,[d[20]||(d[20]=a("label",{class:"block text-sm font-medium mb-2"},"Sort By",-1)),ge(a("select",{"onUpdate:modelValue":d[6]||(d[6]=K=>wt(m)?m.value=K:null),class:"w-full rounded-lg bg-primary-1 text-primary-3 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-accent",onKeydown:d[7]||(d[7]=_t(()=>{},["stop"]))},[...d[19]||(d[19]=[xe('<option value="relevance">Relevance</option><option value="createdAt">Date Added (Latest First)</option><option value="title">Title A-Z</option><option value="artist">Artist A-Z</option><option value="duration">Duration</option>',5)])],544),[[Ie,$(m)]])]),a("div",null,[d[22]||(d[22]=a("label",{class:"block text-sm font-medium mb-2"},"Playlist",-1)),it(Z,{icon:"i-mdi-shuffle",variant:"primary",size:"medium",class:"w-full",onClick:J},{default:pt(()=>[...d[21]||(d[21]=[at(" Shuffle ",-1)])]),_:1})]),a("div",null,[a("div",_n,[d[24]||(d[24]=a("label",{class:"block text-sm font-medium mb-2"},"Keyboard ",-1)),it(Z,{icon:"i-mdi-keyboard",variant:"ghost",size:"medium",onClick:D},{default:pt(()=>[...d[23]||(d[23]=[a("span",{class:"hidden sm:inline"},"Shortcuts",-1)])]),_:1})]),a("select",{value:$(r).keyboardShortcutScheme,class:"w-full rounded-lg bg-primary-1 text-primary-3 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-accent",onChange:d[8]||(d[8]=K=>$(s)(K.target.value)),onKeydown:d[9]||(d[9]=_t(()=>{},["stop"]))},[(B(!0),O(ot,null,lt($(e),K=>(B(),O("option",{key:K.value,value:K.value},W(K.label),9,kn))),128))],40,Dn)]),d[25]||(d[25]=a("div",{class:"text-primary-3 w-full text-right"},"Scroll to close.",-1))]),a("div",Sn,[a("span",Cn,W($(b).length)+" of "+W($(S))+" videos ",1),it(Z,{variant:"ghost",size:"small",onClick:z},{default:pt(()=>[...d[26]||(d[26]=[at(" Clear All ",-1)])]),_:1})])])):X("",!0),it(nt,{"show-help":$(_),onClose:d[10]||(d[10]=K=>_.value=!1)},null,8,["show-help"])])}}}),Fn=Object.assign(En,{__name:"VideoSearch"});function kt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ft={exports:{}},Bn=Ft.exports,oe;function Tn(){return oe||(oe=1,(function(n,t){(function(s,o){n.exports=o()})(Bn,(function(){var s=1e3,o=6e4,i=36e5,r="millisecond",e="second",l="minute",u="hour",g="day",h="week",k="month",C="quarter",M="year",x="date",f="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var A=["th","st","nd","rd"],b=y%100;return"["+y+(A[(b-20)%10]||A[b]||A[0])+"]"}},_=function(y,A,b){var E=String(y);return!E||E.length>=A?y:""+Array(A+1-E.length).join(b)+y},V={s:_,z:function(y){var A=-y.utcOffset(),b=Math.abs(A),E=Math.floor(b/60),D=b%60;return(A<=0?"+":"-")+_(E,2,"0")+":"+_(D,2,"0")},m:function y(A,b){if(A.date()<b.date())return-y(b,A);var E=12*(b.year()-A.year())+(b.month()-A.month()),D=A.clone().add(E,k),U=b-D<0,j=A.clone().add(E+(U?-1:1),k);return+(-(E+(b-D)/(U?D-j:j-D))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:k,y:M,w:h,d:g,D:x,h:u,m:l,s:e,ms:r,Q:C}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},Y="en",S={};S[Y]=m;var w="$isDayjsObject",v=function(y){return y instanceof I||!(!y||!y[w])},T=function y(A,b,E){var D;if(!A)return Y;if(typeof A=="string"){var U=A.toLowerCase();S[U]&&(D=U),b&&(S[U]=b,D=U);var j=A.split("-");if(!D&&j.length>1)return y(j[0])}else{var z=A.name;S[z]=A,D=z}return!E&&D&&(Y=D),D||!E&&Y},P=function(y,A){if(v(y))return y.clone();var b=typeof A=="object"?A:{};return b.date=y,b.args=arguments,new I(b)},F=V;F.l=T,F.i=v,F.w=function(y,A){return P(y,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var I=(function(){function y(b){this.$L=T(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[w]=!0}var A=y.prototype;return A.parse=function(b){this.$d=(function(E){var D=E.date,U=E.utc;if(D===null)return new Date(NaN);if(F.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var j=D.match(c);if(j){var z=j[2]-1||0,G=(j[7]||"0").substring(0,3);return U?new Date(Date.UTC(j[1],z,j[3]||1,j[4]||0,j[5]||0,j[6]||0,G)):new Date(j[1],z,j[3]||1,j[4]||0,j[5]||0,j[6]||0,G)}}return new Date(D)})(b),this.init()},A.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},A.$utils=function(){return F},A.isValid=function(){return this.$d.toString()!==f},A.isSame=function(b,E){var D=P(b);return this.startOf(E)<=D&&D<=this.endOf(E)},A.isAfter=function(b,E){return P(b)<this.startOf(E)},A.isBefore=function(b,E){return this.endOf(E)<P(b)},A.$g=function(b,E,D){return F.u(b)?this[E]:this.set(D,b)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(b,E){var D=this,U=!!F.u(E)||E,j=F.p(b),z=function(Z,Q){var nt=F.w(D.$u?Date.UTC(D.$y,Q,Z):new Date(D.$y,Q,Z),D);return U?nt:nt.endOf(g)},G=function(Z,Q){return F.w(D.toDate()[Z].apply(D.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(Q)),D)},J=this.$W,tt=this.$M,st=this.$D,L="set"+(this.$u?"UTC":"");switch(j){case M:return U?z(1,0):z(31,11);case k:return U?z(1,tt):z(0,tt+1);case h:var d=this.$locale().weekStart||0,H=(J<d?J+7:J)-d;return z(U?st-H:st+(6-H),tt);case g:case x:return G(L+"Hours",0);case u:return G(L+"Minutes",1);case l:return G(L+"Seconds",2);case e:return G(L+"Milliseconds",3);default:return this.clone()}},A.endOf=function(b){return this.startOf(b,!1)},A.$set=function(b,E){var D,U=F.p(b),j="set"+(this.$u?"UTC":""),z=(D={},D[g]=j+"Date",D[x]=j+"Date",D[k]=j+"Month",D[M]=j+"FullYear",D[u]=j+"Hours",D[l]=j+"Minutes",D[e]=j+"Seconds",D[r]=j+"Milliseconds",D)[U],G=U===g?this.$D+(E-this.$W):E;if(U===k||U===M){var J=this.clone().set(x,1);J.$d[z](G),J.init(),this.$d=J.set(x,Math.min(this.$D,J.daysInMonth())).$d}else z&&this.$d[z](G);return this.init(),this},A.set=function(b,E){return this.clone().$set(b,E)},A.get=function(b){return this[F.p(b)]()},A.add=function(b,E){var D,U=this;b=Number(b);var j=F.p(E),z=function(tt){var st=P(U);return F.w(st.date(st.date()+Math.round(tt*b)),U)};if(j===k)return this.set(k,this.$M+b);if(j===M)return this.set(M,this.$y+b);if(j===g)return z(1);if(j===h)return z(7);var G=(D={},D[l]=o,D[u]=i,D[e]=s,D)[j]||1,J=this.$d.getTime()+b*G;return F.w(J,this)},A.subtract=function(b,E){return this.add(-1*b,E)},A.format=function(b){var E=this,D=this.$locale();if(!this.isValid())return D.invalidDate||f;var U=b||"YYYY-MM-DDTHH:mm:ssZ",j=F.z(this),z=this.$H,G=this.$m,J=this.$M,tt=D.weekdays,st=D.months,L=D.meridiem,d=function(Q,nt,K,dt){return Q&&(Q[nt]||Q(E,U))||K[nt].slice(0,dt)},H=function(Q){return F.s(z%12||12,Q,"0")},Z=L||function(Q,nt,K){var dt=Q<12?"AM":"PM";return K?dt.toLowerCase():dt};return U.replace(p,(function(Q,nt){return nt||(function(K){switch(K){case"YY":return String(E.$y).slice(-2);case"YYYY":return F.s(E.$y,4,"0");case"M":return J+1;case"MM":return F.s(J+1,2,"0");case"MMM":return d(D.monthsShort,J,st,3);case"MMMM":return d(st,J);case"D":return E.$D;case"DD":return F.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return d(D.weekdaysMin,E.$W,tt,2);case"ddd":return d(D.weekdaysShort,E.$W,tt,3);case"dddd":return tt[E.$W];case"H":return String(z);case"HH":return F.s(z,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return Z(z,G,!0);case"A":return Z(z,G,!1);case"m":return String(G);case"mm":return F.s(G,2,"0");case"s":return String(E.$s);case"ss":return F.s(E.$s,2,"0");case"SSS":return F.s(E.$ms,3,"0");case"Z":return j}return null})(Q)||j.replace(":","")}))},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(b,E,D){var U,j=this,z=F.p(E),G=P(b),J=(G.utcOffset()-this.utcOffset())*o,tt=this-G,st=function(){return F.m(j,G)};switch(z){case M:U=st()/12;break;case k:U=st();break;case C:U=st()/3;break;case h:U=(tt-J)/6048e5;break;case g:U=(tt-J)/864e5;break;case u:U=tt/i;break;case l:U=tt/o;break;case e:U=tt/s;break;default:U=tt}return D?U:F.a(U)},A.daysInMonth=function(){return this.endOf(k).$D},A.$locale=function(){return S[this.$L]},A.locale=function(b,E){if(!b)return this.$L;var D=this.clone(),U=T(b,E,!0);return U&&(D.$L=U),D},A.clone=function(){return F.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},y})(),R=I.prototype;return P.prototype=R,[["$ms",r],["$s",e],["$m",l],["$H",u],["$W",g],["$M",k],["$y",M],["$D",x]].forEach((function(y){R[y[1]]=function(A){return this.$g(A,y[0],y[1])}})),P.extend=function(y,A){return y.$i||(y(A,I,P),y.$i=!0),P},P.locale=T,P.isDayjs=v,P.unix=function(y){return P(1e3*y)},P.en=S[Y],P.Ls=S,P.p={},P}))})(Ft)),Ft.exports}var In=Tn();const ut=kt(In);var Bt={exports:{}},On=Bt.exports,ae;function Yn(){return ae||(ae=1,(function(n,t){(function(s,o){n.exports=o()})(On,(function(){return function(s,o,i){s=s||{};var r=o.prototype,e={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(g,h,k,C){return r.fromToBase(g,h,k,C)}i.en.relativeTime=e,r.fromToBase=function(g,h,k,C,M){for(var x,f,c,p=k.$locale().relativeTime||e,m=s.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=m.length,V=0;V<_;V+=1){var Y=m[V];Y.d&&(x=C?i(g).diff(k,Y.d,!0):k.diff(g,Y.d,!0));var S=(s.rounding||Math.round)(Math.abs(x));if(c=x>0,S<=Y.r||!Y.r){S<=1&&V>0&&(Y=m[V-1]);var w=p[Y.l];M&&(S=M(""+S)),f=typeof w=="string"?w.replace("%d",S):w(S,h,Y.l,c);break}}if(h)return f;var v=c?p.future:p.past;return typeof v=="function"?v(f):v.replace("%s",f)},r.to=function(g,h){return l(g,h,this,!0)},r.from=function(g,h){return l(g,h,this)};var u=function(g){return g.$u?i.utc():i()};r.toNow=function(g){return this.to(u(this),g)},r.fromNow=function(g){return this.from(u(this),g)}}}))})(Bt)),Bt.exports}var Pn=Yn();const qt=kt(Pn),Ln={class:"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] sm:grid-cols-[repeat(auto-fill,minmax(240px,1fr))] md:grid-cols-[repeat(auto-fill,minmax(280px,1fr))] gap-4 sm:gap-6 px-6"},Un=["onClick"],Vn={key:0,class:"absolute top-2 right-2 bg-accent text-black px-2 py-1 rounded text-xs font-medium flex items-center gap-1"},jn=["src","alt"],Nn={class:"flex flex-col gap-1"},Hn={key:0,class:"text-gray-5 text-sm font-medium"},Rn={class:"leading-5 text-primary-3 line-clamp-2"},zn={class:"flex items-center justify-between gap-3 mb-2"},Kn={class:"text-gray-400 text-xs sm:text-sm"},Wn={class:"text-gray-500 text-xs sm:text-sm flex items-center justify-center gap-1"},Zn={class:"flex items-center justify-between gap-3 mb-2"},Gn={class:"flex items-center gap-2"},Jn={key:0,class:"text-gray-500 text-xs sm:text-sm"},Qn={key:0,class:"pt-2"},qn={class:"flex flex-wrap gap-1"},Xn={key:1,class:"pt-2"},ti={class:"flex items-center gap-2"},ei=["href","title"],si=xt({__name:"VideoGrid",props:{videos:{default:()=>[]},highlightVideoId:{default:void 0}},emits:["play","visibleVideosChange"],setup(n,{emit:t}){const s=n,o=t,i=q([]),r=q([]),e=Oe(new Map),l=$e(M=>{o("visibleVideosChange",M)},150),{stop:u}=Pe(i,M=>{M.forEach(f=>{const c=i.value.indexOf(f.target);if(c!==-1&&s.videos[c]){const p=s.videos[c];e.set(p.id,f.isIntersecting)}});const x=s.videos.filter(f=>e.get(f.id)||!1);g(r.value,x)||(r.value=x,l(x))},{threshold:.1,rootMargin:"50px"}),g=(M,x)=>M.length!==x.length?!1:M.every((f,c)=>f.id===x[c]?.id);At(()=>s.videos,()=>{const M=new Set(s.videos.map(x=>x.id));for(const[x]of e)M.has(x)||e.delete(x)},{deep:!0}),ye(()=>{u()});const{settings:h}=ft(Mt()),k=et(()=>h.value.selectedPlatforms||[]);ut.extend(qt);const C=M=>ut(M).fromNow();return(M,x)=>(B(),O("div",Ln,[(B(!0),O(ot,null,lt(n.videos,f=>(B(),O("div",{key:f.id,ref_for:!0,ref_key:"videoElements",ref:i,class:ct(["relative group shadow-black hover:shadow-md hover:bg-zinc-900 flex flex-col gap-3 rounded-2xl hover:rounded-b-0 pa-2 transition-shadow duration-200",{"outline-accent outline-2 outline-solid outline-bottom-0":n.highlightVideoId===f.id}])},[a("div",{class:"rounded-2xl overflow-hidden w-full aspect-video relative cursor-pointer",onClick:c=>M.$emit("play",f)},[x[1]||(x[1]=a("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[a("div",{class:"i-mdi-play-outline text-accent text-8xl"})],-1)),n.highlightVideoId===f.id?(B(),O("div",Vn,[...x[0]||(x[0]=[a("div",{class:"i-mdi-volume-high w-3 h-3"},null,-1),at(" Playing ",-1)])])):X("",!0),a("img",{src:`https://i.ytimg.com/vi/${f.id}/hqdefault.jpg`,alt:f.title,class:"w-full h-full object-cover",loading:"lazy"},null,8,jn)],8,Un),a("div",Nn,[f.artist?(B(),O("div",Hn,W(f.artist),1)):X("",!0),a("div",Rn,W(f.musicTitle||f.title),1)]),a("div",{class:ct(["hidden group-hover:flex absolute bg-zinc-900 w-full top-full left-0 flex-col z-10 shadow-black shadow-md rounded-b-2xl p-3",{"outline-2 outline-solid outline-accent ":n.highlightVideoId===f.id}])},[a("div",zn,[a("p",Kn,W(f.channel),1),a("p",Wn,[x[2]||(x[2]=a("span",{class:"i-mdi-clock-outline text-xs"},null,-1)),at(" "+W(f.duration),1)])]),a("div",Zn,[a("div",Gn,[a("div",{class:"w-4 h-4 rounded-full flex items-center justify-center text-white text-xs font-bold",style:Gt({backgroundColor:("getUserColor"in M?M.getUserColor:$(Qt))(f.userId||" ")})},[...x[3]||(x[3]=[a("span",{class:"i-mdi-account text-xs"},null,-1)])],4)]),f.createdAt?(B(),O("p",Jn,W(C(f.createdAt)),1)):X("",!0)]),f.tags&&f.tags.length>0?(B(),O("div",Qn,[a("div",qn,[(B(!0),O(ot,null,lt(f.tags,c=>(B(),O("span",{key:c,class:"text-xs b-1 b-solid b-accent-2 text-accent px-2 py-1 rounded-lg"},W(c),1))),128))])])):X("",!0),f.externalIds&&$(k).some(c=>f.externalIds?.[c])?(B(),O("div",Xn,[a("div",ti,[x[4]||(x[4]=a("span",{class:"text-xs text-primary-3"},"Listen on:",-1)),(B(!0),O(ot,null,lt($(k).filter(c=>f.externalIds?.[c]),c=>(B(),O("a",{key:c,href:("getPlatformUrl"in M?M.getPlatformUrl:$(me))(c,f.externalIds[c]),target:"_blank",rel:"noopener noreferrer",class:"text-primary-3 hover:text-accent transition-colors",title:`Listen on ${("getPlatformName"in M?M.getPlatformName:$(fe))(c)}`},[a("div",{class:ct([("getPlatformIcon"in M?M.getPlatformIcon:$(pe))(c),"text-xl"])},null,2)],8,ei))),128))])])):X("",!0)],2)],2))),128))]))}}),Ee=Object.assign(si,{__name:"VideoGrid"}),ni={class:"rounded-lg sm:px-6"},ii={key:0,class:"text-center py-8"},ri={key:1,class:"overflow-x-auto"},oi={class:"w-full border-collapse"},ai=["onClick"],li={class:"p-3"},ui={class:"flex items-center gap-3"},ci={class:"flex-shrink-0 relative"},di=["src","alt"],hi={key:0,class:"absolute -top-1 -right-1 bg-accent text-black px-1 py-0.5 rounded text-xs font-medium flex items-center gap-1"},fi={class:"flex-1 min-w-0"},mi={class:"mb-1"},pi={key:0,class:"text-primary-2 text-xs font-medium"},gi={key:1,class:"text-xs text-gray-5 opacity-80 italic"},vi={class:"font-medium text-primary-3 line-clamp-2 text-sm mb-1"},yi={class:"p-3"},xi={class:"text-sm text-primary-3 font-mono flex items-center gap-1"},$i={class:"p-3"},bi={key:0,class:"relative flex gap-1 max-w-72 overflow-hidden"},Mi={class:"p-3"},wi={key:0,class:"flex gap-2"},Ai=["href","title"],_i={class:"p-3 min-w-30"},Di={class:"flex items-center gap-2"},ki=["title"],Si={key:1,class:"text-sm text-primary-3 italic"},Ci=xt({__name:"VideoList",props:{videos:{default:()=>[]},highlightVideoId:{default:""}},emits:["play"],setup(n){const{settings:t}=ft(Mt()),s=et(()=>t.value.selectedPlatforms||[]);ut.extend(qt);const o=i=>ut(i).fromNow();return(i,r)=>(B(),O("div",ni,[n.videos.length?(B(),O("div",ri,[a("table",oi,[r[6]||(r[6]=a("thead",null,[a("tr",{class:"border-b border-primary-2"},[a("th",{class:"text-left p-3 font-medium text-primary-4"},"Video"),a("th",{class:"text-left p-3 font-medium text-primary-4"},"Duration"),a("th",{class:"text-left p-3 font-medium text-primary-4"},"Tags"),a("th",{class:"text-left p-3 font-medium text-primary-4"},"Platforms"),a("th",{class:"text-left p-3 font-medium text-primary-4"},"Added")])],-1)),a("tbody",null,[(B(!0),O(ot,null,lt(n.videos,e=>(B(),O("tr",{key:e.id,class:ct(["relative border-b border-primary-2/30 hover:bg-bg-gradient transition-colors cursor-pointer",{"after:content-empty after:absolute after:inset-0 after:b-1 after:b-solid after:b-accent after:pointer-events-none after:rounded-2xl":n.highlightVideoId===e.id}]),onClick:l=>i.$emit("play",e)},[a("td",li,[a("div",ui,[a("div",ci,[a("img",{src:`https://i.ytimg.com/vi/${e.id}/hqdefault.jpg`,alt:e.title,class:"rounded-full size-16 object-cover bg-primary-1"},null,8,di),r[2]||(r[2]=a("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity rounded"},[a("div",{class:"i-mdi-play-outline text-accent text-2xl"})],-1)),n.highlightVideoId===e.id?(B(),O("div",hi,[...r[1]||(r[1]=[a("div",{class:"i-mdi-volume-high w-2 h-2"},null,-1)])])):X("",!0)]),a("div",fi,[a("div",mi,[e.artist?(B(),O("span",pi,W(e.artist),1)):(B(),O("span",gi,W(e.channel),1))]),a("h4",vi,W(e.musicTitle||e.title),1)])])]),a("td",yi,[a("span",xi,[r[3]||(r[3]=a("span",{class:"i-mdi-clock-outline text-xs text-gray-6"},null,-1)),at(" "+W(e.duration),1)])]),a("td",$i,[e.tags&&e.tags.length>0?(B(),O("div",bi,[(B(!0),O(ot,null,lt(e.tags,l=>(B(),O("span",{key:l,class:"text-xs b-1 b-solid b-accent-2 text-accent px-2 py-1 rounded-lg whitespace-nowrap flex-shrink-0"},W(l),1))),128)),r[4]||(r[4]=a("div",{class:"absolute right-0 top-0 bottom-0 w-10 bg-gradient-to-r from-transparent to-background group-hover:to-bg-gradient pointer-events-none"},null,-1))])):X("",!0)]),a("td",Mi,[e.externalIds&&$(s).some(l=>e.externalIds?.[l])?(B(),O("div",wi,[(B(!0),O(ot,null,lt($(s).filter(l=>e.externalIds?.[l]),l=>(B(),O("a",{key:l,href:("getPlatformUrl"in i?i.getPlatformUrl:$(me))(l,e.externalIds[l]),target:"_blank",rel:"noopener noreferrer",class:"text-primary-3 hover:text-accent transition-colors",title:`Listen on ${("getPlatformName"in i?i.getPlatformName:$(fe))(l)}`},[a("div",{class:ct([("getPlatformIcon"in i?i.getPlatformIcon:$(pe))(l),"text-sm"])},null,2)],8,Ai))),128))])):X("",!0)]),a("td",_i,[a("div",Di,[a("div",{class:"w-3 h-3 rounded-full flex items-center justify-center text-white text-xs font-bold",style:Gt({backgroundColor:("getUserColor"in i?i.getUserColor:$(Qt))(e.userId||" ")})},[...r[5]||(r[5]=[a("span",{class:"i-mdi-account text-xs"},null,-1)])],4)]),e.createdAt?(B(),O("span",{key:0,class:"text-sm text-primary-3",title:new Date(e.createdAt).toLocaleString()},W(o(e.createdAt)),9,ki)):(B(),O("span",Si,"Unknown"))])],10,ai))),128))])])])):(B(),O("div",ii,[...r[0]||(r[0]=[a("div",{class:"i-mdi-video-outline text-4xl mb-2"},null,-1),a("p",{class:"text-primary-3"},"No videos found.",-1)])]))]))}}),Ei=Object.assign(Ci,{__name:"VideoList"});var Tt={exports:{}},Fi=Tt.exports,le;function Bi(){return le||(le=1,(function(n,t){(function(s,o){n.exports=o()})(Fi,(function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(r,e,l){var u=e.prototype;l.utc=function(f){var c={date:f,utc:!0,args:arguments};return new e(c)},u.utc=function(f){var c=l(this.toDate(),{locale:this.$L,utc:!0});return f?c.add(this.utcOffset(),s):c},u.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var g=u.parse;u.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),g.call(this,f)};var h=u.init;u.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else h.call(this)};var k=u.utcOffset;u.utcOffset=function(f,c){var p=this.$utils().u;if(p(f))return this.$u?0:p(this.$offset)?k.call(this):this.$offset;if(typeof f=="string"&&(f=(function(Y){Y===void 0&&(Y="");var S=Y.match(o);if(!S)return null;var w=(""+S[0]).match(i)||["-",0,0],v=w[0],T=60*+w[1]+ +w[2];return T===0?0:v==="+"?T:-T})(f),f===null))return this;var m=Math.abs(f)<=16?60*f:f;if(m===0)return this.utc(c);var _=this.clone();if(c)return _.$offset=m,_.$u=!1,_;var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(_=this.local().add(m+V,s)).$offset=m,_.$x.$localOffset=V,_};var C=u.format;u.format=function(f){var c=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return C.call(this,c)},u.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*f},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var M=u.toDate;u.toDate=function(f){return f==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():M.call(this)};var x=u.diff;u.diff=function(f,c,p){if(f&&this.$u===f.$u)return x.call(this,f,c,p);var m=this.local(),_=l(f).local();return x.call(m,_,c,p)}}}))})(Tt)),Tt.exports}var Ti=Bi();const Ii=kt(Ti);var It={exports:{}},Oi=It.exports,ue;function Yi(){return ue||(ue=1,(function(n,t){(function(s,o){n.exports=o()})(Oi,(function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,r=/\d\d/,e=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,u={},g=function(c){return(c=+c)+(c>68?1900:2e3)},h=function(c){return function(p){this[c]=+p}},k=[/[+-]\d\d:?(\d\d)?|Z/,function(c){(this.zone||(this.zone={})).offset=(function(p){if(!p||p==="Z")return 0;var m=p.match(/([+-]|\d\d)/g),_=60*m[1]+(+m[2]||0);return _===0?0:m[0]==="+"?-_:_})(c)}],C=function(c){var p=u[c];return p&&(p.indexOf?p:p.s.concat(p.f))},M=function(c,p){var m,_=u.meridiem;if(_){for(var V=1;V<=24;V+=1)if(c.indexOf(_(V,0,p))>-1){m=V>12;break}}else m=c===(p?"pm":"PM");return m},x={A:[l,function(c){this.afternoon=M(c,!1)}],a:[l,function(c){this.afternoon=M(c,!0)}],Q:[i,function(c){this.month=3*(c-1)+1}],S:[i,function(c){this.milliseconds=100*+c}],SS:[r,function(c){this.milliseconds=10*+c}],SSS:[/\d{3}/,function(c){this.milliseconds=+c}],s:[e,h("seconds")],ss:[e,h("seconds")],m:[e,h("minutes")],mm:[e,h("minutes")],H:[e,h("hours")],h:[e,h("hours")],HH:[e,h("hours")],hh:[e,h("hours")],D:[e,h("day")],DD:[r,h("day")],Do:[l,function(c){var p=u.ordinal,m=c.match(/\d+/);if(this.day=m[0],p)for(var _=1;_<=31;_+=1)p(_).replace(/\[|\]/g,"")===c&&(this.day=_)}],w:[e,h("week")],ww:[r,h("week")],M:[e,h("month")],MM:[r,h("month")],MMM:[l,function(c){var p=C("months"),m=(C("monthsShort")||p.map((function(_){return _.slice(0,3)}))).indexOf(c)+1;if(m<1)throw new Error;this.month=m%12||m}],MMMM:[l,function(c){var p=C("months").indexOf(c)+1;if(p<1)throw new Error;this.month=p%12||p}],Y:[/[+-]?\d+/,h("year")],YY:[r,function(c){this.year=g(c)}],YYYY:[/\d{4}/,h("year")],Z:k,ZZ:k};function f(c){var p,m;p=c,m=u&&u.formats;for(var _=(c=p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(P,F,I){var R=I&&I.toUpperCase();return F||m[I]||s[I]||m[R].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(y,A,b){return A||b.slice(1)}))}))).match(o),V=_.length,Y=0;Y<V;Y+=1){var S=_[Y],w=x[S],v=w&&w[0],T=w&&w[1];_[Y]=T?{regex:v,parser:T}:S.replace(/^\[|\]$/g,"")}return function(P){for(var F={},I=0,R=0;I<V;I+=1){var y=_[I];if(typeof y=="string")R+=y.length;else{var A=y.regex,b=y.parser,E=P.slice(R),D=A.exec(E)[0];b.call(F,D),P=P.replace(D,"")}}return(function(U){var j=U.afternoon;if(j!==void 0){var z=U.hours;j?z<12&&(U.hours+=12):z===12&&(U.hours=0),delete U.afternoon}})(F),F}}return function(c,p,m){m.p.customParseFormat=!0,c&&c.parseTwoDigitYear&&(g=c.parseTwoDigitYear);var _=p.prototype,V=_.parse;_.parse=function(Y){var S=Y.date,w=Y.utc,v=Y.args;this.$u=w;var T=v[1];if(typeof T=="string"){var P=v[2]===!0,F=v[3]===!0,I=P||F,R=v[2];F&&(R=v[2]),u=this.$locale(),!P&&R&&(u=m.Ls[R]),this.$d=(function(E,D,U,j){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*E);var z=f(D)(E),G=z.year,J=z.month,tt=z.day,st=z.hours,L=z.minutes,d=z.seconds,H=z.milliseconds,Z=z.zone,Q=z.week,nt=new Date,K=tt||(G||J?1:nt.getDate()),dt=G||nt.getFullYear(),St=0;G&&!J||(St=J>0?J-1:nt.getMonth());var Ct,Lt=st||0,Ut=L||0,Vt=d||0,jt=H||0;return Z?new Date(Date.UTC(dt,St,K,Lt,Ut,Vt,jt+60*Z.offset*1e3)):U?new Date(Date.UTC(dt,St,K,Lt,Ut,Vt,jt)):(Ct=new Date(dt,St,K,Lt,Ut,Vt,jt),Q&&(Ct=j(Ct).week(Q).toDate()),Ct)}catch{return new Date("")}})(S,T,w,m),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),I&&S!=this.format(T)&&(this.$d=new Date("")),u={}}else if(T instanceof Array)for(var y=T.length,A=1;A<=y;A+=1){v[1]=T[A-1];var b=m.apply(this,v);if(b.isValid()){this.$d=b.$d,this.$L=b.$L,this.init();break}A===y&&(this.$d=new Date(""))}else V.call(this,Y)}}}))})(It)),It.exports}var Pi=Yi();const Li=kt(Pi);var Ot={exports:{}},Ui=Ot.exports,ce;function Vi(){return ce||(ce=1,(function(n,t){(function(s,o){n.exports=o()})(Ui,(function(){var s,o,i=1e3,r=6e4,e=36e5,l=864e5,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g=31536e6,h=2628e6,k=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,C={years:g,months:h,days:l,hours:e,minutes:r,seconds:i,milliseconds:1,weeks:6048e5},M=function(S){return S instanceof V},x=function(S,w,v){return new V(S,v,w.$l)},f=function(S){return o.p(S)+"s"},c=function(S){return S<0},p=function(S){return c(S)?Math.ceil(S):Math.floor(S)},m=function(S){return Math.abs(S)},_=function(S,w){return S?c(S)?{negative:!0,format:""+m(S)+w}:{negative:!1,format:""+S+w}:{negative:!1,format:""}},V=(function(){function S(v,T,P){var F=this;if(this.$d={},this.$l=P,v===void 0&&(this.$ms=0,this.parseFromMilliseconds()),T)return x(v*C[f(T)],this);if(typeof v=="number")return this.$ms=v,this.parseFromMilliseconds(),this;if(typeof v=="object")return Object.keys(v).forEach((function(y){F.$d[f(y)]=v[y]})),this.calMilliseconds(),this;if(typeof v=="string"){var I=v.match(k);if(I){var R=I.slice(2).map((function(y){return y!=null?Number(y):0}));return this.$d.years=R[0],this.$d.months=R[1],this.$d.weeks=R[2],this.$d.days=R[3],this.$d.hours=R[4],this.$d.minutes=R[5],this.$d.seconds=R[6],this.calMilliseconds(),this}}return this}var w=S.prototype;return w.calMilliseconds=function(){var v=this;this.$ms=Object.keys(this.$d).reduce((function(T,P){return T+(v.$d[P]||0)*C[P]}),0)},w.parseFromMilliseconds=function(){var v=this.$ms;this.$d.years=p(v/g),v%=g,this.$d.months=p(v/h),v%=h,this.$d.days=p(v/l),v%=l,this.$d.hours=p(v/e),v%=e,this.$d.minutes=p(v/r),v%=r,this.$d.seconds=p(v/i),v%=i,this.$d.milliseconds=v},w.toISOString=function(){var v=_(this.$d.years,"Y"),T=_(this.$d.months,"M"),P=+this.$d.days||0;this.$d.weeks&&(P+=7*this.$d.weeks);var F=_(P,"D"),I=_(this.$d.hours,"H"),R=_(this.$d.minutes,"M"),y=this.$d.seconds||0;this.$d.milliseconds&&(y+=this.$d.milliseconds/1e3,y=Math.round(1e3*y)/1e3);var A=_(y,"S"),b=v.negative||T.negative||F.negative||I.negative||R.negative||A.negative,E=I.format||R.format||A.format?"T":"",D=(b?"-":"")+"P"+v.format+T.format+F.format+E+I.format+R.format+A.format;return D==="P"||D==="-P"?"P0D":D},w.toJSON=function(){return this.toISOString()},w.format=function(v){var T=v||"YYYY-MM-DDTHH:mm:ss",P={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return T.replace(u,(function(F,I){return I||String(P[F])}))},w.as=function(v){return this.$ms/C[f(v)]},w.get=function(v){var T=this.$ms,P=f(v);return P==="milliseconds"?T%=1e3:T=P==="weeks"?p(T/C[P]):this.$d[P],T||0},w.add=function(v,T,P){var F;return F=T?v*C[f(T)]:M(v)?v.$ms:x(v,this).$ms,x(this.$ms+F*(P?-1:1),this)},w.subtract=function(v,T){return this.add(v,T,!0)},w.locale=function(v){var T=this.clone();return T.$l=v,T},w.clone=function(){return x(this.$ms,this)},w.humanize=function(v){return s().add(this.$ms,"ms").locale(this.$l).fromNow(!v)},w.valueOf=function(){return this.asMilliseconds()},w.milliseconds=function(){return this.get("milliseconds")},w.asMilliseconds=function(){return this.as("milliseconds")},w.seconds=function(){return this.get("seconds")},w.asSeconds=function(){return this.as("seconds")},w.minutes=function(){return this.get("minutes")},w.asMinutes=function(){return this.as("minutes")},w.hours=function(){return this.get("hours")},w.asHours=function(){return this.as("hours")},w.days=function(){return this.get("days")},w.asDays=function(){return this.as("days")},w.weeks=function(){return this.get("weeks")},w.asWeeks=function(){return this.as("weeks")},w.months=function(){return this.get("months")},w.asMonths=function(){return this.as("months")},w.years=function(){return this.get("years")},w.asYears=function(){return this.as("years")},S})(),Y=function(S,w,v){return S.add(w.years()*v,"y").add(w.months()*v,"M").add(w.days()*v,"d").add(w.hours()*v,"h").add(w.minutes()*v,"m").add(w.seconds()*v,"s").add(w.milliseconds()*v,"ms")};return function(S,w,v){s=v,o=v().$utils(),v.duration=function(F,I){var R=v.locale();return x(F,{$l:R},I)},v.isDuration=M;var T=w.prototype.add,P=w.prototype.subtract;w.prototype.add=function(F,I){return M(F)?Y(this,F,1):T.bind(this)(F,I)},w.prototype.subtract=function(F,I){return M(F)?Y(this,F,-1):P.bind(this)(F,I)}}}))})(Ot)),Ot.exports}var ji=Vi();const Ni=kt(ji),Hi={class:"text-xs text-primary-3 text-center mb-1"},Ri={class:"relative group"},zi=["y1","y2"],Ki=["y1","y2"],Wi=["y"],Zi=["x","y","width","height"],Gi={class:"text-xs text-primary-3 text-center mt-1"},Ji={class:"ml-30"},Qi={key:1,class:"flex flex-col items-center justify-center h-full text-primary-3"},gt=800,qi=1800,Xi=157784760,de=1.15,tr=50,er=xt({__name:"VideoTimeline",props:{videos:{default:()=>[]},highlightVideoId:{default:""}},emits:["play"],setup(n,{emit:t}){const s=n,o=t;ut.extend(Ii),ut.extend(qt),ut.extend(Li),ut.extend(Ni);const{currentVideos:i}=ft(Dt()),r=et(()=>{const m=u.value.subtract(l.value,"second"),_=u.value;return i.value.filter(V=>{if(!V.createdAt)return!1;const Y=ut(V.createdAt);return Y.isAfter(m)&&Y.isBefore(_)})}),e=m=>{o("play",m)},l=q(1728e3),u=q(ut()),g=q(),h=[{length:1,label:"s",unitName:"second",format:"HH:mm:ss",maxTimespan:300,alignmentUnit:"second",alignmentDivisor:1,incrementAmount:1,incrementUnit:"second"},{length:60,label:"m",unitName:"minute",format:"HH:mm",maxTimespan:3600,alignmentUnit:"minute",alignmentDivisor:1,incrementAmount:1,incrementUnit:"minute"},{length:900,label:"15m",unitName:"minute",format:"HH:mm",maxTimespan:28800,alignmentUnit:"hour",alignmentDivisor:15,incrementAmount:15,incrementUnit:"minute"},{length:3600,label:"h",unitName:"hour",format:"HH:mm",maxTimespan:129600,alignmentUnit:"hour",alignmentDivisor:1,incrementAmount:1,incrementUnit:"hour"},{length:86400,label:"d",unitName:"day",format:"MMM D",maxTimespan:1209600,alignmentUnit:"day",alignmentDivisor:1,incrementAmount:1,incrementUnit:"day"},{length:604800,label:"w",unitName:"week",format:"MMM D",maxTimespan:23587200,alignmentUnit:"week",alignmentDivisor:1,incrementAmount:1,incrementUnit:"week"},{length:2629746,label:"mo",unitName:"month",format:"MMM YYYY",maxTimespan:315569520,alignmentUnit:"month",alignmentDivisor:1,incrementAmount:1,incrementUnit:"month"},{length:31556952,label:"y",unitName:"year",format:"YYYY",maxTimespan:1/0,alignmentUnit:"year",alignmentDivisor:1,incrementAmount:1,incrementUnit:"year"}],k=et(()=>h.find(m=>l.value<=m.maxTimespan)??h[h.length-1]),C=et(()=>{const m=u.value.subtract(l.value,"second"),_=u.value,V=h.findIndex(I=>I.length===k.value.length),Y=V>0?h[V-1]:k.value,S=(I,R,y)=>{const A=[],b=Math.ceil(l.value/y.length);let E;if(y.alignmentDivisor===1)E=I.startOf(y.alignmentUnit);else{const D=I.startOf(y.alignmentUnit),U=I.get(y.alignmentUnit==="hour"?"minute":y.alignmentUnit),j=Math.floor(U/y.alignmentDivisor)*y.alignmentDivisor;E=D.set(y.alignmentUnit==="hour"?"minute":y.alignmentUnit,j)}E.isAfter(I)&&(E=E.subtract(y.incrementAmount,y.incrementUnit));for(let D=0;D<=b+2;D++)A.push(E),E=E.add(y.incrementAmount,y.incrementUnit);return A},w=(I,R,y)=>({y:gt-I.diff(m,"second")/l.value*gt,isMajor:R,time:I,...R&&y?{label:c(I,y)}:{}}),v=S(m,_,k.value).filter(I=>I.isAfter(m)&&I.isBefore(_)),T=Y.length!==k.value.length?S(m,_,Y).filter(I=>I.isAfter(m)&&I.isBefore(_)):[],P=v.map(I=>w(I,!0,k.value)),F=T.map(I=>w(I,!1)).filter(I=>!P.some(R=>Math.abs(R.y-I.y)<2));return[...P,...F].sort((I,R)=>I.y-R.y)}),M=m=>{if(m.length===0)return null;const _=u.value.subtract(l.value,"second"),V=m.map(T=>T.createdAt?ut(T.createdAt):null).filter(T=>T!==null);if(V.length===0)return null;const[Y,S]=V.reduce(([T,P],F)=>[F.isBefore(T)?F:T,F.isAfter(P)?F:P],[V[0],V[0]]),w=Math.max(0,Math.min(gt-Y.diff(_,"second")/l.value*gt,gt)),v=Math.max(0,Math.min(gt-S.diff(_,"second")/l.value*gt,gt));return{y:Math.min(w,v),height:Math.abs(v-w)||10,x:65,width:19}},x=q(null),f=$e(m=>{x.value=M(m)},150);function c(m,_){return m.format(_.format)}function p(m,_,V){const Y=_||V?de*1.5:de;let S=l.value;return m>0?S=Math.min(S*Y,Xi):S=Math.max(S/Y,qi),S<3600?Math.round(S/30)*30:S<86400?Math.round(S/300)*300:S<604800?Math.round(S/3600)*3600:Math.round(S/86400)*86400}return Le(g,"wheel",Ue(m=>{m.preventDefault(),m.stopPropagation();const _=p(m.deltaY,m.ctrlKey,m.metaKey);l.value=_},tr),{passive:!1}),(m,_)=>{const V=Ee;return B(),O(ot,null,[a("div",{class:"fixed inset-0 h-screen flex flex-col justify-center pl-3 w-24",onWheel:_[0]||(_[0]=_t(()=>{},["prevent","stop"]))},[a("div",Hi,W($(u).format("YYYY MMM D")),1),a("div",Ri,[(B(),O("svg",{ref_key:"svgElement",ref:g,class:"",width:"85",height:"800",viewBox:"0 0 85 800",xmlns:"http://www.w3.org/2000/svg"},[(B(!0),O(ot,null,lt($(C),(Y,S)=>(B(),O("g",{key:S},[Y.isMajor?(B(),O("line",{key:0,x1:68,x2:80,y1:Y.y,y2:Y.y,stroke:"currentColor","stroke-width":"2",class:"text-primary-4"},null,8,zi)):(B(),O("line",{key:1,x1:72,x2:80,y1:Y.y,y2:Y.y,stroke:"currentColor","stroke-width":"1",class:"text-primary-3"},null,8,Ki)),Y.isMajor&&Y.label?(B(),O("text",{key:2,x:60,y:Y.y+4,class:"text-xs fill-primary-3","text-anchor":"end"},W(Y.label),9,Wi)):X("",!0)]))),128)),$(x)?(B(),O("rect",{key:0,x:$(x).x,y:$(x).y,width:$(x).width,height:$(x).height,class:"fill-accent stroke-accent stroke-2","fill-opacity":"0.3","stroke-opacity":"1",rx:"4",ry:"4",style:{transition:"all 0.3s ease-in-out"}},null,8,Zi)):X("",!0)],512)),_[1]||(_[1]=xe('<div class="group-hover:flex hidden absolute inset-0 flex-col items-center justify-center pointer-events-none transition-opacity duration-200"><div class="flex flex-col items-center mb-4 text-accent animate-pulse"><div class="i-mdi-chevron-up text-2xl mb-1"></div><div class="i-mdi-magnify-plus text-lg"></div></div><div class="flex items-center justify-center mb-4"><div class="i-mdi-mouse text-3xl text-accent"></div></div><div class="flex flex-col items-center text-accent animate-pulse"><div class="i-mdi-magnify-minus text-lg"></div><div class="i-mdi-chevron-down text-2xl mt-1"></div></div></div>',1))]),a("div",Gi,W($(u).subtract($(l),"second").format("YYYY MMM D")),1)],32),a("div",Ji,[$(r).length>0?(B(),bt(V,{key:0,videos:$(r),"highlight-video-id":s.highlightVideoId,onPlay:e,onVisibleVideosChange:$(f)},null,8,["videos","highlight-video-id","onVisibleVideosChange"])):(B(),O("div",Qi,[..._[2]||(_[2]=[a("div",{class:"i-mdi-calendar-remove text-6xl mb-4 opacity-50"},null,-1),a("p",{class:"text-lg"},"No videos found in this time range",-1)])]))])],64)}}}),sr=Object.assign(er,{__name:"VideoTimeline"}),nr={class:"pt-24"},ir={key:0,class:"flex items-center justify-center py-12"},rr={key:1,class:"bg-primary-1 border border-primary-2 rounded-lg p-6 m-8"},or={class:"flex items-center gap-2 text-primary-3"},ar={key:2,class:"text-center py-12"},lr={key:3,class:"flex flex-col gap-12 pt-6 pb-12"},pr=xt({__name:"index",setup(n){Ye({title:"Music Playlist View",meta:[{name:"description",content:"Browse your cached YouTube playlists"}]});const{loadFirstPlaylist:t,findVideoIndex:s}=Dt(),{currentPlaylist:o,currentVideos:i,loading:r,error:e,hasCurrentPlaylist:l}=ft(Dt()),{viewMode:u}=ft(Mt()),{currentVideo:g}=ft(te()),{initializeGlobalPlayer:h}=te(),k=q("");ve(async()=>{await t()});const C=M=>{if(!o.value)return;const x=s(M.id);x!==-1&&(k.value=M.id,h(x))};return At([g],([M])=>{M?k.value=M.id:k.value=""}),(M,x)=>{const f=Fn,c=Ee,p=Ei,m=sr;return B(),O("div",nr,[$(r)?(B(),O("div",ir,[...x[0]||(x[0]=[a("div",{class:"flex items-center gap-3 text-primary-3"},[a("div",{class:"i-mdi-loading animate-spin text-2xl"}),a("span",null,"Loading playlist...")],-1)])])):$(e)?(B(),O("div",rr,[a("div",or,[x[1]||(x[1]=a("div",{class:"i-mdi-alert-circle"},null,-1)),x[2]||(x[2]=a("strong",null,"Error:",-1)),at(" "+W($(e)),1)])])):$(l)?(B(),O("div",lr,[it(f),$(u)==="grid"?(B(),bt(c,{key:0,videos:$(i),"highlight-video-id":$(k),onPlay:C},null,8,["videos","highlight-video-id"])):$(u)==="list"?(B(),bt(p,{key:1,videos:$(i),"highlight-video-id":$(k),onPlay:C},null,8,["videos","highlight-video-id"])):$(u)==="timeline"?(B(),bt(m,{key:2,"highlight-video-id":$(k),videos:$(i),onPlay:C},null,8,["highlight-video-id","videos"])):X("",!0)])):(B(),O("div",ar,[...x[3]||(x[3]=[a("div",{class:"i-mdi-playlist-remove text-6xl text-primary-3 mb-4"},null,-1),a("h3",{class:"text-xl font-semibold mb-2"},"No Playlists Found",-1),a("p",{class:"text-primary-3 mb-6"}," No cached playlists are available. Use the admin panel to fetch playlists from YouTube. ",-1)])]))])}}});export{pr as default};
