import{_ as Fe}from"./CHFjULNO.js";import{_ as fe,c as Te,g as me,a as pe,b as ge}from"./D373tK42.js";import{e as xt,h as q,s as et,x as At,c as B,o as F,f as X,a,t as W,g as x,F as ot,r as lt,d as at,j as ve,v as Be,k as _t,q as wt,n as ct,y as te,z as ft,b as it,p as Gt,A as ye,m as bt,w as pt,l as Jt,B as Ie,C as xe,D as Oe,E as Ye,u as Pe}from"./CIyaTQZv.js";import{u as Mt,a as Dt,b as Le,c as $e,d as Ue,e as Ve,f as ee}from"./Cn0leY1N.js";import"./B9x4Ad_v.js";function mt(s){return Array.isArray?Array.isArray(s):we(s)==="[object Array]"}function je(s){if(typeof s=="string")return s;let t=s+"";return t=="0"&&1/s==-1/0?"-0":t}function Ne(s){return s==null?"":je(s)}function ht(s){return typeof s=="string"}function be(s){return typeof s=="number"}function He(s){return s===!0||s===!1||Re(s)&&we(s)=="[object Boolean]"}function Me(s){return typeof s=="object"}function Re(s){return Me(s)&&s!==null}function rt(s){return s!=null}function Nt(s){return!s.trim().length}function we(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const ze="Incorrect 'index' type",Ke=s=>`Invalid value for key ${s}`,We=s=>`Pattern length exceeds max of ${s}.`,Ze=s=>`Missing ${s} property in key`,Ge=s=>`Property 'weight' in key '${s}' must be a positive integer`,se=Object.prototype.hasOwnProperty;class Je{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let i=Ae(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ae(s){let t=null,n=null,r=null,i=1,o=null;if(ht(s)||mt(s))r=s,t=ne(s),n=Ht(s);else{if(!se.call(s,"name"))throw new Error(Ze("name"));const e=s.name;if(r=e,se.call(s,"weight")&&(i=s.weight,i<=0))throw new Error(Ge(e));t=ne(e),n=Ht(e),o=s.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function ne(s){return mt(s)?s:s.split(".")}function Ht(s){return mt(s)?s.join("."):s}function Qe(s,t){let n=[],r=!1;const i=(o,e,l)=>{if(rt(o))if(!e[l])n.push(o);else{let c=e[l];const p=o[c];if(!rt(p))return;if(l===e.length-1&&(ht(p)||be(p)||He(p)))n.push(Ne(p));else if(mt(p)){r=!0;for(let f=0,D=p.length;f<D;f+=1)i(p[f],e,l+1)}else e.length&&i(p,e,l+1)}};return i(s,ht(t)?t.split("."):t,0),r?n:n[0]}const qe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Xe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,t)=>s.score===t.score?s.idx<t.idx?-1:1:s.score<t.score?-1:1},ts={location:0,threshold:.6,distance:100},es={useExtendedSearch:!1,getFn:Qe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var N={...Xe,...qe,...ts,...es};const ss=/[^ ]+/g;function ns(s=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(i){const o=i.match(ss).length;if(n.has(o))return n.get(o);const e=1/Math.pow(o,.5*s),l=parseFloat(Math.round(e*r)/r);return n.set(o,l),l},clear(){n.clear()}}}class Qt{constructor({getFn:t=N.getFn,fieldNormWeight:n=N.fieldNormWeight}={}){this.norm=ns(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ht(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();ht(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!rt(t)||Nt(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((i,o)=>{let e=i.getFn?i.getFn(t):this.getFn(t,i.path);if(rt(e)){if(mt(e)){let l=[];const c=[{nestedArrIndex:-1,value:e}];for(;c.length;){const{nestedArrIndex:p,value:f}=c.pop();if(rt(f))if(ht(f)&&!Nt(f)){let D={v:f,i:p,n:this.norm.get(f)};l.push(D)}else mt(f)&&f.forEach((D,S)=>{c.push({nestedArrIndex:S,value:D})})}r.$[o]=l}else if(ht(e)&&!Nt(e)){let l={v:e,n:this.norm.get(e)};r.$[o]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function _e(s,t,{getFn:n=N.getFn,fieldNormWeight:r=N.fieldNormWeight}={}){const i=new Qt({getFn:n,fieldNormWeight:r});return i.setKeys(s.map(Ae)),i.setSources(t),i.create(),i}function is(s,{getFn:t=N.getFn,fieldNormWeight:n=N.fieldNormWeight}={}){const{keys:r,records:i}=s,o=new Qt({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o}function Et(s,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=N.distance,ignoreLocation:o=N.ignoreLocation}={}){const e=t/s.length;if(o)return e;const l=Math.abs(r-n);return i?e+l/i:l?1:e}function rs(s=[],t=N.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let e=s.length;o<e;o+=1){let l=s[o];l&&r===-1?r=o:!l&&r!==-1&&(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return s[o-1]&&o-r>=t&&n.push([r,o-1]),n}const yt=32;function os(s,t,n,{location:r=N.location,distance:i=N.distance,threshold:o=N.threshold,findAllMatches:e=N.findAllMatches,minMatchCharLength:l=N.minMatchCharLength,includeMatches:c=N.includeMatches,ignoreLocation:p=N.ignoreLocation}={}){if(t.length>yt)throw new Error(We(yt));const f=t.length,D=s.length,S=Math.max(0,Math.min(r,D));let C=o,M=S;const m=l>1||c,u=m?Array(D):[];let h;for(;(h=s.indexOf(t,M))>-1;){let v=Et(t,{currentLocation:h,expectedLocation:S,distance:i,ignoreLocation:p});if(C=Math.min(v,C),M=h+f,m){let y=0;for(;y<f;)u[h+y]=1,y+=1}}M=-1;let A=[],b=1,I=f+D;const V=1<<f-1;for(let v=0;v<f;v+=1){let y=0,Y=I;for(;y<Y;)Et(t,{errors:v,currentLocation:S+Y,expectedLocation:S,distance:i,ignoreLocation:p})<=C?y=Y:I=Y,Y=Math.floor((I-y)/2+y);I=Y;let O=Math.max(1,S-Y+1),E=e?D:Math.min(S+Y,D)+f,H=Array(E+2);H[E+1]=(1<<v)-1;for(let _=E;_>=O;_-=1){let g=_-1,$=n[s.charAt(g)];if(m&&(u[g]=+!!$),H[_]=(H[_+1]<<1|1)&$,v&&(H[_]|=(A[_+1]|A[_])<<1|1|A[_+1]),H[_]&V&&(b=Et(t,{errors:v,currentLocation:g,expectedLocation:S,distance:i,ignoreLocation:p}),b<=C)){if(C=b,M=g,M<=S)break;O=Math.max(1,2*S-M)}}if(Et(t,{errors:v+1,currentLocation:S,expectedLocation:S,distance:i,ignoreLocation:p})>C)break;A=H}const k={isMatch:M>=0,score:Math.max(.001,b)};if(m){const v=rs(u,l);v.length?c&&(k.indices=v):k.isMatch=!1}return k}function as(s){let t={};for(let n=0,r=s.length;n<r;n+=1){const i=s.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}const Yt=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class De{constructor(t,{location:n=N.location,threshold:r=N.threshold,distance:i=N.distance,includeMatches:o=N.includeMatches,findAllMatches:e=N.findAllMatches,minMatchCharLength:l=N.minMatchCharLength,isCaseSensitive:c=N.isCaseSensitive,ignoreDiacritics:p=N.ignoreDiacritics,ignoreLocation:f=N.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:e,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:p,ignoreLocation:f},t=c?t:t.toLowerCase(),t=p?Yt(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const D=(C,M)=>{this.chunks.push({pattern:C,alphabet:as(C),startIndex:M})},S=this.pattern.length;if(S>yt){let C=0;const M=S%yt,m=S-M;for(;C<m;)D(this.pattern.substr(C,yt),C),C+=yt;if(M){const u=S-yt;D(this.pattern.substr(u),u)}}else D(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i}=this.options;if(t=n?t:t.toLowerCase(),t=r?Yt(t):t,this.pattern===t){let m={isMatch:!0,score:0};return i&&(m.indices=[[0,t.length-1]]),m}const{location:o,distance:e,threshold:l,findAllMatches:c,minMatchCharLength:p,ignoreLocation:f}=this.options;let D=[],S=0,C=!1;this.chunks.forEach(({pattern:m,alphabet:u,startIndex:h})=>{const{isMatch:A,score:b,indices:I}=os(t,m,u,{location:o+h,distance:e,threshold:l,findAllMatches:c,minMatchCharLength:p,includeMatches:i,ignoreLocation:f});A&&(C=!0),S+=b,A&&I&&(D=[...D,...I])});let M={isMatch:C,score:C?S/this.chunks.length:1};return C&&i&&(M.indices=D),M}}class vt{constructor(t){this.pattern=t}static isMultiMatch(t){return ie(t,this.multiRegex)}static isSingleMatch(t){return ie(t,this.singleRegex)}search(){}}function ie(s,t){const n=s.match(t);return n?n[1]:null}class ls extends vt{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class us extends vt{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class cs extends vt{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class ds extends vt{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class hs extends vt{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class fs extends vt{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class ke extends vt{constructor(t,{location:n=N.location,threshold:r=N.threshold,distance:i=N.distance,includeMatches:o=N.includeMatches,findAllMatches:e=N.findAllMatches,minMatchCharLength:l=N.minMatchCharLength,isCaseSensitive:c=N.isCaseSensitive,ignoreDiacritics:p=N.ignoreDiacritics,ignoreLocation:f=N.ignoreLocation}={}){super(t),this._bitapSearch=new De(t,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:e,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:p,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Se extends vt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const i=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,i.push([r,n-1]);const e=!!i.length;return{isMatch:e,score:e?0:1,indices:i}}}const Rt=[ls,Se,cs,ds,fs,hs,us,ke],re=Rt.length,ms=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ps="|";function gs(s,t={}){return s.split(ps).map(n=>{let r=n.trim().split(ms).filter(o=>o&&!!o.trim()),i=[];for(let o=0,e=r.length;o<e;o+=1){const l=r[o];let c=!1,p=-1;for(;!c&&++p<re;){const f=Rt[p];let D=f.isMultiMatch(l);D&&(i.push(new f(D,t)),c=!0)}if(!c)for(p=-1;++p<re;){const f=Rt[p];let D=f.isSingleMatch(l);if(D){i.push(new f(D,t));break}}}return i})}const vs=new Set([ke.type,Se.type]);class ys{constructor(t,{isCaseSensitive:n=N.isCaseSensitive,ignoreDiacritics:r=N.ignoreDiacritics,includeMatches:i=N.includeMatches,minMatchCharLength:o=N.minMatchCharLength,ignoreLocation:e=N.ignoreLocation,findAllMatches:l=N.findAllMatches,location:c=N.location,threshold:p=N.threshold,distance:f=N.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:o,findAllMatches:l,ignoreLocation:e,location:c,threshold:p,distance:f},t=n?t:t.toLowerCase(),t=r?Yt(t):t,this.pattern=t,this.query=gs(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:o}=this.options;t=i?t:t.toLowerCase(),t=o?Yt(t):t;let e=0,l=[],c=0;for(let p=0,f=n.length;p<f;p+=1){const D=n[p];l.length=0,e=0;for(let S=0,C=D.length;S<C;S+=1){const M=D[S],{isMatch:m,indices:u,score:h}=M.search(t);if(m){if(e+=1,c+=h,r){const A=M.constructor.type;vs.has(A)?l=[...l,...u]:l.push(u)}}else{c=0,e=0,l.length=0;break}}if(e){let S={isMatch:!0,score:c/e};return r&&(S.indices=l),S}}return{isMatch:!1,score:1}}}const zt=[];function xs(...s){zt.push(...s)}function Kt(s,t){for(let n=0,r=zt.length;n<r;n+=1){let i=zt[n];if(i.condition(s,t))return new i(s,t)}return new De(s,t)}const Pt={AND:"$and",OR:"$or"},Wt={PATH:"$path",PATTERN:"$val"},Zt=s=>!!(s[Pt.AND]||s[Pt.OR]),$s=s=>!!s[Wt.PATH],bs=s=>!mt(s)&&Me(s)&&!Zt(s),oe=s=>({[Pt.AND]:Object.keys(s).map(t=>({[t]:s[t]}))});function Ce(s,t,{auto:n=!0}={}){const r=i=>{let o=Object.keys(i);const e=$s(i);if(!e&&o.length>1&&!Zt(i))return r(oe(i));if(bs(i)){const c=e?i[Wt.PATH]:o[0],p=e?i[Wt.PATTERN]:i[c];if(!ht(p))throw new Error(Ke(c));const f={keyId:Ht(c),pattern:p};return n&&(f.searcher=Kt(p,t)),f}let l={children:[],operator:o[0]};return o.forEach(c=>{const p=i[c];mt(p)&&p.forEach(f=>{l.children.push(r(f))})}),l};return Zt(s)||(s=oe(s)),r(s)}function Ms(s,{ignoreFieldNorm:t=N.ignoreFieldNorm}){s.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:o,score:e})=>{const l=i?i.weight:null;r*=Math.pow(e===0&&l?Number.EPSILON:e,(l||1)*(t?1:o))}),n.score=r})}function ws(s,t){const n=s.matches;t.matches=[],rt(n)&&n.forEach(r=>{if(!rt(r.indices)||!r.indices.length)return;const{indices:i,value:o}=r;let e={indices:i,value:o};r.key&&(e.key=r.key.src),r.idx>-1&&(e.refIndex=r.idx),t.matches.push(e)})}function As(s,t){t.score=s.score}function _s(s,t,{includeMatches:n=N.includeMatches,includeScore:r=N.includeScore}={}){const i=[];return n&&i.push(ws),r&&i.push(As),s.map(o=>{const{idx:e}=o,l={item:t[e],refIndex:e};return i.length&&i.forEach(c=>{c(o,l)}),l})}class $t{constructor(t,n={},r){this.options={...N,...n},this.options.useExtendedSearch,this._keyStore=new Je(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Qt))throw new Error(ze);this._myIndex=n||_e(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){rt(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,i-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:o,sortFn:e,ignoreFieldNorm:l}=this.options;let c=ht(t)?ht(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Ms(c,{ignoreFieldNorm:l}),o&&c.sort(e),be(n)&&n>-1&&(c=c.slice(0,n)),_s(c,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){const n=Kt(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:o,i:e,n:l})=>{if(!rt(o))return;const{isMatch:c,score:p,indices:f}=n.searchIn(o);c&&i.push({item:o,idx:e,matches:[{score:p,value:o,norm:l,indices:f}]})}),i}_searchLogical(t){const n=Ce(t,this.options),r=(l,c,p)=>{if(!l.children){const{keyId:D,searcher:S}=l,C=this._findMatches({key:this._keyStore.get(D),value:this._myIndex.getValueForItemAtKeyId(c,D),searcher:S});return C&&C.length?[{idx:p,item:c,matches:C}]:[]}const f=[];for(let D=0,S=l.children.length;D<S;D+=1){const C=l.children[D],M=r(C,c,p);if(M.length)f.push(...M);else if(l.operator===Pt.AND)return[]}return f},i=this._myIndex.records,o={},e=[];return i.forEach(({$:l,i:c})=>{if(rt(l)){let p=r(n,l,c);p.length&&(o[c]||(o[c]={idx:c,item:l,matches:[]},e.push(o[c])),p.forEach(({matches:f})=>{o[c].matches.push(...f)}))}}),e}_searchObjectList(t){const n=Kt(t,this.options),{keys:r,records:i}=this._myIndex,o=[];return i.forEach(({$:e,i:l})=>{if(!rt(e))return;let c=[];r.forEach((p,f)=>{c.push(...this._findMatches({key:p,value:e[f],searcher:n}))}),c.length&&o.push({idx:l,item:e,matches:c})}),o}_findMatches({key:t,value:n,searcher:r}){if(!rt(n))return[];let i=[];if(mt(n))n.forEach(({v:o,i:e,n:l})=>{if(!rt(o))return;const{isMatch:c,score:p,indices:f}=r.searchIn(o);c&&i.push({score:p,key:t,value:o,idx:e,norm:l,indices:f})});else{const{v:o,n:e}=n,{isMatch:l,score:c,indices:p}=r.searchIn(o);l&&i.push({score:c,key:t,value:o,norm:e,indices:p})}return i}}$t.version="7.1.0";$t.createIndex=_e;$t.parseIndex=is;$t.config=N;$t.parseQuery=Ce;xs(ys);const Ds={class:"relative"},ks=["for"],Ss={class:"relative rounded-lg bg-primary-1 focus-within:ring-2 focus-within:ring-accent focus-within:border-accent transition-colors","data-multiselect":""},Cs={key:0,class:"flex flex-wrap gap-1 p-2 border-b border-primary-2"},Es=["onClick"],Fs={class:"relative"},Ts=["id","placeholder","disabled"],Bs={key:1,class:"absolute z-50 w-full mt-1 bg-primary-1 border border-primary-2 rounded-lg shadow-lg max-h-60 overflow-y-auto"},Is=["onClick","onMouseenter"],Os={key:0,class:"i-mdi-check text-accent"},Ys={class:"text-primary-4"},Ps={key:1,class:"px-3 py-2 text-primary-3 text-center"},Ls=xt({__name:"AppInputMultiSelect",props:{id:{default:()=>`multiselect-${Math.random().toString(36).substr(2,9)}`},label:{default:""},placeholder:{default:"Search and select options..."},options:{},modelValue:{},disabled:{type:Boolean,default:!1},maxSelections:{default:void 0}},emits:["update:modelValue"],setup(s,{emit:t}){const n=s,r=t,i=q(""),o=q(!1),e=q(-1),l=q(),c=et({get:()=>n.modelValue,set:u=>r("update:modelValue",u)}),p=et(()=>new $t(n.options,{threshold:.3,includeScore:!0,minMatchCharLength:1})),f=et(()=>i.value.trim()?p.value.search(i.value).map(h=>h.item).slice(0,50):n.options.slice(0,50)),D=u=>{const h=[...c.value],A=h.indexOf(u);A>-1?h.splice(A,1):(!n.maxSelections||h.length<n.maxSelections)&&h.push(u),c.value=h,e.value=-1},S=u=>{const h=[...c.value],A=h.indexOf(u);A>-1&&(h.splice(A,1),c.value=h)},C=u=>{u&&!c.value.includes(u)&&(!n.maxSelections||c.value.length<n.maxSelections)&&(c.value=[...c.value,u]),o.value=!1,e.value=-1},M=()=>{n.disabled||(o.value=!o.value,o.value&&te(()=>{l.value?.focus()}))},m=u=>{if(n.disabled)return;const h=i.value.trim()&&!n.options.includes(i.value.trim())&&!c.value.includes(i.value.trim()),A=f.value.length+(h?1:0);switch(u.key){case"ArrowDown":u.preventDefault(),o.value=!0,e.value<A-1?e.value++:e.value=0;break;case"ArrowUp":u.preventDefault(),o.value=!0,e.value>0?e.value--:e.value=A-1;break;case"Enter":u.preventDefault(),o.value&&e.value>=0&&A>0?e.value<f.value.length?D(f.value[e.value]):h&&C(i.value.trim()):(o.value=!0,A>0&&(e.value=0));break;case"Escape":u.preventDefault(),o.value=!1,e.value=-1,l.value?.blur();break;case"Backspace":if(!i.value&&c.value.length>0){u.preventDefault();const b=c.value[c.value.length-1];b&&S(b)}break}};return At(i,()=>{e.value=-1}),At(o,u=>{u&&te(()=>{l.value?.focus()})}),(u,h)=>(F(),B("div",Ds,[s.label?(F(),B("label",{key:0,for:s.id,class:"block text-sm font-medium mb-2"},W(s.label),9,ks)):X("",!0),a("div",Ss,[x(c).length>0?(F(),B("div",Cs,[(F(!0),B(ot,null,lt(x(c),A=>(F(),B("span",{key:A,class:"inline-flex items-center gap-1 px-2 py-1 bg-primary-2 text-primary-4 text-xs rounded"},[at(W(A)+" ",1),a("button",{type:"button",class:"hover:text-accent transition-colors",onClick:b=>S(A)},[...h[5]||(h[5]=[a("div",{class:"i-mdi-close text-xs"},null,-1)])],8,Es)]))),128))])):X("",!0),a("div",Fs,[ve(a("input",{id:s.id,ref_key:"inputRef",ref:l,"onUpdate:modelValue":h[0]||(h[0]=A=>wt(i)?i.value=A:null),type:"text",placeholder:s.placeholder,disabled:s.disabled,class:"w-full px-3 py-2 bg-transparent text-primary-4 placeholder-primary-3 focus:outline-none",autocomplete:"off",onFocus:h[1]||(h[1]=A=>o.value=!0),onKeydown:_t(m,["stop"])},null,40,Ts),[[Be,x(i)]]),a("button",{type:"button",class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-primary-3 hover:text-accent transition-colors",onClick:M},[a("div",{class:ct(["transition-transform duration-200",x(o)?"i-mdi-chevron-up":"i-mdi-chevron-down"])},null,2)])])]),x(o)&&(x(f).length>0||x(i).trim())?(F(),B("div",Bs,[(F(!0),B(ot,null,lt(x(f),(A,b)=>(F(),B("button",{key:A,type:"button",class:ct(["w-full px-3 py-2 text-left hover:bg-bg-gradient transition-colors flex items-center justify-between",x(e)===b?"bg-bg-gradient":"",x(c).includes(A)?"text-accent":"text-primary-4"]),onClick:I=>D(A),onMouseenter:I=>e.value=b},[a("span",null,W(A),1),x(c).includes(A)?(F(),B("div",Os)):X("",!0)],42,Is))),128)),x(i).trim()&&!s.options.includes(x(i).trim())&&!x(c).includes(x(i).trim())?(F(),B("button",{key:0,type:"button",class:ct(["w-full px-3 py-2 text-left hover:bg-bg-gradient transition-colors flex items-center gap-2 border-t border-primary-2",x(e)===x(f).length?"bg-bg-gradient":""]),onClick:h[2]||(h[2]=A=>C(x(i).trim())),onMouseenter:h[3]||(h[3]=A=>e.value=x(f).length)},[h[6]||(h[6]=a("div",{class:"i-mdi-plus text-accent"},null,-1)),a("span",Ys,'Add "'+W(x(i).trim())+'"',1)],34)):X("",!0),x(f).length===0&&!x(i).trim()?(F(),B("div",Ps," No options available ")):X("",!0)])):X("",!0),x(o)?(F(),B("div",{key:2,class:"fixed inset-0 z-40",onClick:h[4]||(h[4]=A=>o.value=!1)})):X("",!0)]))}}),Us=Object.assign(Ls,{__name:"AppInputMultiSelect"}),Vs={class:"flex justify-between items-center mb-4"},js={class:"space-y-3"},Ns={class:"flex justify-between items-center"},Hs={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Rs={class:"flex justify-between items-center"},zs={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Ks={class:"flex justify-between items-center"},Ws={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Zs={class:"flex justify-between items-center"},Gs={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},Js={class:"flex justify-between items-center"},Qs={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},qs={class:"flex justify-between items-center"},Xs={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},tn={class:"flex justify-between items-center"},en={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},sn={class:"flex justify-between items-center"},nn={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},rn={class:"flex justify-between items-center"},on={class:"px-2 py-1 bg-primary-2 rounded text-sm text-primary-4"},an={class:"mt-6 pt-4 border-t border-primary-2"},ln={class:"text-sm text-primary-3"},un={class:"text-primary-4 font-medium"},cn=xt({__name:"KeyboardShortcutsHelp",props:{showHelp:{type:Boolean,default:!1}},emits:["close"],setup(s){const{currentKeyboardShortcuts:t,settings:n}=ft(Mt()),r=et(()=>({playPause:i(t.value.playPause),nextTrack:i(t.value.nextTrack),previousTrack:i(t.value.previousTrack),volumeUp:i(t.value.volumeUp),volumeDown:i(t.value.volumeDown),mute:i(t.value.mute),seekForward:i(t.value.seekForward),seekBackward:i(t.value.seekBackward),focusSearch:i(t.value.focusSearch)})),i=o=>({" ":"Space",ArrowLeft:"←",ArrowRight:"→",ArrowUp:"↑",ArrowDown:"↓",x:"X",z:"Z",b:"B",c:"C",v:"V",m:"M",l:"L",j:"J",k:"K",n:"N",p:"P","ctrl+k":"Ctrl+K"})[o]||o.toUpperCase();return(o,e)=>{const l=fe;return s.showHelp?(F(),B("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:e[2]||(e[2]=c=>o.$emit("close"))},[a("div",{class:"bg-primary-1 rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:e[1]||(e[1]=_t(()=>{},["stop"]))},[a("div",Vs,[e[3]||(e[3]=a("h3",{class:"text-lg font-semibold text-primary-4"},"Keyboard Shortcuts",-1)),it(l,{icon:"i-mdi-close",variant:"ghost",size:"small",onClick:e[0]||(e[0]=c=>o.$emit("close"))})]),a("div",js,[a("div",Ns,[e[4]||(e[4]=a("span",{class:"text-primary-3"},"Play/Pause",-1)),a("kbd",Hs,W(x(r).playPause),1)]),a("div",Rs,[e[5]||(e[5]=a("span",{class:"text-primary-3"},"Next Track",-1)),a("kbd",zs,W(x(r).nextTrack),1)]),a("div",Ks,[e[6]||(e[6]=a("span",{class:"text-primary-3"},"Previous Track",-1)),a("kbd",Ws,W(x(r).previousTrack),1)]),a("div",Zs,[e[7]||(e[7]=a("span",{class:"text-primary-3"},"Volume Up",-1)),a("kbd",Gs,W(x(r).volumeUp),1)]),a("div",Js,[e[8]||(e[8]=a("span",{class:"text-primary-3"},"Volume Down",-1)),a("kbd",Qs,W(x(r).volumeDown),1)]),a("div",qs,[e[9]||(e[9]=a("span",{class:"text-primary-3"},"Mute",-1)),a("kbd",Xs,W(x(r).mute),1)]),a("div",tn,[e[10]||(e[10]=a("span",{class:"text-primary-3"},"Seek Forward",-1)),a("kbd",en,W(x(r).seekForward),1)]),a("div",sn,[e[11]||(e[11]=a("span",{class:"text-primary-3"},"Seek Backward",-1)),a("kbd",nn,W(x(r).seekBackward),1)]),a("div",rn,[e[12]||(e[12]=a("span",{class:"text-primary-3"},"Focus Search",-1)),a("kbd",on,W(x(r).focusSearch),1)])]),a("div",an,[a("p",ln,[e[13]||(e[13]=at(" Current scheme: ",-1)),a("span",un,W(x(n).keyboardShortcutScheme==="simple"?"Default":x(n).keyboardShortcutScheme==="winamp"?"Winamp Style":"YouTube Style"),1)]),e[14]||(e[14]=a("p",{class:"text-xs text-primary-3 mt-2"}," Change keyboard shortcuts in the Filters panel ",-1))])])])):X("",!0)}}}),dn=Object.assign(cn,{__name:"KeyboardShortcutsHelp"}),qt=s=>{let t=0;for(let o=0;o<s.length;o++)t=s.charCodeAt(o)+((t<<5)-t);const n=Math.abs(t)%360,r=65+Math.abs(t)%20,i=45+Math.abs(t)%15;return`hsl(${n}, ${r}%, ${i}%)`},hn={class:"fixed top-6 left-0 flex flex-col gap-8 sm:gap-12 px-4 sm:px-6 z-1 w-full"},fn={class:"backdrop-blur-3xl rounded-2xl flex justify-center items-center gap-4 sm:gap-6 w-full max-w-2xl mx-auto pl-3"},mn={class:"flex-1 min-w-0 overflow-hidden"},pn={class:"flex gap-2 sm:gap-3 items-center flex-shrink-0"},gn={key:0,class:"rounded-lg p-4 space-y-4 backdrop-blur-2xl bg-bg-gradient"},vn={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},yn={class:"flex flex-wrap gap-2"},xn={class:"grid grid-cols-1 gap-4"},$n={class:"flex flex-wrap gap-2 max-h-32 overflow-y-auto"},bn=["onClick"],Mn={class:"text-xs text-primary-3 px-2 py-1 rounded-full"},wn={class:"grid grid-cols-1 gap-4"},An={class:"flex flex-wrap gap-2"},_n={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Dn={class:"flex justify-between"},kn=["value"],Sn=["value"],Cn={class:"flex justify-between items-center"},En={class:"text-sm text-primary-3"},Fn=xt({__name:"VideoSearch",setup(s){const{setCurrentPlaylistVideos:t}=Dt(),{setKeyboardShortcutScheme:n,setSelectedPlatforms:r}=Mt(),{originalCurrentPlaylist:i}=ft(Dt()),{settings:o,availableShortcutSchemes:e,viewMode:l}=ft(Mt());q("day");const c=q(!1);let p=0,f=null;const D=()=>{const U=window.scrollY;f&&clearTimeout(f),f=setTimeout(()=>{Math.abs(U-p)>500&&C.value&&(C.value=!1),p=U},150)};Gt(()=>{c.value=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",p=window.scrollY,window.addEventListener("scroll",D)}),ye(()=>{window.removeEventListener("scroll",D),f&&clearTimeout(f)});const S=q(""),C=q(!1),M=q([]),m=q([]),u=q([]),h=q(""),A=q("createdAt"),b=q(!1),I=q(!1),V=et(()=>i.value?.videos||[]),k=et(()=>V.value.length),v=et(()=>M.value.length>0||m.value.length>0||u.value.length>0||h.value!==""||S.value.trim()!==""),y=et(()=>[...new Set(V.value.filter(d=>d.artist).map(d=>d.artist))].sort()),Y=et(()=>{const U=new Set;return V.value.forEach(d=>{d.tags&&d.tags.forEach(R=>U.add(R))}),Array.from(U).sort()}),O=et(()=>{const U=new Map;return V.value.forEach(d=>{const R=d.userId||null;U.set(R,(U.get(R)||0)+1)}),Array.from(U.entries()).map(([d,R])=>({userId:d||"Anonymous",originalUserId:d,count:R,color:d?qt(d):"#666666"})).sort((d,R)=>R.count-d.count)}),E={keys:[{name:"title",weight:.3},{name:"musicTitle",weight:.4},{name:"artist",weight:.4},{name:"tags",weight:.2},{name:"description",weight:.1}],threshold:.3,includeScore:!0,minMatchCharLength:2},H=et(()=>new $t(V.value,E)),P=U=>{if(!U)return 0;const d=U.split(":").map(Number);return d.length===2&&d[0]!==void 0&&d[1]!==void 0?d[0]*60+d[1]:d.length===3&&d[0]!==void 0&&d[1]!==void 0&&d[2]!==void 0?d[0]*3600+d[1]*60+d[2]:0},_=U=>{if(!h.value)return!0;const R=P(U.duration)/60;switch(h.value){case"short":return R<4;case"medium":return R>=4&&R<=20;case"long":return R>20;default:return!0}},g=U=>{const d=u.value.indexOf(U);d>-1?u.value.splice(d,1):u.value.push(U)},$=et(()=>{let U=[];return S.value.trim()?U=H.value.search(S.value).map(R=>R.item):U=[...V.value],M.value.length>0&&(U=U.filter(d=>d.artist&&M.value.includes(d.artist))),m.value.length>0&&(U=U.filter(d=>d.tags&&m.value.some(R=>d.tags.includes(R)))),u.value.length>0&&(U=U.filter(d=>{const R=d.userId||"Anonymous";return u.value.includes(R)})),U=U.filter(_),(A.value!=="relevance"||!S.value.trim())&&U.sort((d,R)=>{switch(A.value){case"createdAt":return d.createdAt&&!R.createdAt?-1:!d.createdAt&&R.createdAt?1:d.createdAt&&R.createdAt?R.createdAt-d.createdAt:0;case"title":{const Z=d.musicTitle||d.title,Q=R.musicTitle||R.title;return Z.localeCompare(Q)}case"artist":{const Z=d.artist||"Unknown",Q=R.artist||"Unknown";return Z.localeCompare(Q)}case"duration":return P(d.duration)-P(R.duration);default:return 0}}),U}),T=()=>{C.value=!C.value},w=()=>{b.value=!b.value},L=U=>{h.value===U?h.value="":h.value=U},j=U=>{const d=o.value.selectedPlatforms||[],R=d.includes(U);r(R?d.filter(Z=>Z!==U):[...d,U])},z=()=>{S.value="",M.value=[],m.value=[],u.value=[],h.value="",A.value="createdAt",I.value=!1},G=U=>{const d=[...U];for(let R=d.length-1;R>0;R--){const Z=Math.floor(Math.random()*(R+1));[d[R],d[Z]]=[d[Z],d[R]]}return d},J=()=>{const U=G($.value);t(U)},tt=()=>{l.value==="grid"?l.value="list":l.value==="list"?l.value="timeline":l.value="grid"},st=()=>{switch(l.value){case"grid":return"i-mdi-view-grid";case"list":return"i-mdi-view-list";case"timeline":return"i-mdi-timeline";default:return"i-mdi-view-grid"}};return At($,U=>{t(U)},{immediate:!0}),(U,d)=>{const R=Fe,Z=fe,Q=Us,nt=dn;return F(),B("div",hn,[a("div",fn,[a("div",mn,[it(R,{id:"search",modelValue:x(S),"onUpdate:modelValue":d[0]||(d[0]=K=>wt(S)?S.value=K:null),placeholder:"Search by title, artist, or tags...",size:"large"},null,8,["modelValue"])]),a("div",pn,[it(Z,{icon:"i-mdi-filter-variant text-3xl",variant:"ghost",size:"large",class:ct(["rounded-full",{"[&_[class^=i-mdi]]:text-accent":x(v)}]),onClick:T},null,8,["class"]),it(Z,{icon:st(),variant:"ghost",size:"large",class:"rounded-full text-2xl",onClick:tt},null,8,["icon"]),x(c)?(F(),bt(Z,{key:0,to:"/admin",icon:"i-mdi-cog",variant:"ghost",size:"medium",class:"lt-sm:hidden"},{default:pt(()=>[...d[11]||(d[11]=[a("span",{class:"hidden sm:inline"},"Admin",-1)])]),_:1})):X("",!0)])]),x(C)?(F(),B("div",gn,[a("div",vn,[a("div",null,[it(Q,{id:"artist-filter",modelValue:x(M),"onUpdate:modelValue":d[1]||(d[1]=K=>wt(M)?M.value=K:null),label:"Artists",placeholder:"Search and select artists...",options:x(y)},null,8,["modelValue","options"])]),a("div",null,[it(Q,{id:"tag-filter",modelValue:x(m),"onUpdate:modelValue":d[2]||(d[2]=K=>wt(m)?m.value=K:null),label:"Tags",placeholder:"Search and select tags...",options:x(Y)},null,8,["modelValue","options"])]),a("div",null,[d[15]||(d[15]=a("label",{class:"block text-sm font-medium mb-2"},"Duration",-1)),a("div",yn,[it(Z,{size:"small",variant:x(h)==="short"?"primary":"ghost",onClick:d[3]||(d[3]=K=>L("short"))},{default:pt(()=>[...d[12]||(d[12]=[at(" Short (< 4 min) ",-1)])]),_:1},8,["variant"]),it(Z,{size:"small",variant:x(h)==="medium"?"primary":"ghost",onClick:d[4]||(d[4]=K=>L("medium"))},{default:pt(()=>[...d[13]||(d[13]=[at(" Medium (4-20 min) ",-1)])]),_:1},8,["variant"]),it(Z,{size:"small",variant:x(h)==="long"?"primary":"ghost",onClick:d[5]||(d[5]=K=>L("long"))},{default:pt(()=>[...d[14]||(d[14]=[at(" Long (> 20 min) ",-1)])]),_:1},8,["variant"])])])]),a("div",xn,[a("div",null,[d[17]||(d[17]=a("label",{class:"block text-sm font-medium mb-2"},"Users",-1)),a("div",$n,[(F(!0),B(ot,null,lt(x(O),K=>(F(),B("div",{key:K.userId,class:ct(["flex items-center gap-2 cursor-pointer p-2 hover:bg-primary-1 rounded-2xl transition-colors",{"bg-primary-2":x(u).includes(K.userId)}]),onClick:dt=>g(K.userId)},[a("div",{class:"w-4 h-4 rounded-full flex items-center justify-center text-black text-xs font-bold",style:Jt({backgroundColor:K.color})},[...d[16]||(d[16]=[a("span",{class:"i-mdi-account text-xs"},null,-1)])],4),a("span",Mn,W(K.count),1)],10,bn))),128))])])]),a("div",wn,[a("div",null,[d[18]||(d[18]=a("label",{class:"block text-sm font-medium mb-2"},"Music Platforms",-1)),a("div",An,[(F(!0),B(ot,null,lt(("getAllPlatforms"in U?U.getAllPlatforms:x(Te))(),K=>(F(),bt(Z,{key:K.id,size:"small",variant:x(o).selectedPlatforms?.includes(K.id)?"primary":"ghost",onClick:dt=>j(K.id)},{default:pt(()=>[a("div",{class:ct([K.icon,"text-sm mr-1"])},null,2),at(" "+W(K.name),1)]),_:2},1032,["variant","onClick"]))),128))])])]),a("div",_n,[a("div",null,[d[20]||(d[20]=a("label",{class:"block text-sm font-medium mb-2"},"Sort By",-1)),ve(a("select",{"onUpdate:modelValue":d[6]||(d[6]=K=>wt(A)?A.value=K:null),class:"w-full rounded-lg bg-primary-1 text-primary-3 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-accent",onKeydown:d[7]||(d[7]=_t(()=>{},["stop"]))},[...d[19]||(d[19]=[xe('<option value="relevance">Relevance</option><option value="createdAt">Date Added (Latest First)</option><option value="title">Title A-Z</option><option value="artist">Artist A-Z</option><option value="duration">Duration</option>',5)])],544),[[Ie,x(A)]])]),a("div",null,[d[22]||(d[22]=a("label",{class:"block text-sm font-medium mb-2"},"Playlist",-1)),it(Z,{icon:"i-mdi-shuffle",variant:"primary",size:"medium",class:"w-full",onClick:J},{default:pt(()=>[...d[21]||(d[21]=[at(" Shuffle ",-1)])]),_:1})]),a("div",null,[a("div",Dn,[d[24]||(d[24]=a("label",{class:"block text-sm font-medium mb-2"},"Keyboard ",-1)),it(Z,{icon:"i-mdi-keyboard",variant:"ghost",size:"medium",onClick:w},{default:pt(()=>[...d[23]||(d[23]=[a("span",{class:"hidden sm:inline"},"Shortcuts",-1)])]),_:1})]),a("select",{value:x(o).keyboardShortcutScheme,class:"w-full rounded-lg bg-primary-1 text-primary-3 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-accent",onChange:d[8]||(d[8]=K=>x(n)(K.target.value)),onKeydown:d[9]||(d[9]=_t(()=>{},["stop"]))},[(F(!0),B(ot,null,lt(x(e),K=>(F(),B("option",{key:K.value,value:K.value},W(K.label),9,Sn))),128))],40,kn)]),d[25]||(d[25]=a("div",{class:"text-primary-3 w-full text-right"},"Scroll to close.",-1))]),a("div",Cn,[a("span",En,W(x($).length)+" of "+W(x(k))+" videos ",1),it(Z,{variant:"ghost",size:"small",onClick:z},{default:pt(()=>[...d[26]||(d[26]=[at(" Clear All ",-1)])]),_:1})])])):X("",!0),it(nt,{"show-help":x(b),onClose:d[10]||(d[10]=K=>b.value=!1)},null,8,["show-help"])])}}}),Tn=Object.assign(Fn,{__name:"VideoSearch"});function kt(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ft={exports:{}},Bn=Ft.exports,ae;function In(){return ae||(ae=1,(function(s,t){(function(n,r){s.exports=r()})(Bn,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",e="second",l="minute",c="hour",p="day",f="week",D="month",S="quarter",C="year",M="date",m="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var g=["th","st","nd","rd"],$=_%100;return"["+_+(g[($-20)%10]||g[$]||g[0])+"]"}},b=function(_,g,$){var T=String(_);return!T||T.length>=g?_:""+Array(g+1-T.length).join($)+_},I={s:b,z:function(_){var g=-_.utcOffset(),$=Math.abs(g),T=Math.floor($/60),w=$%60;return(g<=0?"+":"-")+b(T,2,"0")+":"+b(w,2,"0")},m:function _(g,$){if(g.date()<$.date())return-_($,g);var T=12*($.year()-g.year())+($.month()-g.month()),w=g.clone().add(T,D),L=$-w<0,j=g.clone().add(T+(L?-1:1),D);return+(-(T+($-w)/(L?w-j:j-w))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:D,y:C,w:f,d:p,D:M,h:c,m:l,s:e,ms:o,Q:S}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},V="en",k={};k[V]=A;var v="$isDayjsObject",y=function(_){return _ instanceof H||!(!_||!_[v])},Y=function _(g,$,T){var w;if(!g)return V;if(typeof g=="string"){var L=g.toLowerCase();k[L]&&(w=L),$&&(k[L]=$,w=L);var j=g.split("-");if(!w&&j.length>1)return _(j[0])}else{var z=g.name;k[z]=g,w=z}return!T&&w&&(V=w),w||!T&&V},O=function(_,g){if(y(_))return _.clone();var $=typeof g=="object"?g:{};return $.date=_,$.args=arguments,new H($)},E=I;E.l=Y,E.i=y,E.w=function(_,g){return O(_,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var H=(function(){function _($){this.$L=Y($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[v]=!0}var g=_.prototype;return g.parse=function($){this.$d=(function(T){var w=T.date,L=T.utc;if(w===null)return new Date(NaN);if(E.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var j=w.match(u);if(j){var z=j[2]-1||0,G=(j[7]||"0").substring(0,3);return L?new Date(Date.UTC(j[1],z,j[3]||1,j[4]||0,j[5]||0,j[6]||0,G)):new Date(j[1],z,j[3]||1,j[4]||0,j[5]||0,j[6]||0,G)}}return new Date(w)})($),this.init()},g.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},g.$utils=function(){return E},g.isValid=function(){return this.$d.toString()!==m},g.isSame=function($,T){var w=O($);return this.startOf(T)<=w&&w<=this.endOf(T)},g.isAfter=function($,T){return O($)<this.startOf(T)},g.isBefore=function($,T){return this.endOf(T)<O($)},g.$g=function($,T,w){return E.u($)?this[T]:this.set(w,$)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function($,T){var w=this,L=!!E.u(T)||T,j=E.p($),z=function(Z,Q){var nt=E.w(w.$u?Date.UTC(w.$y,Q,Z):new Date(w.$y,Q,Z),w);return L?nt:nt.endOf(p)},G=function(Z,Q){return E.w(w.toDate()[Z].apply(w.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(Q)),w)},J=this.$W,tt=this.$M,st=this.$D,U="set"+(this.$u?"UTC":"");switch(j){case C:return L?z(1,0):z(31,11);case D:return L?z(1,tt):z(0,tt+1);case f:var d=this.$locale().weekStart||0,R=(J<d?J+7:J)-d;return z(L?st-R:st+(6-R),tt);case p:case M:return G(U+"Hours",0);case c:return G(U+"Minutes",1);case l:return G(U+"Seconds",2);case e:return G(U+"Milliseconds",3);default:return this.clone()}},g.endOf=function($){return this.startOf($,!1)},g.$set=function($,T){var w,L=E.p($),j="set"+(this.$u?"UTC":""),z=(w={},w[p]=j+"Date",w[M]=j+"Date",w[D]=j+"Month",w[C]=j+"FullYear",w[c]=j+"Hours",w[l]=j+"Minutes",w[e]=j+"Seconds",w[o]=j+"Milliseconds",w)[L],G=L===p?this.$D+(T-this.$W):T;if(L===D||L===C){var J=this.clone().set(M,1);J.$d[z](G),J.init(),this.$d=J.set(M,Math.min(this.$D,J.daysInMonth())).$d}else z&&this.$d[z](G);return this.init(),this},g.set=function($,T){return this.clone().$set($,T)},g.get=function($){return this[E.p($)]()},g.add=function($,T){var w,L=this;$=Number($);var j=E.p(T),z=function(tt){var st=O(L);return E.w(st.date(st.date()+Math.round(tt*$)),L)};if(j===D)return this.set(D,this.$M+$);if(j===C)return this.set(C,this.$y+$);if(j===p)return z(1);if(j===f)return z(7);var G=(w={},w[l]=r,w[c]=i,w[e]=n,w)[j]||1,J=this.$d.getTime()+$*G;return E.w(J,this)},g.subtract=function($,T){return this.add(-1*$,T)},g.format=function($){var T=this,w=this.$locale();if(!this.isValid())return w.invalidDate||m;var L=$||"YYYY-MM-DDTHH:mm:ssZ",j=E.z(this),z=this.$H,G=this.$m,J=this.$M,tt=w.weekdays,st=w.months,U=w.meridiem,d=function(Q,nt,K,dt){return Q&&(Q[nt]||Q(T,L))||K[nt].slice(0,dt)},R=function(Q){return E.s(z%12||12,Q,"0")},Z=U||function(Q,nt,K){var dt=Q<12?"AM":"PM";return K?dt.toLowerCase():dt};return L.replace(h,(function(Q,nt){return nt||(function(K){switch(K){case"YY":return String(T.$y).slice(-2);case"YYYY":return E.s(T.$y,4,"0");case"M":return J+1;case"MM":return E.s(J+1,2,"0");case"MMM":return d(w.monthsShort,J,st,3);case"MMMM":return d(st,J);case"D":return T.$D;case"DD":return E.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return d(w.weekdaysMin,T.$W,tt,2);case"ddd":return d(w.weekdaysShort,T.$W,tt,3);case"dddd":return tt[T.$W];case"H":return String(z);case"HH":return E.s(z,2,"0");case"h":return R(1);case"hh":return R(2);case"a":return Z(z,G,!0);case"A":return Z(z,G,!1);case"m":return String(G);case"mm":return E.s(G,2,"0");case"s":return String(T.$s);case"ss":return E.s(T.$s,2,"0");case"SSS":return E.s(T.$ms,3,"0");case"Z":return j}return null})(Q)||j.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function($,T,w){var L,j=this,z=E.p(T),G=O($),J=(G.utcOffset()-this.utcOffset())*r,tt=this-G,st=function(){return E.m(j,G)};switch(z){case C:L=st()/12;break;case D:L=st();break;case S:L=st()/3;break;case f:L=(tt-J)/6048e5;break;case p:L=(tt-J)/864e5;break;case c:L=tt/i;break;case l:L=tt/r;break;case e:L=tt/n;break;default:L=tt}return w?L:E.a(L)},g.daysInMonth=function(){return this.endOf(D).$D},g.$locale=function(){return k[this.$L]},g.locale=function($,T){if(!$)return this.$L;var w=this.clone(),L=Y($,T,!0);return L&&(w.$L=L),w},g.clone=function(){return E.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},_})(),P=H.prototype;return O.prototype=P,[["$ms",o],["$s",e],["$m",l],["$H",c],["$W",p],["$M",D],["$y",C],["$D",M]].forEach((function(_){P[_[1]]=function(g){return this.$g(g,_[0],_[1])}})),O.extend=function(_,g){return _.$i||(_(g,H,O),_.$i=!0),O},O.locale=Y,O.isDayjs=y,O.unix=function(_){return O(1e3*_)},O.en=k[V],O.Ls=k,O.p={},O}))})(Ft)),Ft.exports}var On=In();const ut=kt(On);var Tt={exports:{}},Yn=Tt.exports,le;function Pn(){return le||(le=1,(function(s,t){(function(n,r){s.exports=r()})(Yn,(function(){return function(n,r,i){n=n||{};var o=r.prototype,e={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(p,f,D,S){return o.fromToBase(p,f,D,S)}i.en.relativeTime=e,o.fromToBase=function(p,f,D,S,C){for(var M,m,u,h=D.$locale().relativeTime||e,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=A.length,I=0;I<b;I+=1){var V=A[I];V.d&&(M=S?i(p).diff(D,V.d,!0):D.diff(p,V.d,!0));var k=(n.rounding||Math.round)(Math.abs(M));if(u=M>0,k<=V.r||!V.r){k<=1&&I>0&&(V=A[I-1]);var v=h[V.l];C&&(k=C(""+k)),m=typeof v=="string"?v.replace("%d",k):v(k,f,V.l,u);break}}if(f)return m;var y=u?h.future:h.past;return typeof y=="function"?y(m):y.replace("%s",m)},o.to=function(p,f){return l(p,f,this,!0)},o.from=function(p,f){return l(p,f,this)};var c=function(p){return p.$u?i.utc():i()};o.toNow=function(p){return this.to(c(this),p)},o.fromNow=function(p){return this.from(c(this),p)}}}))})(Tt)),Tt.exports}var Ln=Pn();const Xt=kt(Ln),Un={class:"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] sm:grid-cols-[repeat(auto-fill,minmax(240px,1fr))] md:grid-cols-[repeat(auto-fill,minmax(280px,1fr))] gap-4 sm:gap-6 px-6"},Vn=["onClick"],jn={key:0,class:"absolute top-2 right-2 bg-accent text-black px-2 py-1 rounded text-xs font-medium flex items-center gap-1"},Nn=["src","alt"],Hn={class:"flex flex-col gap-1"},Rn={key:0,class:"text-gray-5 text-sm font-medium"},zn={class:"leading-5 text-primary-3 line-clamp-2"},Kn={class:"flex items-center justify-between gap-3 mb-2"},Wn={class:"text-gray-400 text-xs sm:text-sm"},Zn={class:"text-gray-500 text-xs sm:text-sm flex items-center justify-center gap-1"},Gn={class:"flex items-center justify-between gap-3 mb-2"},Jn={class:"flex items-center gap-2"},Qn={key:0,class:"text-gray-500 text-xs sm:text-sm"},qn={key:0,class:"pt-2"},Xn={class:"flex flex-wrap gap-1"},ti={key:1,class:"pt-2"},ei={class:"flex items-center gap-2"},si=["href","title"],ni=xt({__name:"VideoGrid",props:{videos:{default:()=>[]},highlightVideoId:{default:void 0}},emits:["play","visibleVideosChange"],setup(s,{expose:t,emit:n}){const r=s,i=q([]),o=q([]),e=n,l=Oe(new Map),c=$e(M=>{e("visibleVideosChange",M)},150),{stop:p}=Le(i,M=>{M.forEach(u=>{const h=i.value.indexOf(u.target);if(h!==-1&&r.videos[h]){const A=r.videos[h];l.set(A.id,u.isIntersecting)}});const m=r.videos.filter(u=>l.get(u.id)||!1);f(o.value,m)||(o.value=m,c(m))},{threshold:.1,rootMargin:"50px"}),f=(M,m)=>M.length!==m.length?!1:M.every((u,h)=>u.id===m[h]?.id);At(()=>r.videos,()=>{const M=new Set(r.videos.map(m=>m.id));for(const[m]of l)M.has(m)||l.delete(m)},{deep:!0}),ye(()=>{p()});const{settings:D}=ft(Mt()),S=et(()=>D.value.selectedPlatforms||[]);t({visibleVideos:Ye(o)}),ut.extend(Xt);const C=M=>ut(M).fromNow();return(M,m)=>(F(),B("div",Un,[(F(!0),B(ot,null,lt(s.videos,u=>(F(),B("div",{key:u.id,ref_for:!0,ref_key:"videoElements",ref:i,class:ct(["relative group shadow-black hover:shadow-md hover:bg-zinc-900 flex flex-col gap-3 rounded-2xl hover:rounded-b-0 pa-2 transition-shadow duration-200",{"outline-accent outline-2 outline-solid outline-bottom-0":s.highlightVideoId===u.id}])},[a("div",{class:"rounded-2xl overflow-hidden w-full aspect-video relative cursor-pointer",onClick:h=>M.$emit("play",u)},[m[1]||(m[1]=a("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[a("div",{class:"i-mdi-play-outline text-accent text-8xl"})],-1)),s.highlightVideoId===u.id?(F(),B("div",jn,[...m[0]||(m[0]=[a("div",{class:"i-mdi-volume-high w-3 h-3"},null,-1),at(" Playing ",-1)])])):X("",!0),a("img",{src:`https://i.ytimg.com/vi/${u.id}/hqdefault.jpg`,alt:u.title,class:"w-full h-full object-cover",loading:"lazy"},null,8,Nn)],8,Vn),a("div",Hn,[u.artist?(F(),B("div",Rn,W(u.artist),1)):X("",!0),a("div",zn,W(u.musicTitle||u.title),1)]),a("div",{class:ct(["hidden group-hover:flex absolute bg-zinc-900 w-full top-full left-0 flex-col z-10 shadow-black shadow-md rounded-b-2xl p-3",{"outline-2 outline-solid outline-accent ":s.highlightVideoId===u.id}])},[a("div",Kn,[a("p",Wn,W(u.channel),1),a("p",Zn,[m[2]||(m[2]=a("span",{class:"i-mdi-clock-outline text-xs"},null,-1)),at(" "+W(u.duration),1)])]),a("div",Gn,[a("div",Jn,[a("div",{class:"w-4 h-4 rounded-full flex items-center justify-center text-white text-xs font-bold",style:Jt({backgroundColor:("getUserColor"in M?M.getUserColor:x(qt))(u.userId||" ")})},[...m[3]||(m[3]=[a("span",{class:"i-mdi-account text-xs"},null,-1)])],4)]),u.createdAt?(F(),B("p",Qn,W(C(u.createdAt)),1)):X("",!0)]),u.tags&&u.tags.length>0?(F(),B("div",qn,[a("div",Xn,[(F(!0),B(ot,null,lt(u.tags,h=>(F(),B("span",{key:h,class:"text-xs b-1 b-solid b-accent-2 text-accent px-2 py-1 rounded-lg"},W(h),1))),128))])])):X("",!0),u.externalIds&&x(S).some(h=>u.externalIds?.[h])?(F(),B("div",ti,[a("div",ei,[m[4]||(m[4]=a("span",{class:"text-xs text-primary-3"},"Listen on:",-1)),(F(!0),B(ot,null,lt(x(S).filter(h=>u.externalIds?.[h]),h=>(F(),B("a",{key:h,href:("getPlatformUrl"in M?M.getPlatformUrl:x(pe))(h,u.externalIds[h]),target:"_blank",rel:"noopener noreferrer",class:"text-primary-3 hover:text-accent transition-colors",title:`Listen on ${("getPlatformName"in M?M.getPlatformName:x(me))(h)}`},[a("div",{class:ct([("getPlatformIcon"in M?M.getPlatformIcon:x(ge))(h),"text-xl"])},null,2)],8,si))),128))])])):X("",!0)],2)],2))),128))]))}}),Ee=Object.assign(ni,{__name:"VideoGrid"}),ii={class:"rounded-lg sm:px-6"},ri={key:0,class:"text-center py-8"},oi={key:1,class:"overflow-x-auto"},ai={class:"w-full border-collapse"},li=["onClick"],ui={class:"p-3"},ci={class:"flex items-center gap-3"},di={class:"flex-shrink-0 relative"},hi=["src","alt"],fi={key:0,class:"absolute -top-1 -right-1 bg-accent text-black px-1 py-0.5 rounded text-xs font-medium flex items-center gap-1"},mi={class:"flex-1 min-w-0"},pi={class:"mb-1"},gi={key:0,class:"text-primary-2 text-xs font-medium"},vi={key:1,class:"text-xs text-gray-5 opacity-80 italic"},yi={class:"font-medium text-primary-3 line-clamp-2 text-sm mb-1"},xi={class:"p-3"},$i={class:"text-sm text-primary-3 font-mono flex items-center gap-1"},bi={class:"p-3"},Mi={key:0,class:"relative flex gap-1 max-w-72 overflow-hidden"},wi={class:"p-3"},Ai={key:0,class:"flex gap-2"},_i=["href","title"],Di={class:"p-3 min-w-30"},ki={class:"flex items-center gap-2"},Si=["title"],Ci={key:1,class:"text-sm text-primary-3 italic"},Ei=xt({__name:"VideoList",props:{videos:{default:()=>[]},highlightVideoId:{default:""}},emits:["play"],setup(s){const{settings:t}=ft(Mt()),n=et(()=>t.value.selectedPlatforms||[]);ut.extend(Xt);const r=i=>ut(i).fromNow();return(i,o)=>(F(),B("div",ii,[s.videos.length?(F(),B("div",oi,[a("table",ai,[o[6]||(o[6]=a("thead",null,[a("tr",{class:"border-b border-primary-2"},[a("th",{class:"text-left p-3 font-medium text-primary-4"},"Video"),a("th",{class:"text-left p-3 font-medium text-primary-4"},"Duration"),a("th",{class:"text-left p-3 font-medium text-primary-4"},"Tags"),a("th",{class:"text-left p-3 font-medium text-primary-4"},"Platforms"),a("th",{class:"text-left p-3 font-medium text-primary-4"},"Added")])],-1)),a("tbody",null,[(F(!0),B(ot,null,lt(s.videos,e=>(F(),B("tr",{key:e.id,class:ct(["relative border-b border-primary-2/30 hover:bg-bg-gradient transition-colors cursor-pointer",{"after:content-empty after:absolute after:inset-0 after:b-1 after:b-solid after:b-accent after:pointer-events-none after:rounded-2xl":s.highlightVideoId===e.id}]),onClick:l=>i.$emit("play",e)},[a("td",ui,[a("div",ci,[a("div",di,[a("img",{src:`https://i.ytimg.com/vi/${e.id}/hqdefault.jpg`,alt:e.title,class:"rounded-full size-16 object-cover bg-primary-1"},null,8,hi),o[2]||(o[2]=a("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity rounded"},[a("div",{class:"i-mdi-play-outline text-accent text-2xl"})],-1)),s.highlightVideoId===e.id?(F(),B("div",fi,[...o[1]||(o[1]=[a("div",{class:"i-mdi-volume-high w-2 h-2"},null,-1)])])):X("",!0)]),a("div",mi,[a("div",pi,[e.artist?(F(),B("span",gi,W(e.artist),1)):(F(),B("span",vi,W(e.channel),1))]),a("h4",yi,W(e.musicTitle||e.title),1)])])]),a("td",xi,[a("span",$i,[o[3]||(o[3]=a("span",{class:"i-mdi-clock-outline text-xs text-gray-6"},null,-1)),at(" "+W(e.duration),1)])]),a("td",bi,[e.tags&&e.tags.length>0?(F(),B("div",Mi,[(F(!0),B(ot,null,lt(e.tags,l=>(F(),B("span",{key:l,class:"text-xs b-1 b-solid b-accent-2 text-accent px-2 py-1 rounded-lg whitespace-nowrap flex-shrink-0"},W(l),1))),128)),o[4]||(o[4]=a("div",{class:"absolute right-0 top-0 bottom-0 w-10 bg-gradient-to-r from-transparent to-background group-hover:to-bg-gradient pointer-events-none"},null,-1))])):X("",!0)]),a("td",wi,[e.externalIds&&x(n).some(l=>e.externalIds?.[l])?(F(),B("div",Ai,[(F(!0),B(ot,null,lt(x(n).filter(l=>e.externalIds?.[l]),l=>(F(),B("a",{key:l,href:("getPlatformUrl"in i?i.getPlatformUrl:x(pe))(l,e.externalIds[l]),target:"_blank",rel:"noopener noreferrer",class:"text-primary-3 hover:text-accent transition-colors",title:`Listen on ${("getPlatformName"in i?i.getPlatformName:x(me))(l)}`},[a("div",{class:ct([("getPlatformIcon"in i?i.getPlatformIcon:x(ge))(l),"text-sm"])},null,2)],8,_i))),128))])):X("",!0)]),a("td",Di,[a("div",ki,[a("div",{class:"w-3 h-3 rounded-full flex items-center justify-center text-white text-xs font-bold",style:Jt({backgroundColor:("getUserColor"in i?i.getUserColor:x(qt))(e.userId||" ")})},[...o[5]||(o[5]=[a("span",{class:"i-mdi-account text-xs"},null,-1)])],4)]),e.createdAt?(F(),B("span",{key:0,class:"text-sm text-primary-3",title:new Date(e.createdAt).toLocaleString()},W(r(e.createdAt)),9,Si)):(F(),B("span",Ci,"Unknown"))])],10,li))),128))])])])):(F(),B("div",ri,[...o[0]||(o[0]=[a("div",{class:"i-mdi-video-outline text-4xl mb-2"},null,-1),a("p",{class:"text-primary-3"},"No videos found.",-1)])]))]))}}),Fi=Object.assign(Ei,{__name:"VideoList"});var Bt={exports:{}},Ti=Bt.exports,ue;function Bi(){return ue||(ue=1,(function(s,t){(function(n,r){s.exports=r()})(Ti,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,e,l){var c=e.prototype;l.utc=function(m){var u={date:m,utc:!0,args:arguments};return new e(u)},c.utc=function(m){var u=l(this.toDate(),{locale:this.$L,utc:!0});return m?u.add(this.utcOffset(),n):u},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var p=c.parse;c.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),p.call(this,m)};var f=c.init;c.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else f.call(this)};var D=c.utcOffset;c.utcOffset=function(m,u){var h=this.$utils().u;if(h(m))return this.$u?0:h(this.$offset)?D.call(this):this.$offset;if(typeof m=="string"&&(m=(function(V){V===void 0&&(V="");var k=V.match(r);if(!k)return null;var v=(""+k[0]).match(i)||["-",0,0],y=v[0],Y=60*+v[1]+ +v[2];return Y===0?0:y==="+"?Y:-Y})(m),m===null))return this;var A=Math.abs(m)<=16?60*m:m;if(A===0)return this.utc(u);var b=this.clone();if(u)return b.$offset=A,b.$u=!1,b;var I=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(b=this.local().add(A+I,n)).$offset=A,b.$x.$localOffset=I,b};var S=c.format;c.format=function(m){var u=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return S.call(this,u)},c.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var C=c.toDate;c.toDate=function(m){return m==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():C.call(this)};var M=c.diff;c.diff=function(m,u,h){if(m&&this.$u===m.$u)return M.call(this,m,u,h);var A=this.local(),b=l(m).local();return M.call(A,b,u,h)}}}))})(Bt)),Bt.exports}var Ii=Bi();const Oi=kt(Ii);var It={exports:{}},Yi=It.exports,ce;function Pi(){return ce||(ce=1,(function(s,t){(function(n,r){s.exports=r()})(Yi,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,o=/\d\d/,e=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},p=function(u){return(u=+u)+(u>68?1900:2e3)},f=function(u){return function(h){this[u]=+h}},D=[/[+-]\d\d:?(\d\d)?|Z/,function(u){(this.zone||(this.zone={})).offset=(function(h){if(!h||h==="Z")return 0;var A=h.match(/([+-]|\d\d)/g),b=60*A[1]+(+A[2]||0);return b===0?0:A[0]==="+"?-b:b})(u)}],S=function(u){var h=c[u];return h&&(h.indexOf?h:h.s.concat(h.f))},C=function(u,h){var A,b=c.meridiem;if(b){for(var I=1;I<=24;I+=1)if(u.indexOf(b(I,0,h))>-1){A=I>12;break}}else A=u===(h?"pm":"PM");return A},M={A:[l,function(u){this.afternoon=C(u,!1)}],a:[l,function(u){this.afternoon=C(u,!0)}],Q:[i,function(u){this.month=3*(u-1)+1}],S:[i,function(u){this.milliseconds=100*+u}],SS:[o,function(u){this.milliseconds=10*+u}],SSS:[/\d{3}/,function(u){this.milliseconds=+u}],s:[e,f("seconds")],ss:[e,f("seconds")],m:[e,f("minutes")],mm:[e,f("minutes")],H:[e,f("hours")],h:[e,f("hours")],HH:[e,f("hours")],hh:[e,f("hours")],D:[e,f("day")],DD:[o,f("day")],Do:[l,function(u){var h=c.ordinal,A=u.match(/\d+/);if(this.day=A[0],h)for(var b=1;b<=31;b+=1)h(b).replace(/\[|\]/g,"")===u&&(this.day=b)}],w:[e,f("week")],ww:[o,f("week")],M:[e,f("month")],MM:[o,f("month")],MMM:[l,function(u){var h=S("months"),A=(S("monthsShort")||h.map((function(b){return b.slice(0,3)}))).indexOf(u)+1;if(A<1)throw new Error;this.month=A%12||A}],MMMM:[l,function(u){var h=S("months").indexOf(u)+1;if(h<1)throw new Error;this.month=h%12||h}],Y:[/[+-]?\d+/,f("year")],YY:[o,function(u){this.year=p(u)}],YYYY:[/\d{4}/,f("year")],Z:D,ZZ:D};function m(u){var h,A;h=u,A=c&&c.formats;for(var b=(u=h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(O,E,H){var P=H&&H.toUpperCase();return E||A[H]||n[H]||A[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,g,$){return g||$.slice(1)}))}))).match(r),I=b.length,V=0;V<I;V+=1){var k=b[V],v=M[k],y=v&&v[0],Y=v&&v[1];b[V]=Y?{regex:y,parser:Y}:k.replace(/^\[|\]$/g,"")}return function(O){for(var E={},H=0,P=0;H<I;H+=1){var _=b[H];if(typeof _=="string")P+=_.length;else{var g=_.regex,$=_.parser,T=O.slice(P),w=g.exec(T)[0];$.call(E,w),O=O.replace(w,"")}}return(function(L){var j=L.afternoon;if(j!==void 0){var z=L.hours;j?z<12&&(L.hours+=12):z===12&&(L.hours=0),delete L.afternoon}})(E),E}}return function(u,h,A){A.p.customParseFormat=!0,u&&u.parseTwoDigitYear&&(p=u.parseTwoDigitYear);var b=h.prototype,I=b.parse;b.parse=function(V){var k=V.date,v=V.utc,y=V.args;this.$u=v;var Y=y[1];if(typeof Y=="string"){var O=y[2]===!0,E=y[3]===!0,H=O||E,P=y[2];E&&(P=y[2]),c=this.$locale(),!O&&P&&(c=A.Ls[P]),this.$d=(function(T,w,L,j){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*T);var z=m(w)(T),G=z.year,J=z.month,tt=z.day,st=z.hours,U=z.minutes,d=z.seconds,R=z.milliseconds,Z=z.zone,Q=z.week,nt=new Date,K=tt||(G||J?1:nt.getDate()),dt=G||nt.getFullYear(),St=0;G&&!J||(St=J>0?J-1:nt.getMonth());var Ct,Lt=st||0,Ut=U||0,Vt=d||0,jt=R||0;return Z?new Date(Date.UTC(dt,St,K,Lt,Ut,Vt,jt+60*Z.offset*1e3)):L?new Date(Date.UTC(dt,St,K,Lt,Ut,Vt,jt)):(Ct=new Date(dt,St,K,Lt,Ut,Vt,jt),Q&&(Ct=j(Ct).week(Q).toDate()),Ct)}catch{return new Date("")}})(k,Y,v,A),this.init(),P&&P!==!0&&(this.$L=this.locale(P).$L),H&&k!=this.format(Y)&&(this.$d=new Date("")),c={}}else if(Y instanceof Array)for(var _=Y.length,g=1;g<=_;g+=1){y[1]=Y[g-1];var $=A.apply(this,y);if($.isValid()){this.$d=$.$d,this.$L=$.$L,this.init();break}g===_&&(this.$d=new Date(""))}else I.call(this,V)}}}))})(It)),It.exports}var Li=Pi();const Ui=kt(Li);var Ot={exports:{}},Vi=Ot.exports,de;function ji(){return de||(de=1,(function(s,t){(function(n,r){s.exports=r()})(Vi,(function(){var n,r,i=1e3,o=6e4,e=36e5,l=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=31536e6,f=2628e6,D=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,S={years:p,months:f,days:l,hours:e,minutes:o,seconds:i,milliseconds:1,weeks:6048e5},C=function(k){return k instanceof I},M=function(k,v,y){return new I(k,y,v.$l)},m=function(k){return r.p(k)+"s"},u=function(k){return k<0},h=function(k){return u(k)?Math.ceil(k):Math.floor(k)},A=function(k){return Math.abs(k)},b=function(k,v){return k?u(k)?{negative:!0,format:""+A(k)+v}:{negative:!1,format:""+k+v}:{negative:!1,format:""}},I=(function(){function k(y,Y,O){var E=this;if(this.$d={},this.$l=O,y===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Y)return M(y*S[m(Y)],this);if(typeof y=="number")return this.$ms=y,this.parseFromMilliseconds(),this;if(typeof y=="object")return Object.keys(y).forEach((function(_){E.$d[m(_)]=y[_]})),this.calMilliseconds(),this;if(typeof y=="string"){var H=y.match(D);if(H){var P=H.slice(2).map((function(_){return _!=null?Number(_):0}));return this.$d.years=P[0],this.$d.months=P[1],this.$d.weeks=P[2],this.$d.days=P[3],this.$d.hours=P[4],this.$d.minutes=P[5],this.$d.seconds=P[6],this.calMilliseconds(),this}}return this}var v=k.prototype;return v.calMilliseconds=function(){var y=this;this.$ms=Object.keys(this.$d).reduce((function(Y,O){return Y+(y.$d[O]||0)*S[O]}),0)},v.parseFromMilliseconds=function(){var y=this.$ms;this.$d.years=h(y/p),y%=p,this.$d.months=h(y/f),y%=f,this.$d.days=h(y/l),y%=l,this.$d.hours=h(y/e),y%=e,this.$d.minutes=h(y/o),y%=o,this.$d.seconds=h(y/i),y%=i,this.$d.milliseconds=y},v.toISOString=function(){var y=b(this.$d.years,"Y"),Y=b(this.$d.months,"M"),O=+this.$d.days||0;this.$d.weeks&&(O+=7*this.$d.weeks);var E=b(O,"D"),H=b(this.$d.hours,"H"),P=b(this.$d.minutes,"M"),_=this.$d.seconds||0;this.$d.milliseconds&&(_+=this.$d.milliseconds/1e3,_=Math.round(1e3*_)/1e3);var g=b(_,"S"),$=y.negative||Y.negative||E.negative||H.negative||P.negative||g.negative,T=H.format||P.format||g.format?"T":"",w=($?"-":"")+"P"+y.format+Y.format+E.format+T+H.format+P.format+g.format;return w==="P"||w==="-P"?"P0D":w},v.toJSON=function(){return this.toISOString()},v.format=function(y){var Y=y||"YYYY-MM-DDTHH:mm:ss",O={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return Y.replace(c,(function(E,H){return H||String(O[E])}))},v.as=function(y){return this.$ms/S[m(y)]},v.get=function(y){var Y=this.$ms,O=m(y);return O==="milliseconds"?Y%=1e3:Y=O==="weeks"?h(Y/S[O]):this.$d[O],Y||0},v.add=function(y,Y,O){var E;return E=Y?y*S[m(Y)]:C(y)?y.$ms:M(y,this).$ms,M(this.$ms+E*(O?-1:1),this)},v.subtract=function(y,Y){return this.add(y,Y,!0)},v.locale=function(y){var Y=this.clone();return Y.$l=y,Y},v.clone=function(){return M(this.$ms,this)},v.humanize=function(y){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!y)},v.valueOf=function(){return this.asMilliseconds()},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},k})(),V=function(k,v,y){return k.add(v.years()*y,"y").add(v.months()*y,"M").add(v.days()*y,"d").add(v.hours()*y,"h").add(v.minutes()*y,"m").add(v.seconds()*y,"s").add(v.milliseconds()*y,"ms")};return function(k,v,y){n=y,r=y().$utils(),y.duration=function(E,H){var P=y.locale();return M(E,{$l:P},H)},y.isDuration=C;var Y=v.prototype.add,O=v.prototype.subtract;v.prototype.add=function(E,H){return C(E)?V(this,E,1):Y.bind(this)(E,H)},v.prototype.subtract=function(E,H){return C(E)?V(this,E,-1):O.bind(this)(E,H)}}}))})(Ot)),Ot.exports}var Ni=ji();const Hi=kt(Ni),Ri={class:"text-xs text-primary-3 text-center mb-1"},zi=["y1","y2"],Ki=["y1","y2"],Wi=["y"],Zi=["x","y","width","height"],Gi={key:0,class:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none transition-opacity duration-200"},Ji={class:"text-xs text-primary-3 text-center mt-1"},Qi={class:"ml-30"},qi={key:1,class:"flex flex-col items-center justify-center h-full text-primary-3"},gt=800,Xi=1800,tr=157784760,he=1.15,er=50,sr=xt({__name:"VideoTimeline",props:{videos:{default:()=>[]},highlightVideoId:{default:""}},emits:["play"],setup(s,{emit:t}){const n=s,r=t;ut.extend(Oi),ut.extend(Xt),ut.extend(Ui),ut.extend(Hi);const{currentVideos:i}=ft(Dt()),o=et(()=>{const b=c.value.subtract(l.value,"second"),I=c.value;return i.value.filter(V=>{if(!V.createdAt)return!1;const k=ut(V.createdAt);return k.isAfter(b)&&k.isBefore(I)})}),e=b=>{r("play",b)},l=q(1728e3),c=q(ut()),p=q(),f=q(!1),D=[{length:1,label:"s",unitName:"second",format:"HH:mm:ss",maxTimespan:300,alignmentUnit:"second",alignmentDivisor:1,incrementAmount:1,incrementUnit:"second"},{length:60,label:"m",unitName:"minute",format:"HH:mm",maxTimespan:3600,alignmentUnit:"minute",alignmentDivisor:1,incrementAmount:1,incrementUnit:"minute"},{length:900,label:"15m",unitName:"minute",format:"HH:mm",maxTimespan:28800,alignmentUnit:"hour",alignmentDivisor:15,incrementAmount:15,incrementUnit:"minute"},{length:3600,label:"h",unitName:"hour",format:"HH:mm",maxTimespan:129600,alignmentUnit:"hour",alignmentDivisor:1,incrementAmount:1,incrementUnit:"hour"},{length:86400,label:"d",unitName:"day",format:"MMM D",maxTimespan:1209600,alignmentUnit:"day",alignmentDivisor:1,incrementAmount:1,incrementUnit:"day"},{length:604800,label:"w",unitName:"week",format:"MMM D",maxTimespan:23587200,alignmentUnit:"week",alignmentDivisor:1,incrementAmount:1,incrementUnit:"week"},{length:2629746,label:"mo",unitName:"month",format:"MMM YYYY",maxTimespan:315569520,alignmentUnit:"month",alignmentDivisor:1,incrementAmount:1,incrementUnit:"month"},{length:31556952,label:"y",unitName:"year",format:"YYYY",maxTimespan:1/0,alignmentUnit:"year",alignmentDivisor:1,incrementAmount:1,incrementUnit:"year"}],S=et(()=>D.find(b=>l.value<=b.maxTimespan)??D[D.length-1]),C=et(()=>{const b=c.value.subtract(l.value,"second"),I=c.value,V=D.findIndex(P=>P.length===S.value.length),k=V>0?D[V-1]:S.value,v=(P,_,g)=>{const $=[],T=Math.ceil(l.value/g.length);let w;if(g.alignmentDivisor===1)w=P.startOf(g.alignmentUnit);else{const L=P.startOf(g.alignmentUnit),j=P.get(g.alignmentUnit==="hour"?"minute":g.alignmentUnit),z=Math.floor(j/g.alignmentDivisor)*g.alignmentDivisor;w=L.set(g.alignmentUnit==="hour"?"minute":g.alignmentUnit,z)}w.isAfter(P)&&(w=w.subtract(g.incrementAmount,g.incrementUnit));for(let L=0;L<=T+2;L++)$.push(w),w=w.add(g.incrementAmount,g.incrementUnit);return $},y=(P,_,g)=>({y:gt-P.diff(b,"second")/l.value*gt,isMajor:_,time:P,..._&&g?{label:h(P,g)}:{}}),Y=v(b,I,S.value).filter(P=>P.isAfter(b)&&P.isBefore(I)),O=k.length!==S.value.length?v(b,I,k).filter(P=>P.isAfter(b)&&P.isBefore(I)):[],E=Y.map(P=>y(P,!0,S.value)),H=O.map(P=>y(P,!1)).filter(P=>!E.some(_=>Math.abs(_.y-P.y)<2));return[...E,...H].sort((P,_)=>P.y-_.y)}),M=b=>{if(b.length===0)return null;const I=c.value.subtract(l.value,"second"),V=b.map(O=>O.createdAt?ut(O.createdAt):null).filter(O=>O!==null);if(V.length===0)return null;const[k,v]=V.reduce(([O,E],H)=>[H.isBefore(O)?H:O,H.isAfter(E)?H:E],[V[0],V[0]]),y=Math.max(0,Math.min(gt-k.diff(I,"second")/l.value*gt,gt)),Y=Math.max(0,Math.min(gt-v.diff(I,"second")/l.value*gt,gt));return{y:Math.min(y,Y),height:Math.abs(Y-y)||10,x:65,width:19}},m=q(null),u=$e(b=>{m.value=M(b)},150);function h(b,I){return b.format(I.format)}function A(b,I,V){const k=I||V?he*1.5:he;let v=l.value;return b>0?v=Math.min(v*k,tr):v=Math.max(v/k,Xi),v<3600?Math.round(v/30)*30:v<86400?Math.round(v/300)*300:v<604800?Math.round(v/3600)*3600:Math.round(v/86400)*86400}return Ue(p,"wheel",Ve(b=>{b.preventDefault(),b.stopPropagation();const I=A(b.deltaY,b.ctrlKey,b.metaKey);l.value=I},er),{passive:!1}),Gt(()=>{}),(b,I)=>{const V=Ee;return F(),B(ot,null,[a("div",{class:"fixed inset-0 h-screen flex flex-col justify-center pl-3 w-24",onWheel:I[2]||(I[2]=_t(()=>{},["prevent","stop"]))},[a("div",Ri,W(x(c).format("YYYY MMM D")),1),a("div",{class:"relative",onMouseenter:I[0]||(I[0]=k=>f.value=!0),onMouseleave:I[1]||(I[1]=k=>f.value=!1)},[(F(),B("svg",{ref_key:"svgElement",ref:p,class:"",width:"85",height:"800",viewBox:"0 0 85 800",xmlns:"http://www.w3.org/2000/svg"},[(F(!0),B(ot,null,lt(x(C),(k,v)=>(F(),B("g",{key:v},[k.isMajor?(F(),B("line",{key:0,x1:68,x2:80,y1:k.y,y2:k.y,stroke:"currentColor","stroke-width":"2",class:"text-primary-4"},null,8,zi)):(F(),B("line",{key:1,x1:72,x2:80,y1:k.y,y2:k.y,stroke:"currentColor","stroke-width":"1",class:"text-primary-3"},null,8,Ki)),k.isMajor&&k.label?(F(),B("text",{key:2,x:60,y:k.y+4,class:"text-xs fill-primary-3","text-anchor":"end"},W(k.label),9,Wi)):X("",!0)]))),128)),x(m)?(F(),B("rect",{key:0,x:x(m).x,y:x(m).y,width:x(m).width,height:x(m).height,class:"fill-accent stroke-accent stroke-2","fill-opacity":"0.3","stroke-opacity":"1",rx:"4",ry:"4",style:{transition:"all 0.3s ease-in-out"}},null,8,Zi)):X("",!0)],512)),x(f)?(F(),B("div",Gi,[...I[3]||(I[3]=[xe('<div class="flex flex-col items-center mb-4 text-accent animate-pulse"><div class="i-mdi-chevron-up text-2xl mb-1"></div><div class="i-mdi-magnify-plus text-lg"></div></div><div class="flex items-center justify-center mb-4"><div class="i-mdi-mouse text-3xl text-accent"></div></div><div class="flex flex-col items-center text-accent animate-pulse"><div class="i-mdi-magnify-minus text-lg"></div><div class="i-mdi-chevron-down text-2xl mt-1"></div></div>',3)])])):X("",!0)],32),a("div",Ji,W(x(c).subtract(x(l),"second").format("YYYY MMM D")),1)],32),a("div",Qi,[x(o).length>0?(F(),bt(V,{key:0,videos:x(o),"highlight-video-id":n.highlightVideoId,onPlay:e,onVisibleVideosChange:x(u)},null,8,["videos","highlight-video-id","onVisibleVideosChange"])):(F(),B("div",qi,[...I[4]||(I[4]=[a("div",{class:"i-mdi-calendar-remove text-6xl mb-4 opacity-50"},null,-1),a("p",{class:"text-lg"},"No videos found in this time range",-1)])]))])],64)}}}),nr=Object.assign(sr,{__name:"VideoTimeline"}),ir={class:"pt-24"},rr={key:0,class:"flex items-center justify-center py-12"},or={key:1,class:"bg-primary-1 border border-primary-2 rounded-lg p-6 m-8"},ar={class:"flex items-center gap-2 text-primary-3"},lr={key:2,class:"text-center py-12"},ur={key:3,class:"flex flex-col gap-12 pt-6 pb-12"},gr=xt({__name:"index",setup(s){Pe({title:"Music Playlist View",meta:[{name:"description",content:"Browse your cached YouTube playlists"}]});const{loadFirstPlaylist:t,findVideoIndex:n}=Dt(),{currentPlaylist:r,currentVideos:i,loading:o,error:e,hasCurrentPlaylist:l}=ft(Dt()),{viewMode:c}=ft(Mt()),{currentVideo:p}=ft(ee()),{initializeGlobalPlayer:f}=ee(),D=q("");Gt(async()=>{await t()});const S=C=>{if(!r.value)return;const M=n(C.id);M!==-1&&(D.value=C.id,f(M))};return At([p],([C])=>{C?D.value=C.id:D.value=""}),(C,M)=>{const m=Tn,u=Ee,h=Fi,A=nr;return F(),B("div",ir,[x(o)?(F(),B("div",rr,[...M[0]||(M[0]=[a("div",{class:"flex items-center gap-3 text-primary-3"},[a("div",{class:"i-mdi-loading animate-spin text-2xl"}),a("span",null,"Loading playlist...")],-1)])])):x(e)?(F(),B("div",or,[a("div",ar,[M[1]||(M[1]=a("div",{class:"i-mdi-alert-circle"},null,-1)),M[2]||(M[2]=a("strong",null,"Error:",-1)),at(" "+W(x(e)),1)])])):x(l)?(F(),B("div",ur,[it(m),x(c)==="grid"?(F(),bt(u,{key:0,videos:x(i),"highlight-video-id":x(D),onPlay:S},null,8,["videos","highlight-video-id"])):x(c)==="list"?(F(),bt(h,{key:1,videos:x(i),"highlight-video-id":x(D),onPlay:S},null,8,["videos","highlight-video-id"])):x(c)==="timeline"?(F(),bt(A,{key:2,"highlight-video-id":x(D),videos:x(i),onPlay:S},null,8,["highlight-video-id","videos"])):X("",!0)])):(F(),B("div",lr,[...M[3]||(M[3]=[a("div",{class:"i-mdi-playlist-remove text-6xl text-primary-3 mb-4"},null,-1),a("h3",{class:"text-xl font-semibold mb-2"},"No Playlists Found",-1),a("p",{class:"text-primary-3 mb-6"}," No cached playlists are available. Use the admin panel to fetch playlists from YouTube. ",-1)])]))])}}});export{gr as default};
