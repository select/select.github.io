import{h as O,G as I,x as H,H as de,I as we,y as fe,s as ge,J as q,K as ve,L as Pe,q as pe,M as K,N as Te,O as ke,p as M,P as V,D as ae,g as Ie,i as xe,Q as ee,z as Ee}from"./CM1HWy8f.js";import{D as X}from"./cTjeiag2.js";function G(e,t){return de()?(we(e,t),!0):!1}const Z=new WeakMap,Ae=(...e)=>{var t;const n=e[0],r=(t=q())===null||t===void 0?void 0:t.proxy,l=r??de();if(l==null&&!ve())throw new Error("injectLocal must be called in setup");return l&&Z.has(l)&&n in Z.get(l)?Z.get(l)[n]:Pe(...e)},Ve=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const me=e=>e!=null,De=Object.prototype.toString,Oe=e=>De.call(e)==="[object Object]",L=()=>{};function Me(...e){if(e.length!==1)return Te(...e);const t=e[0];return typeof t=="function"?K(ke(()=>({get:t,set:L}))):O(t)}function te(e,t){function n(...r){return new Promise((l,u)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(l).catch(u)})}return n}const ye=e=>e();function Fe(e,t={}){let n,r,l=L;const u=i=>{clearTimeout(i),l(),l=L};let f;return i=>{const c=I(e),d=I(t.maxWait);return n&&u(n),c<=0||d!==void 0&&d<=0?(r&&(u(r),r=void 0),Promise.resolve(i())):new Promise((s,y)=>{l=t.rejectOnCancel?y:s,f=i,d&&!r&&(r=setTimeout(()=>{n&&u(n),r=void 0,s(f())},d)),n=setTimeout(()=>{r&&u(r),r=void 0,s(i())},c)})}}function Re(...e){let t=0,n,r=!0,l=L,u,f,o,i,c;!ge(e[0])&&typeof e[0]=="object"?{delay:f,trailing:o=!0,leading:i=!0,rejectOnCancel:c=!1}=e[0]:[f,o=!0,i=!0,c=!1]=e;const d=()=>{n&&(clearTimeout(n),n=void 0,l(),l=L)};return y=>{const m=I(f),b=Date.now()-t,T=()=>u=y();return d(),m<=0?(t=Date.now(),T()):(b>m?(t=Date.now(),(i||!r)&&T()):o&&(u=new Promise((w,k)=>{l=c?k:w,n=setTimeout(()=>{t=Date.now(),r=!0,w(T()),d()},Math.max(0,m-b))})),!i&&!n&&(n=setTimeout(()=>r=!0,m)),r=!1,u)}}function Ce(e=ye,t={}){const{initialState:n="active"}=t,r=Me(n==="active");function l(){r.value=!1}function u(){r.value=!0}const f=(...o)=>{r.value&&e(...o)};return{isActive:K(r),pause:l,resume:u,eventFilter:f}}function le(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function J(e){return Array.isArray(e)?e:[e]}function We(e){return q()}function Le(e,t=200,n={}){return te(Fe(t,n),e)}function he(e,t=200,n=!1,r=!0,l=!1){return te(Re(t,n,r,l),e)}function nt(e,t=200,n=!0,r=!0){if(t<=0)return e;const l=O(I(e)),u=he(()=>{l.value=e.value},t,n,r);return H(e,()=>u()),l}function Ne(e,t,n={}){const{eventFilter:r=ye,...l}=n;return H(e,te(r,t),l)}function ze(e,t,n={}){const{eventFilter:r,initialState:l="active",...u}=n,{eventFilter:f,pause:o,resume:i,isActive:c}=Ce(r,{initialState:l});return{stop:Ne(e,t,{...u,eventFilter:f}),pause:o,resume:i,isActive:c}}const He=ze;function Y(e,t=!0,n){We()?pe(e,n):t?e():fe(e)}function _e(e,t,n){return H(e,t,{...n,immediate:!0})}const C=Ve?window:void 0;function N(e){var t;const n=I(e);return(t=n?.$el)!==null&&t!==void 0?t:n}function z(...e){const t=[],n=()=>{t.forEach(o=>o()),t.length=0},r=(o,i,c,d)=>(o.addEventListener(i,c,d),()=>o.removeEventListener(i,c,d)),l=M(()=>{const o=J(I(e[0])).filter(i=>i!=null);return o.every(i=>typeof i!="string")?o:void 0}),u=_e(()=>{var o,i;return[(o=(i=l.value)===null||i===void 0?void 0:i.map(c=>N(c)))!==null&&o!==void 0?o:[C].filter(c=>c!=null),J(I(l.value?e[1]:e[0])),J(Ie(l.value?e[2]:e[1])),I(l.value?e[3]:e[2])]},([o,i,c,d])=>{if(n(),!o?.length||!i?.length||!c?.length)return;const s=Oe(d)?{...d}:d;t.push(...o.flatMap(y=>i.flatMap(m=>c.map(b=>r(y,m,b,s)))))},{flush:"post"}),f=()=>{u(),n()};return G(n),f}function je(){const e=V(!1),t=q();return t&&pe(()=>{e.value=!0},t),e}function Q(e){const t=je();return M(()=>(t.value,!!e()))}function Se(e,t,n={}){const{window:r=C,...l}=n;let u;const f=Q(()=>r&&"MutationObserver"in r),o=()=>{u&&(u.disconnect(),u=void 0)},i=H(M(()=>{const s=J(I(e)).map(N).filter(me);return new Set(s)}),s=>{o(),f.value&&s.size&&(u=new MutationObserver(t),s.forEach(y=>u.observe(y,l)))},{immediate:!0,flush:"post"}),c=()=>u?.takeRecords(),d=()=>{i(),o()};return G(d),{isSupported:f,stop:d,takeRecords:c}}const Be=Symbol("vueuse-ssr-width");function Je(){const e=ve()?Ae(Be,null):null;return typeof e=="number"?e:void 0}function Ue(e,t={}){const{window:n=C,ssrWidth:r=Je()}=t,l=Q(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),u=V(typeof r=="number"),f=V(),o=V(!1),i=c=>{o.value=c.matches};return xe(()=>{if(u.value){u.value=!l.value,o.value=I(e).split(",").some(c=>{const d=c.includes("not all"),s=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),y=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(s||y);return s&&m&&(m=r>=le(s[1])),y&&m&&(m=r<=le(y[1])),d?!m:m});return}l.value&&(f.value=n.matchMedia(I(e)),o.value=f.value.matches)}),z(f,"change",i,{passive:!0}),M(()=>o.value)}const U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$="__vueuse_ssr_handlers__",$e=Ke();function Ke(){return $ in U||(U[$]=U[$]||{}),U[$]}function Ge(e,t){return $e[e]||t}function Ye(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Qe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},ie="vueuse-storage";function ue(e,t,n,r={}){var l;const{flush:u="pre",deep:f=!0,listenToStorageChanges:o=!0,writeDefaults:i=!0,mergeDefaults:c=!1,shallow:d,window:s=C,eventFilter:y,onError:m=h=>{console.error(h)},initOnMounted:b}=r,T=(d?V:O)(typeof t=="function"?t():t),w=M(()=>I(e));if(!n)try{n=Ge("getDefaultStorage",()=>C?.localStorage)()}catch(h){m(h)}if(!n)return T;const k=I(t),A=Ye(k),D=(l=r.serializer)!==null&&l!==void 0?l:Qe[A],{pause:a,resume:g}=He(T,h=>W(h),{flush:u,deep:f,eventFilter:y});H(w,()=>R(),{flush:u});let x=!1;const v=h=>{b&&!x||R(h)},P=h=>{b&&!x||_(h)};s&&o&&(n instanceof Storage?z(s,"storage",v,{passive:!0}):z(s,ie,P)),b?Y(()=>{x=!0,R()}):R();function p(h,S){if(s){const E={key:w.value,oldValue:h,newValue:S,storageArea:n};s.dispatchEvent(n instanceof Storage?new StorageEvent("storage",E):new CustomEvent(ie,{detail:E}))}}function W(h){try{const S=n.getItem(w.value);if(h==null)p(S,null),n.removeItem(w.value);else{const E=D.write(h);S!==E&&(n.setItem(w.value,E),p(S,E))}}catch(S){m(S)}}function F(h){const S=h?h.newValue:n.getItem(w.value);if(S==null)return i&&k!=null&&n.setItem(w.value,D.write(k)),k;if(!h&&c){const E=D.read(S);return typeof c=="function"?c(E,k):A==="object"&&!Array.isArray(E)?{...k,...E}:E}else return typeof S!="string"?S:D.read(S)}function R(h){if(!(h&&h.storageArea!==n)){if(h&&h.key==null){T.value=k;return}if(!(h&&h.key!==w.value)){a();try{const S=D.write(T.value);(h===void 0||h?.newValue!==S)&&(T.value=F(h))}catch(S){m(S)}finally{h?fe(g):g()}}}}function _(h){R(h.detail)}return T}function Xe(e,t,n={}){const{window:r=C,...l}=n;let u;const f=Q(()=>r&&"ResizeObserver"in r),o=()=>{u&&(u.disconnect(),u=void 0)},i=H(M(()=>{const d=I(e);return Array.isArray(d)?d.map(s=>N(s)):[N(d)]}),d=>{if(o(),f.value&&r){u=new ResizeObserver(t);for(const s of d)s&&u.observe(s,l)}},{immediate:!0,flush:"post"}),c=()=>{o(),i()};return G(c),{isSupported:f,stop:c}}function ot(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:l=!0,immediate:u=!0,updateTiming:f="sync"}=t,o=V(0),i=V(0),c=V(0),d=V(0),s=V(0),y=V(0),m=V(0),b=V(0);function T(){const k=N(e);if(!k){n&&(o.value=0,i.value=0,c.value=0,d.value=0,s.value=0,y.value=0,m.value=0,b.value=0);return}const A=k.getBoundingClientRect();o.value=A.height,i.value=A.bottom,c.value=A.left,d.value=A.right,s.value=A.top,y.value=A.width,m.value=A.x,b.value=A.y}function w(){f==="sync"?T():f==="next-frame"&&requestAnimationFrame(()=>T())}return Xe(e,w),H(()=>N(e),k=>!k&&w()),Se(e,w,{attributeFilter:["style","class"]}),l&&z("scroll",w,{capture:!0,passive:!0}),r&&z("resize",w,{passive:!0}),Y(()=>{u&&w()}),{height:o,bottom:i,left:c,right:d,top:s,width:y,x:m,y:b,update:w}}function rt(e,t,n={}){const{root:r,rootMargin:l="0px",threshold:u=0,window:f=C,immediate:o=!0}=n,i=Q(()=>f&&"IntersectionObserver"in f),c=M(()=>J(I(e)).map(N).filter(me));let d=L;const s=V(o),y=i.value?H(()=>[c.value,N(r),s.value],([b,T])=>{if(d(),!s.value||!b.length)return;const w=new IntersectionObserver(t,{root:N(T),rootMargin:l,threshold:u});b.forEach(k=>k&&w.observe(k)),d=()=>{w.disconnect(),d=L}},{immediate:o,flush:"post"}):L,m=()=>{d(),y(),s.value=!1};return G(m),{isSupported:i,isActive:s,pause(){d(),s.value=!1},resume(){s.value=!0},stop:m}}const ce=1;function Ze(e,t={}){const{throttle:n=0,idle:r=200,onStop:l=L,onScroll:u=L,offset:f={left:0,right:0,top:0,bottom:0},observe:o={mutation:!1},eventListenerOptions:i={capture:!1,passive:!0},behavior:c="auto",window:d=C,onError:s=p=>{console.error(p)}}=t,y=typeof o=="boolean"?{mutation:o}:o,m=V(0),b=V(0),T=M({get(){return m.value},set(p){k(p,void 0)}}),w=M({get(){return b.value},set(p){k(void 0,p)}});function k(p,W){var F,R,_,h;if(!d)return;const S=I(e);if(!S)return;(F=S instanceof Document?d.document.body:S)===null||F===void 0||F.scrollTo({top:(R=I(W))!==null&&R!==void 0?R:w.value,left:(_=I(p))!==null&&_!==void 0?_:T.value,behavior:I(c)});const E=(S==null||(h=S.document)===null||h===void 0?void 0:h.documentElement)||S?.documentElement||S;T!=null&&(m.value=E.scrollLeft),w!=null&&(b.value=E.scrollTop)}const A=V(!1),D=ae({left:!0,right:!1,top:!0,bottom:!1}),a=ae({left:!1,right:!1,top:!1,bottom:!1}),g=p=>{A.value&&(A.value=!1,a.left=!1,a.right=!1,a.top=!1,a.bottom=!1,l(p))},x=Le(g,n+r),v=p=>{var W;if(!d)return;const F=(p==null||(W=p.document)===null||W===void 0?void 0:W.documentElement)||p?.documentElement||N(p),{display:R,flexDirection:_,direction:h}=getComputedStyle(F),S=h==="rtl"?-1:1,E=F.scrollLeft;a.left=E<m.value,a.right=E>m.value;const ne=Math.abs(E*S)<=(f.left||0),oe=Math.abs(E*S)+F.clientWidth>=F.scrollWidth-(f.right||0)-ce;R==="flex"&&_==="row-reverse"?(D.left=oe,D.right=ne):(D.left=ne,D.right=oe),m.value=E;let j=F.scrollTop;p===d.document&&!j&&(j=d.document.body.scrollTop),a.top=j<b.value,a.bottom=j>b.value;const re=Math.abs(j)<=(f.top||0),se=Math.abs(j)+F.clientHeight>=F.scrollHeight-(f.bottom||0)-ce;R==="flex"&&_==="column-reverse"?(D.top=se,D.bottom=re):(D.top=re,D.bottom=se),b.value=j},P=p=>{var W;d&&(v((W=p.target.documentElement)!==null&&W!==void 0?W:p.target),A.value=!0,x(p),u(p))};return z(e,"scroll",n?he(P,n,!0,!1):P,i),Y(()=>{try{const p=I(e);if(!p)return;v(p)}catch(p){s(p)}}),y?.mutation&&e!=null&&e!==d&&e!==document&&Se(e,()=>{const p=I(e);p&&v(p)},{attributes:!0,childList:!0,subtree:!0}),z(e,"scrollend",g,i),{x:T,y:w,isScrolling:A,arrivedState:D,directions:a,measure(){const p=I(e);d&&p&&v(p)}}}function st(e={}){const{window:t=C,...n}=e;return Ze(t,n)}function at(e={}){const{window:t=C,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:l=!0,includeScrollbar:u=!0,type:f="inner"}=e,o=V(n),i=V(r),c=()=>{if(t)if(f==="outer")o.value=t.outerWidth,i.value=t.outerHeight;else if(f==="visual"&&t.visualViewport){const{width:s,height:y,scale:m}=t.visualViewport;o.value=Math.round(s*m),i.value=Math.round(y*m)}else u?(o.value=t.innerWidth,i.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,i.value=t.document.documentElement.clientHeight)};c(),Y(c);const d={passive:!0};return z("resize",c,d),t&&f==="visual"&&t.visualViewport&&z(t.visualViewport,"resize",c,d),l&&H(Ue("(orientation: portrait)"),()=>c()),{width:o,height:i}}const be=ee("playlistStore",()=>{const e=O(null),t=O(null),n=O(!1),r=O(""),l=M(()=>e.value!==null),u=M(()=>e.value?.videos||[]),f=s=>[...s].sort((y,m)=>y.createdAt&&!m.createdAt?-1:!y.createdAt&&m.createdAt?1:y.createdAt&&m.createdAt?m.createdAt-y.createdAt:0),o=s=>({...s,videos:f(s.videos)});return{currentPlaylist:e,loading:n,error:r,hasCurrentPlaylist:l,originalCurrentPlaylist:t,currentVideos:u,loadFirstPlaylist:async()=>{try{n.value=!0,r.value="";const s=await $fetch("/index.json");if(!s.success||!s.data.length){e.value=null,t.value=null;return}const y=s.data[0],m=await $fetch(`/playlist/${y?.fileName}`),b=o(m);e.value=b,t.value=JSON.parse(JSON.stringify(b))}catch(s){console.error("Error loading first playlist:",s),r.value=s.data?.message||s.message||"Failed to load playlist",e.value=null,t.value=null}finally{n.value=!1}},setCurrentPlaylistVideos:s=>{e.value&&(e.value={...e.value,videos:s})},findVideoIndex:s=>e.value?e.value.videos.findIndex(y=>y.id===s):-1,sortVideosByCreatedAt:f}}),B=ee("Player",()=>{const e=O(!1),t=O(null),n=O(0),r=O(!1),l=O(!1),u=O(!1),f=O(null),{currentVideos:o}=Ee(be()),i=M(()=>t.value?o.value.findIndex(P=>P.id===t.value?.id)>0:!1),c=M(()=>{if(!t.value)return!1;const v=o.value.findIndex(P=>P.id===t.value?.id);return v===-1?o.value.length>0:v<o.value.length-1}),d=v=>{t.value=v,l.value=!!v},s=v=>{e.value=v},y=v=>{r.value=v},m=v=>{f.value=v},b=()=>{!f.value||!r.value||(e.value?f.value.pauseVideo():f.value.playVideo())},T=v=>{v>=0&&v<o.value.length&&(n.value=v,t.value=o.value[v]||null)};return{isPlaying:e,currentVideo:t,currentIndex:n,isPlayerReady:r,showPlayerBar:l,isFloatingPlayerOpen:u,canPlayPrevious:i,canPlayNext:c,setCurrentVideo:d,setIsPlaying:s,setIsPlayerReady:y,setCurrentIndex:T,setYouTubePlayerInstance:m,togglePlayPause:b,previousVideo:()=>{if(!t.value)return;const v=o.value.findIndex(P=>P.id===t.value?.id);if(v>0){const P=v-1;n.value=P,t.value=o.value[P]||null}},nextVideo:()=>{if(!t.value)return;const v=o.value.findIndex(P=>P.id===t.value?.id);if(v!==-1&&v<o.value.length-1){const P=v+1;n.value=P,t.value=o.value[P]||null}else v===-1&&o.value.length>0&&(n.value=0,t.value=o.value[0]||null)},playVideo:v=>{T(v)},closePlayer:()=>{l.value=!1,u.value=!1,t.value=null,e.value=!1,r.value=!1,f.value=null},initializeGlobalPlayer:(v=0)=>{T(v),l.value=!0,u.value=!0},openFloatingPlayer:()=>{u.value=!0},closeFloatingPlayer:()=>{u.value=!1}}}),qe={simple:{playPause:" ",nextTrack:"ArrowRight",previousTrack:"ArrowLeft",volumeUp:"ArrowUp",volumeDown:"ArrowDown",mute:"m",seekForward:"l",seekBackward:"j",focusSearch:"ctrl+k"},winamp:{playPause:"c",nextTrack:"b",previousTrack:"z",volumeUp:"ArrowUp",volumeDown:"ArrowDown",mute:"m",seekForward:"v",seekBackward:"c",focusSearch:"ctrl+k"},youtube:{playPause:"k",nextTrack:"n",previousTrack:"p",volumeUp:"ArrowUp",volumeDown:"ArrowDown",mute:"m",seekForward:"l",seekBackward:"j",focusSearch:"ctrl+k"}},lt=ee("userSettingsStore",()=>{const e=O({keyboardShortcutScheme:"winamp",selectedPlatforms:X}),t=O(!0),n=ue("video-view-mode","list"),r=ue("video-player-position",{x:100,y:100,width:320,height:240}),l=M(()=>e.value.customShortcuts?e.value.customShortcuts:qe[e.value.keyboardShortcutScheme]),u=M(()=>[{value:"simple",label:"Simple (Space, Arrow Keys)"},{value:"winamp",label:"Winamp Style (X, Z, B, C, V)"},{value:"youtube",label:"YouTube Style (K, J, L, N, P)"}]),f=a=>{e.value.keyboardShortcutScheme=a,e.value.customShortcuts=void 0,s()},o=a=>{e.value.selectedPlatforms=a,s()},i=()=>{e.value={keyboardShortcutScheme:"simple",selectedPlatforms:X},s()},c=()=>{t.value=!0},d=()=>{t.value=!1},s=()=>{localStorage.setItem("userSettings",JSON.stringify(e.value))},y=()=>{try{const a=localStorage.getItem("userSettings");if(a){const g=JSON.parse(a);e.value={keyboardShortcutScheme:g.keyboardShortcutScheme||"simple",customShortcuts:g.customShortcuts,selectedPlatforms:g.selectedPlatforms||X}}}catch(a){console.warn("Failed to load user settings:",a),i()}},m=a=>{if(!t.value)return;const g=B();if(!b(a,g)&&a.ctrlKey&&a.key.toLowerCase()==="k"){a.preventDefault();const v=document.getElementById("search");v&&v.focus()}},b=(a,g)=>{const x=a.target;if(x instanceof HTMLInputElement||x instanceof HTMLTextAreaElement||x instanceof HTMLSelectElement||x?.contentEditable==="true"||x?.closest("input, textarea, select, [contenteditable]")||x?.closest("[class*='input'], [class*='select'], [class*='dropdown']")||x?.closest("[role='textbox'], [role='combobox'], [role='searchbox']")||x?.closest("[data-input], [data-multiselect]"))return!1;const v=l.value,P=a.key.toLowerCase();let p=!1;return P===v.playPause||e.value.keyboardShortcutScheme==="youtube"&&P===" "?(a.preventDefault(),g.togglePlayPause(),p=!0):P===v.nextTrack?(a.preventDefault(),g.nextVideo(),p=!0):P===v.previousTrack?(a.preventDefault(),g.previousVideo(),p=!0):(P===v.mute||P===v.volumeUp||P===v.volumeDown||P===v.seekForward||P===v.seekBackward)&&(a.preventDefault(),p=!0),p},T=()=>{document.addEventListener("keydown",m)},w=()=>{document.removeEventListener("keydown",m)},k=()=>{if(!("mediaSession"in navigator))return;const a=B();try{navigator.mediaSession.setActionHandler("play",()=>{a.youtubePlayerInstance&&a.isPlayerReady&&a.youtubePlayerInstance.playVideo()}),navigator.mediaSession.setActionHandler("pause",()=>{a.youtubePlayerInstance&&a.isPlayerReady&&a.youtubePlayerInstance.pauseVideo()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{B().previousVideo()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{B().nextVideo()}),navigator.mediaSession.setActionHandler("seekbackward",()=>{if(a.youtubePlayerInstance&&a.isPlayerReady){const g=a.youtubePlayerInstance.getCurrentTime();a.youtubePlayerInstance.seekTo(Math.max(0,g-10))}}),navigator.mediaSession.setActionHandler("seekforward",()=>{if(a.youtubePlayerInstance&&a.isPlayerReady){const g=a.youtubePlayerInstance.getCurrentTime();a.youtubePlayerInstance.seekTo(g+10)}})}catch{}},A=a=>{if(!("mediaSession"in navigator)||!a)return;const g=B();be(),navigator.mediaSession.metadata=new MediaMetadata({title:a.title||"Unknown Title",artist:a.artist||"Unknown Artist",album:a.album||void 0,artwork:a.thumbnail?[{src:a.thumbnail,sizes:"512x512",type:"image/jpeg"}]:void 0});try{if(g.youtubePlayerInstance&&g.isPlayerReady){const x=g.youtubePlayerInstance.getDuration(),v=g.youtubePlayerInstance.getCurrentTime()||0;x&&x>0&&navigator.mediaSession.setPositionState({duration:x,playbackRate:1,position:v})}}catch{}},D=a=>{"mediaSession"in navigator&&(navigator.mediaSession.playbackState=a)};return y(),T(),k(),{settings:K(e),shortcutsEnabled:K(t),viewMode:n,videoPlayerPosition:r,currentKeyboardShortcuts:l,availableShortcutSchemes:u,setKeyboardShortcutScheme:f,setSelectedPlatforms:o,resetToDefaults:i,loadSettings:y,saveSettings:s,handleKeyboardEvent:b,enableShortcuts:c,disableShortcuts:d,setupGlobalListeners:T,cleanupGlobalListeners:w,setupMediaSession:k,updateMediaSessionMetadata:A,updateMediaSessionPlaybackState:D}});export{be as a,rt as b,Le as c,st as d,ot as e,at as f,z as g,he as h,B as i,nt as r,lt as u};
